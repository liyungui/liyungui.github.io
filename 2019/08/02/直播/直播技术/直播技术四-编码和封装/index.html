<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="直播," />










<meta name="description" content="编码性能、编码速度和编码压缩比会直接影响整个流媒体传输的用户体验和传输成本。 编码完成后需要把内容按照一定标准封装到一个多媒体容器 视频编码的意义原始视频数据存储空间大，一个 1080P 50帧/秒 位宽(每个像素点位数)8bit 视频的码率为需要 937.5 Mbps，需要千兆上行宽带才能满足实时传输需求。而经过 H.264 编码压缩之后，视频码率只有 809 Kbps ,1 Mbps 的上行带">
<meta name="keywords" content="直播">
<meta property="og:type" content="article">
<meta property="og:title" content="直播技术四-编码和封装">
<meta property="og:url" content="http://yoursite.com/2019/08/02/直播/直播技术/直播技术四-编码和封装/index.html">
<meta property="og:site_name" content="风">
<meta property="og:description" content="编码性能、编码速度和编码压缩比会直接影响整个流媒体传输的用户体验和传输成本。 编码完成后需要把内容按照一定标准封装到一个多媒体容器 视频编码的意义原始视频数据存储空间大，一个 1080P 50帧/秒 位宽(每个像素点位数)8bit 视频的码率为需要 937.5 Mbps，需要千兆上行宽带才能满足实时传输需求。而经过 H.264 编码压缩之后，视频码率只有 809 Kbps ,1 Mbps 的上行带">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://yoursite.com/2019/08/02/直播/直播技术/直播技术四-编码和封装/帧内编码.png">
<meta property="og:image" content="http://yoursite.com/2019/08/02/直播/直播技术/直播技术四-编码和封装/帧间编码.png">
<meta property="og:image" content="http://yoursite.com/2019/08/02/直播/直播技术/直播技术四-编码和封装/编码流程.png">
<meta property="og:updated_time" content="2020-04-02T08:17:30.864Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="直播技术四-编码和封装">
<meta name="twitter:description" content="编码性能、编码速度和编码压缩比会直接影响整个流媒体传输的用户体验和传输成本。 编码完成后需要把内容按照一定标准封装到一个多媒体容器 视频编码的意义原始视频数据存储空间大，一个 1080P 50帧/秒 位宽(每个像素点位数)8bit 视频的码率为需要 937.5 Mbps，需要千兆上行宽带才能满足实时传输需求。而经过 H.264 编码压缩之后，视频码率只有 809 Kbps ,1 Mbps 的上行带">
<meta name="twitter:image" content="http://yoursite.com/2019/08/02/直播/直播技术/直播技术四-编码和封装/帧内编码.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/08/02/直播/直播技术/直播技术四-编码和封装/"/>





  <title>直播技术四-编码和封装 | 风</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">风</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">技术博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/直播/直播技术/直播技术四-编码和封装/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">直播技术四-编码和封装</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-02T10:26:14+08:00">
                2019-08-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/直播/" itemprop="url" rel="index">
                    <span itemprop="name">直播</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><strong>编码性能、编码速度和编码压缩比</strong>会直接影响整个流媒体传输的用户体验和传输成本。</p>
<p>编码完成后需要把内容按照一定标准封装到一个多媒体容器</p>
<h1 id="视频编码的意义"><a href="#视频编码的意义" class="headerlink" title="视频编码的意义"></a>视频编码的意义</h1><p>原始视频数据存储空间大，一个 1080P 50帧/秒 位宽(每个像素点位数)8bit 视频的码率为需要 937.5 Mbps，需要千兆上行宽带才能满足实时传输需求。而经过 H.264 编码压缩之后，视频码率只有 809 Kbps ,1 Mbps 的上行带宽就可以满足实时传输需求。所以从视频采集传感器采集来的原始视频势必要经过视频编码。</p>
<h1 id="视频编码原理"><a href="#视频编码原理" class="headerlink" title="视频编码原理"></a>视频编码原理</h1><h2 id="编码原理"><a href="#编码原理" class="headerlink" title="编码原理"></a>编码原理</h2><p>核心思想就是<strong>去除冗余信息</strong></p>
<p><strong>空间冗余</strong>：图像相邻像素之间有较强的相关性</p>
<p><strong>时间冗余</strong>：视频序列的相邻图像之间内容相似</p>
<p><strong>编码冗余</strong>：不同像素值出现的概率不同</p>
<p><strong>视觉冗余</strong>：人的视觉系统对某些细节不敏感</p>
<p><strong>知识冗余</strong>：规律性的结构可由先验知识和背景知识得到</p>
<h2 id="帧内编码"><a href="#帧内编码" class="headerlink" title="帧内编码"></a>帧内编码</h2><p><strong>帧内编码</strong>：对每一帧图片进行压缩编码</p>
<img src="/2019/08/02/直播/直播技术/直播技术四-编码和封装/帧内编码.png">
<p> <strong>MJPEG</strong> 编码就是这种编码方式，这种编码方式只有帧内编码，利用<strong>空间上的取样预测</strong>来编码。去除 <strong>空间冗余</strong></p>
<p>如图，绿色的部分就是当前待编码的区域，灰色就是尚未编码的区域，绿色区域可以根据已经编码的部分进行预测</p>
<h2 id="帧间编码"><a href="#帧间编码" class="headerlink" title="帧间编码"></a>帧间编码</h2><p><strong>帧间编码</strong>：帧和帧之间有时间的相关性，通过搜索算法选定了帧上的某些区域，然后通过计算当前帧和前后参考帧的向量差进行编码</p>
<img src="/2019/08/02/直播/直播技术/直播技术四-编码和封装/帧间编码.png">
<p>通过上面两个图 连续帧我们可以看到，滑雪的同学是向前位移的，但实际上是<strong>雪景在向后位移</strong>，P 帧通过参考帧（I 或其他 P 帧）就可以进行编码了，编码之后的大小非常小，压缩比非常高</p>
<p>上面两张图片的生成方式：</p>
<ul>
<li>生成带有移动矢量的视频</li>
<li>把每一帧都输出成图片</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg  -flags2 +export_mvs -i tutu.mp4 -vf codecview=mv=pf+bf+bb tutudebug2.mp4</span><br><span class="line"></span><br><span class="line">ffmpeg -i tutudebug2.mp4 &apos;tutunormal-%03d.bmp&apos;</span><br></pre></td></tr></table></figure>
<h2 id="编码流程"><a href="#编码流程" class="headerlink" title="编码流程"></a>编码流程</h2><img src="/2019/08/02/直播/直播技术/直播技术四-编码和封装/编码流程.png">
<p>编码流程是把帧内编码和帧间编码结合在一起</p>
<p>我们通常说的 I 帧和 P 帧就是分别采用了帧内编码和帧间编码</p>
<h1 id="编码器的选择"><a href="#编码器的选择" class="headerlink" title="编码器的选择"></a>编码器的选择</h1><h2 id="H-264-AVC"><a href="#H-264-AVC" class="headerlink" title="H.264/AVC"></a>H.264/AVC</h2><h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><p>AVC（Advanced Video Coding）高级视频编码</p>
<p>H.264/AVC <strong>低成本实现</strong>在<strong>更低带宽</strong>下提供优质视频（只有 MPEG-2，H.263 或 MPEG-4 第 2 部分的一半带宽或更少）</p>
<ul>
<li>不增加太多设计复杂度使得无法实现或实现成本过高</li>
<li>提供足够的灵活性，以在各种应用、网络及系统中使用</li>
</ul>
<p>这样的技术基础让 H.264 成为包括 YouTube 在内的在线视频公司采用它作为主要的编解码器。</p>
<h3 id="专利许可"><a href="#专利许可" class="headerlink" title="专利许可"></a>专利许可</h3><p>理论上讲使用 H.264 需要交纳不菲的专利费用。</p>
<h3 id="开源实现"><a href="#开源实现" class="headerlink" title="开源实现"></a>开源实现</h3><p>OpenH264、x264</p>
<h4 id="OpenH264"><a href="#OpenH264" class="headerlink" title="OpenH264"></a>OpenH264</h4><p>思科实现的开源 H.264 编码，思科把 OpenH264 实现的年度专利费交满后，OpenH264 事实上就可以免费自由的使用了。</p>
<h4 id="x264"><a href="#x264" class="headerlink" title="x264"></a>x264</h4><p>采用 GPL 授权的视频编码自由软件。x264 的主要功能在于进行 H.264/MPEG-4 AVC 的视频编码，而不是作为解码器（decoder）之用。</p>
<h4 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h4><p>OpenH264 CPU 的占用相对 x264低很多</p>
<p>OpenH264 只支持 baseline profile，x264 支持更多 profile</p>
<h2 id="HEVC-H-265"><a href="#HEVC-H-265" class="headerlink" title="HEVC/H.265"></a>HEVC/H.265</h2><h3 id="特性-1"><a href="#特性-1" class="headerlink" title="特性"></a>特性</h3><p>高效率视频编码（High Efficiency Video Coding，简称 HEVC）是 ITU-T H.264/MPEG-4 AVC 标准的<strong>继任者</strong>。</p>
<ul>
<li>提升视频质量</li>
<li>同时能达到 H.264/MPEG-4 AVC <strong>两倍压缩率</strong>（等同于同样画面质量下比特率减少了 50%）</li>
<li>可支持 <strong>4K</strong> 分辨率，最高分辨率可达到 8192×4320（8K 分辨率）。</li>
</ul>
<h3 id="专利许可-1"><a href="#专利许可-1" class="headerlink" title="专利许可"></a>专利许可</h3><p>要求所有使用 H.265 技术的支付专利使用费。包括</p>
<ul>
<li>内容制造商。<ul>
<li>上缴内容收入的 0.5%作为技术使用费</li>
<li>包括苹果、YouTube、Netflix、Facebook、亚马逊等</li>
<li>整个流媒体市场每年达到约 1000 亿美元的规模，且不断增长中，</li>
</ul>
</li>
<li>设备制造商。<ul>
<li>按每台设备收费</li>
<li>电视厂商、移动设备厂商、蓝光设备播放器、游戏机、录像机</li>
<li>之前已经发售的产品依然要追缴费用</li>
</ul>
</li>
</ul>
<h3 id="开源实现-1"><a href="#开源实现-1" class="headerlink" title="开源实现"></a>开源实现</h3><p>libde265、x265</p>
<h4 id="libde265-HEVC"><a href="#libde265-HEVC" class="headerlink" title="libde265 HEVC"></a>libde265 HEVC</h4><p>struktur 公司以开源许可证 GNU LesserGeneral Public License (LGPL) 提供，观众可以较慢的网速下欣赏到最高品质的影像。可以减少 50%流媒体播放所需要的带宽。高清或者 4K/8K 超高清流媒体播放，低延迟/低带宽视频会议，以及完整的移动设备覆盖。具有「拥塞感知」视频编码的稳定性，十分适合应用在 3/4G 和 LTE 网络。</p>
<h4 id="x265"><a href="#x265" class="headerlink" title="x265"></a>x265</h4><p>MulticoreWare 开发，并开源。采用 GPL 协议，但是资助这个项目的几个公司组成了联盟可以在非 GPL 协议下使用这个软件。</p>
<h2 id="VP8"><a href="#VP8" class="headerlink" title="VP8"></a>VP8</h2><h3 id="特性-2"><a href="#特性-2" class="headerlink" title="特性"></a>特性</h3><p>VP8 是一个开放的视频压缩格式，最早由 On2 Technologies 开发，随后由 Google 发布。</p>
<p>目前支持 VP8 的网页浏览器有 Opera、Firefox 和 Chrome。</p>
<h3 id="专利许可-2"><a href="#专利许可-2" class="headerlink" title="专利许可"></a>专利许可</h3><p>Google 获取 VP8 以及其之前的 VPx 等编码所可能侵犯的专利授权，然后无偿再次授权相关专利给 VP8 的用户。</p>
<h3 id="开源实现-2"><a href="#开源实现-2" class="headerlink" title="开源实现"></a>开源实现</h3><h4 id="libvpx"><a href="#libvpx" class="headerlink" title="libvpx"></a>libvpx</h4><p>libvpx 是 VP8 的唯一开源实现，由 On2 Technologies 开发，Google 收购后将其开放源码，License 非常宽松可以自由使用。</p>
<h2 id="VP9"><a href="#VP9" class="headerlink" title="VP9"></a>VP9</h2><h3 id="特性-3"><a href="#特性-3" class="headerlink" title="特性"></a>特性</h3><p>同画质下，比 VP8 编码减少 50% 的文件大小，在编码效率上超越 HEVC 编码。</p>
<p>目前支持 VP8 的网页浏览器有 Chromium、Chrome、Firefox </p>
<h3 id="专利许可-3"><a href="#专利许可-3" class="headerlink" title="专利许可"></a>专利许可</h3><p>VP9 是一个开放格式、无权利金的视频编码格式。</p>
<h3 id="开源实现-3"><a href="#开源实现-3" class="headerlink" title="开源实现"></a>开源实现</h3><h4 id="libvpx-1"><a href="#libvpx-1" class="headerlink" title="libvpx"></a>libvpx</h4><p>libvpx是 VP9 的唯一开源实现，由 Google 开发维护，里面有部分代码是 VP8 和 VP9 公用的，其余分别是 VP8 和 VP9 的编解码实现。</p>
<h1 id="FFmpeg"><a href="#FFmpeg" class="headerlink" title="FFmpeg"></a>FFmpeg</h1><p><a href="https://ffmpeg.org/download.html" target="_blank" rel="noopener">FFmpeg</a> 是一个自由软件，可以运行音频和视频多种格式的录影、转换、流功能.包含了 libavcodec -这是一个用于多个项目中音频和视频的解码器库，以及 libavformat -一个音频与视频格式转换库。</p>
<p>FF 指的是 Fast Forward</p>
<p>FFmpeg 是个优秀的工具，可以通过它完成很多日常的工作和实验，但是距离提供真正可用的流媒体服务、直播服务还有非常多的工作要做</p>
<h1 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h1><p>封装就是把<strong>编码内容</strong>（视频，音频，字幕，章节信息等）按照一定<strong>标准</strong>封装一个容器。</p>
<ul>
<li>播放简单</li>
<li>为媒体内容提供索引。可拖动</li>
</ul>
<h2 id="封装格式"><a href="#封装格式" class="headerlink" title="封装格式"></a>封装格式</h2><p>常见封装格式和音视频编码的组合方式</p>
<table>
<thead>
<tr>
<th>封装容器</th>
<th>视频流编码格式</th>
<th>音频流编码格式</th>
<th>说明</th>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td>AVI (.avi)</td>
<td>Xvid 或 Divx</td>
<td>MP3</td>
<td>Audio Video Interleaved 音频视频交错格式</td>
<td>图像质量好，可以保持alpha通道</td>
<td>体积过大，压缩标准不统一</td>
</tr>
<tr>
<td>DV-AVI (.avi)</td>
<td>Xvid 或 Divx</td>
<td>MP3</td>
<td>DV 是 Digital Video Format，数码摄像机使用这种格式</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Matroska (.mkv)</td>
<td>Xvid</td>
<td>MP3</td>
<td>可把多种不同编码的视频及 16 条或以上不同格式的音频和语言不同的字幕封装到一个 Matroska Media 档内</td>
<td>提供非常好的交互功能</td>
<td></td>
</tr>
<tr>
<td>Matroska (.mkv)</td>
<td>Xvid</td>
<td>AAC</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Matroska (.mkv)</td>
<td>H264</td>
<td>AAC</td>
<td>mkv最常用组合，体积最小，清晰度最高</td>
<td></td>
<td></td>
</tr>
<tr>
<td>MP4</td>
<td>Xvid</td>
<td>MP3</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>MP4</td>
<td>H.264</td>
<td>AAC</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3GP</td>
<td>H.263</td>
<td>AAC</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>QuickTime File Format (.mov)</td>
<td></td>
<td></td>
<td>苹果开发，默认的播放器是苹果的 QuickTime</td>
<td>较高压缩比 较完美清晰度 可以保存 alpha 通道</td>
<td></td>
</tr>
<tr>
<td>MPEG (.mpg .mpeg .mpe .dat .vob .asf .3gp .mp4等)</td>
<td></td>
<td></td>
<td>Moving Picture Experts Group 运动图像专家组格式</td>
<td>MPEG－4 小体积 高质量</td>
<td></td>
</tr>
<tr>
<td>WMV 格式 (.wmv .asf)</td>
<td></td>
<td></td>
<td>Windows Media Video 微软推出</td>
<td>本地或网络播放,丰富的流间关系以及扩展性</td>
<td>网站播放需要安装 Windows Media Player</td>
</tr>
<tr>
<td>Real Video (.rm .rmvb)</td>
<td></td>
<td></td>
<td>用户可以使用 RealPlayer 根据不同的网络传输速率制定出不同的压缩比率。rmvb是升级版</td>
<td>低速网络实时播放</td>
<td></td>
</tr>
<tr>
<td>Flash Video (.flv)</td>
<td></td>
<td></td>
<td>Adobe Flash 延伸出来的的一种流行网络视频封装格式</td>
<td></td>
<td></td>
</tr>
<tr>
<td>MPEG2-TS (.ts)</td>
<td></td>
<td></td>
<td>Transport Stream「传输流」；又称 MTS、TS。用于数字电视广播系统</td>
<td>传输和存储包含音效、视频与通信协议各种数据。Media Player Classic、VLC 等软件可以直接播放</td>
<td></td>
</tr>
</tbody>
</table>
<p>目前，在流媒体传输，尤其是直播中主要采用的就是 FLV 和 MPEG2-TS 格式，分别用于 RTMP/HTTP-FLV 和 HLS 协议</p>
<h1 id="参考-amp-扩展"><a href="#参考-amp-扩展" class="headerlink" title="参考&amp;扩展"></a>参考&amp;扩展</h1><ul>
<li><a href="https://blog.qiniu.com/archives/6816" target="_blank" rel="noopener">《视频直播技术详解》之（四）：编码和封装</a></li>
<li><a href="https://blog.csdn.net/wishfly/article/details/50921712" target="_blank" rel="noopener">常见视频文件的编码方式和封装格式</a></li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/直播/" rel="tag"><i class="fa fa-tag"></i> 直播</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/08/01/直播/直播技术/直播技术三-处理/" rel="next" title="直播技术三-处理">
                <i class="fa fa-chevron-left"></i> 直播技术三-处理
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/08/03/直播/直播技术/直播技术五-推流和传输/" rel="prev" title="直播技术五-推流和传输">
                直播技术五-推流和传输 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="风" />
            
              <p class="site-author-name" itemprop="name">风</p>
              <p class="site-description motion-element" itemprop="description">随心而动，随刃而行</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">315</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">72</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#视频编码的意义"><span class="nav-number">1.</span> <span class="nav-text">视频编码的意义</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#视频编码原理"><span class="nav-number">2.</span> <span class="nav-text">视频编码原理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#编码原理"><span class="nav-number">2.1.</span> <span class="nav-text">编码原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#帧内编码"><span class="nav-number">2.2.</span> <span class="nav-text">帧内编码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#帧间编码"><span class="nav-number">2.3.</span> <span class="nav-text">帧间编码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#编码流程"><span class="nav-number">2.4.</span> <span class="nav-text">编码流程</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#编码器的选择"><span class="nav-number">3.</span> <span class="nav-text">编码器的选择</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#H-264-AVC"><span class="nav-number">3.1.</span> <span class="nav-text">H.264/AVC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#特性"><span class="nav-number">3.1.1.</span> <span class="nav-text">特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#专利许可"><span class="nav-number">3.1.2.</span> <span class="nav-text">专利许可</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开源实现"><span class="nav-number">3.1.3.</span> <span class="nav-text">开源实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#OpenH264"><span class="nav-number">3.1.3.1.</span> <span class="nav-text">OpenH264</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#x264"><span class="nav-number">3.1.3.2.</span> <span class="nav-text">x264</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#比较"><span class="nav-number">3.1.3.3.</span> <span class="nav-text">比较</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HEVC-H-265"><span class="nav-number">3.2.</span> <span class="nav-text">HEVC/H.265</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#特性-1"><span class="nav-number">3.2.1.</span> <span class="nav-text">特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#专利许可-1"><span class="nav-number">3.2.2.</span> <span class="nav-text">专利许可</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开源实现-1"><span class="nav-number">3.2.3.</span> <span class="nav-text">开源实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#libde265-HEVC"><span class="nav-number">3.2.3.1.</span> <span class="nav-text">libde265 HEVC</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#x265"><span class="nav-number">3.2.3.2.</span> <span class="nav-text">x265</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VP8"><span class="nav-number">3.3.</span> <span class="nav-text">VP8</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#特性-2"><span class="nav-number">3.3.1.</span> <span class="nav-text">特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#专利许可-2"><span class="nav-number">3.3.2.</span> <span class="nav-text">专利许可</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开源实现-2"><span class="nav-number">3.3.3.</span> <span class="nav-text">开源实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#libvpx"><span class="nav-number">3.3.3.1.</span> <span class="nav-text">libvpx</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VP9"><span class="nav-number">3.4.</span> <span class="nav-text">VP9</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#特性-3"><span class="nav-number">3.4.1.</span> <span class="nav-text">特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#专利许可-3"><span class="nav-number">3.4.2.</span> <span class="nav-text">专利许可</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开源实现-3"><span class="nav-number">3.4.3.</span> <span class="nav-text">开源实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#libvpx-1"><span class="nav-number">3.4.3.1.</span> <span class="nav-text">libvpx</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#FFmpeg"><span class="nav-number">4.</span> <span class="nav-text">FFmpeg</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#封装"><span class="nav-number">5.</span> <span class="nav-text">封装</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#封装格式"><span class="nav-number">5.1.</span> <span class="nav-text">封装格式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考-amp-扩展"><span class="nav-number">6.</span> <span class="nav-text">参考&amp;扩展</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">风</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
