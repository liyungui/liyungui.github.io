<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="随心而动，随刃而行">
<meta property="og:type" content="website">
<meta property="og:title" content="风">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="风">
<meta property="og:description" content="随心而动，随刃而行">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="风">
<meta name="twitter:description" content="随心而动，随刃而行">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/5/"/>





  <title>风</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">风</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">技术博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/01/CocosCreator/CocosCreator优化/Android原生启动黑屏优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/01/CocosCreator/CocosCreator优化/Android原生启动黑屏优化/" itemprop="url">Android原生启动黑屏优化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-11-01T11:30:53+08:00">
                2019-11-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/游戏/" itemprop="url" rel="index">
                    <span itemprop="name">游戏</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>Cocos Creator 的打包出来的原生项目（即便是一个空白项目），打开应用后，「黑屏」一段时间才能进入到场景</p>
<p>视乎机型与Android系统版本，这个「黑屏」时长可能会持续不同时间，但是实际测试这个持续最短可能也要1秒，需要优化改进</p>
<h1 id="黑屏原因"><a href="#黑屏原因" class="headerlink" title="黑屏原因"></a>黑屏原因</h1><p>分析 <code>Cocos2dxActivity.onCreate</code> 启动流程</p>
<h2 id="Activity-setContentView前"><a href="#Activity-setContentView前" class="headerlink" title="Activity.setContentView前"></a>Activity.setContentView前</h2><p>引擎启动耗时长</p>
<h2 id="Activity-setContentView后"><a href="#Activity-setContentView后" class="headerlink" title="Activity.setContentView后"></a>Activity.setContentView后</h2><p>setContentView并没有设置任何有颜色的组件，还是黑屏状态</p>
<h2 id="加载场景"><a href="#加载场景" class="headerlink" title="加载场景"></a>加载场景</h2><p>加载场景（main.js）需要一定时间</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><img src="/2019/11/01/CocosCreator/CocosCreator优化/Android原生启动黑屏优化/CocosCreator启动黑屏优化.png">
<p>主场景JS的优化方案，在 一定程度上 都是属于弱优化，因为黑屏大头在前面两个阶段，场景JS优化只能优化第三阶段的黑屏。这也是为什么空白项目打包也会出现黑屏的原因，问题不在于场景大小，js脚本复杂度，而在于 原生启动阶段</p>
<p>因此为了减少可变因子，我们直接以一个简单场景作为第三阶段要加载的场景</p>
<p>还特别需要注意一点：因为我们是探索测试，所以强烈建议采用基于 default 模板去进行操作</p>
<p>default 和 link 的区别：</p>
<ul>
<li>default，使用默认的 cocos2d-x 源码版引擎构建项目</li>
<li>link，不会拷贝 cocos2d-x 源码到构建目录下，而是使用共享的 cocos2d-x 源码。这样可以有效减少构建目录占用空间，以及对 cocos2d-x 源码的修改可以得到共享。</li>
</ul>
<h1 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h1><h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><h3 id="设置Activity背景"><a href="#设置Activity背景" class="headerlink" title="设置Activity背景"></a>设置Activity背景</h3><p>解决第一阶段的黑屏，进入第二个阶段(setContentView)后回再次触发黑屏</p>
<p>通过给Activity设置主题样式，可以在样式中 <code>android:windowBackground</code>属性指定背景（纯色或者图片）</p>
<h3 id="添加背景到contentView"><a href="#添加背景到contentView" class="headerlink" title="添加背景到contentView"></a>添加背景到contentView</h3><p>解决第二阶段的黑屏</p>
<h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> ImageView sSplashBgImageView = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * oncreate 调用 显示原生开屏背景的方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showSplash</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    sSplashBgImageView = <span class="keyword">new</span> ImageView(sCocos2dxActivity);</span><br><span class="line">    sSplashBgImageView.setImageResource(R.drawable.splash);</span><br><span class="line">    sSplashBgImageView.setScaleType(ImageView.ScaleType.FIT_XY);</span><br><span class="line">    sCocos2dxActivity.addContentView(sSplashBgImageView,</span><br><span class="line">            <span class="keyword">new</span> WindowManager.LayoutParams(</span><br><span class="line">                    FrameLayout.LayoutParams.MATCH_PARENT,</span><br><span class="line">                    FrameLayout.LayoutParams.MATCH_PARENT</span><br><span class="line">            )</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 这是给 JS 调用的隐藏原生开屏背景的方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">hideSplash</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    sCocos2dxActivity.runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (sSplashBgImageView != <span class="keyword">null</span>) &#123;</span><br><span class="line">                sSplashBgImageView.setVisibility(View.GONE);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">@ccclass</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">MainSceneCtrl</span> <span class="keyword">extends</span> <span class="title">cc</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    start() &#123;</span><br><span class="line">        <span class="comment">// 场景加载之后，隐藏原生纯色背景View</span></span><br><span class="line">        <span class="comment">// 这里延迟1秒是为了更好的体验，实际可以不用</span></span><br><span class="line">        <span class="keyword">this</span>.scheduleOnce(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>._hideNativeSplash();</span><br><span class="line">        &#125;, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private _hideNativeSplash() &#123;</span><br><span class="line">        <span class="keyword">if</span> (CC_JSB) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cc.sys.os == cc.sys.OS_ANDROID) &#123;</span><br><span class="line">                <span class="comment">// 反射调用原生的隐藏方法</span></span><br><span class="line">                jsb.reflection.callStaticMethod(</span><br><span class="line">                    <span class="string">"org/cocos2dx/javascript/AppActivity"</span>,</span><br><span class="line">                    <span class="string">"hideSplash"</span>,</span><br><span class="line">                    <span class="string">"()V"</span></span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="图片的屏幕适配问题"><a href="#图片的屏幕适配问题" class="headerlink" title="图片的屏幕适配问题"></a>图片的屏幕适配问题</h2><p>上面两个阶段都是设置了一张图片作为背景</p>
<p>Activity主题背景是通过拉升图片的方式去屏幕适配，第二阶段我们可以自定义 <code>ImageView.ScaleType</code> 来屏幕适配</p>
<p>然后Activity启动后进入游戏一般就会隐藏底部虚拟按键，屏幕宽高比会发生变化，只用一张固定尺寸的图片，肯定会出现适配问题</p>
<p>这或许就是大部分游戏开屏不设置图片的原因，而是设置 Slogan图片 + 背景色 作为启动页</p>
<h2 id="Slogan图片-背景色"><a href="#Slogan图片-背景色" class="headerlink" title="Slogan图片 + 背景色"></a>Slogan图片 + 背景色</h2><p>创建一个DrawableXML文件 <code>app/res/drawable/splash_slogan_with_bg.xml</code></p>
<p>使用 Android 的图层列表 LayerList生成一个 Drawable：一个纯色的矩形，在这之上放置一个 Slogan 的 Bitmap 图片</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!--矩形 黄色作为背景色--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">shape</span> <span class="attr">android:shape</span>=<span class="string">"rectangle"</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">solid</span> <span class="attr">android:color</span>=<span class="string">"@color/splash_slogan_bg"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">shape</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span> &gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--单独的slogan图片居中显示--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bitmap</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:gravity</span>=<span class="string">"center"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:src</span>=<span class="string">"@drawable/splash_slogan_small"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span> &gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="参考-amp-扩展"><a href="#参考-amp-扩展" class="headerlink" title="参考&amp;扩展"></a>参考&amp;扩展</h1><ul>
<li><a href="https://www.jianshu.com/p/2df139d48539" target="_blank" rel="noopener">Cocos Creator Android 原生启动优化系列 1 —— 黑屏原因分析</a></li>
<li><a href="https://www.jianshu.com/p/21d269c8ef09" target="_blank" rel="noopener">Cocos Creator Android 原生启动优化系列 2 —— 自定义启动页</a></li>
<li><a href="https://blog.csdn.net/aa464971/article/details/86692198" target="_blank" rel="noopener">Splash适配解决启动图拉伸的问题</a></li>
<li><a href="https://www.jianshu.com/p/662274d5d637" target="_blank" rel="noopener">Android启动页优化，去黑屏实现秒启动</a></li>
<li><a href="https://juejin.im/post/5ce8daa95188250ae716e1c2" target="_blank" rel="noopener">Android性能优化之启动优化</a></li>
<li><a href="https://mp.weixin.qq.com/s/OWImTj_4Ml1nmpN2v9mRAw" target="_blank" rel="noopener">Android 性能优化—— 启动优化提升60%</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/31/CocosCreator/CocosCreator技术攻坚总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/31/CocosCreator/CocosCreator技术攻坚总结/" itemprop="url">CocosCreator技术攻坚总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-31T14:30:53+08:00">
                2019-10-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/游戏/" itemprop="url" rel="index">
                    <span itemprop="name">游戏</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>cocos Creator 游戏打包成H5，用webview 加载；</p>
<p>问题：</p>
<ul>
<li>性能。低端机帧率低</li>
<li>兼容性。部分老机型，不支持x5内核</li>
</ul>
<p>于是决定把游戏编译成原生</p>
<h1 id="挑战"><a href="#挑战" class="headerlink" title="挑战"></a>挑战</h1><h2 id="平台兼容性"><a href="#平台兼容性" class="headerlink" title="平台兼容性"></a>平台兼容性</h2><p>部分特性只支持H5；比如 <code>window.location</code>、<code>axios</code>(基于 promise 的 HTTP 库)只支持浏览器环境</p>
<p>这部分需要改造，为了跨端，使用c++ HttpClient</p>
<h2 id="以View的形式渲染游戏"><a href="#以View的形式渲染游戏" class="headerlink" title="以View的形式渲染游戏"></a>以View的形式渲染游戏</h2><p>项目中游戏只是直播间的一部分；玩游戏时还需要直播和互动</p>
<p>官方demo是Activity形式</p>
<p>分析源码，发现是用动态创建GlSurfaceView添加到Activity来展示游戏。</p>
<p>封装成view即可满足项目需求</p>
<h2 id="结束游戏"><a href="#结束游戏" class="headerlink" title="结束游戏"></a>结束游戏</h2><p>官方demo直接杀死进程，退出游戏。好暴力</p>
<p>项目中不能杀死进程，游戏结束需要维持直播和互动</p>
<p>官方文档提供了js方法结束游戏，分析源码发现最终调用的c++代码</p>
<p>封装并使用jni技术提供方法给java层使用即可</p>
<h2 id="多次运行游戏"><a href="#多次运行游戏" class="headerlink" title="多次运行游戏"></a>多次运行游戏</h2><p>因为结束游戏没有退出进程，游戏引擎官方架构是不支持重入的；</p>
<p>由易到难的方案。团队信心，时间因素</p>
<h3 id="热更新方案"><a href="#热更新方案" class="headerlink" title="热更新方案"></a>热更新方案</h3><p>官方提供了一个热更新重新开始游戏的方案，可以支持多次运行</p>
<p>卡点：官方demo是大厅+子游戏模式；只有一个入口。项目是通过不同路径进入独立的子游戏模式，重新开始游戏永远是上一次运行的游戏</p>
<p>应该是加载资源有问题；跟踪发现是搜索文件成功后回缓存文件完整路径。不同游戏的入口文件名一致。添加新搜索路径时，清空缓存即可</p>
<h3 id="完全回收引擎方案"><a href="#完全回收引擎方案" class="headerlink" title="完全回收引擎方案"></a>完全回收引擎方案</h3><p>分析游戏启动流程，渲染原理，jsb原理。解决野指针，状态异常等问题</p>
<h2 id="启动黑屏优化"><a href="#启动黑屏优化" class="headerlink" title="启动黑屏优化"></a>启动黑屏优化</h2><h1 id="沉淀"><a href="#沉淀" class="headerlink" title="沉淀"></a>沉淀</h1><h2 id="使用git记录引擎修改记录"><a href="#使用git记录引擎修改记录" class="headerlink" title="使用git记录引擎修改记录"></a>使用git记录引擎修改记录</h2><h2 id="原理分析，总结文档"><a href="#原理分析，总结文档" class="headerlink" title="原理分析，总结文档"></a>原理分析，总结文档</h2><h2 id="团队分享，侧重解决问题的方法论"><a href="#团队分享，侧重解决问题的方法论" class="headerlink" title="团队分享，侧重解决问题的方法论"></a>团队分享，侧重解决问题的方法论</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/30/c++/C++之IDE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/30/c++/C++之IDE/" itemprop="url">C++之IDE</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-30T22:12:53+08:00">
                2019-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Visual-Studio"><a href="#Visual-Studio" class="headerlink" title="Visual Studio"></a>Visual Studio</h1><p>无与伦比的 IDE, Community版免费, 其余付费</p>
<p>总结: 非常智能, 拥有强大的功能, 可以完成基本上所有 C++ IDE 无法完成的任务</p>
<p>优点: 支持远程合作 (Live Share), 智能化的代码补全, 具有很强的稳定性, 可以进行扩展与自定义, 完全支持中文</p>
<p>缺点: 编译运行速度慢; 对程序的要求十分严格; 不适合初学者</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="在线安装"><a href="#在线安装" class="headerlink" title="在线安装"></a>在线安装</h3><p>官网下载，双击安装即可在线安装</p>
<p>下载速度还是相对较慢的，900多MB</p>
<h3 id="离线安装"><a href="#离线安装" class="headerlink" title="离线安装"></a>离线安装</h3><p>Mono Framework，Visual Studio for Mac 顺序安装即可</p>
<h1 id="Visual-Studio-Code"><a href="#Visual-Studio-Code" class="headerlink" title="Visual Studio Code"></a>Visual Studio Code</h1><p>轻量级的 C++ 文件编辑和调试 IDE；如果想要更好的编程和调试体验，请使用 Visual Studio Community版本</p>
<p><a href="https://code.visualstudio.com/docs/languages/cpp" target="_blank" rel="noopener">官方使用文档</a></p>
<h2 id="C-C-扩展"><a href="#C-C-扩展" class="headerlink" title="C/C++ 扩展"></a>C/C++ 扩展</h2><p> 智能补全，调试</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>配置较繁琐，参考官方文档</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/30/c++/Accelerated C++/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/30/c++/Accelerated C++/" itemprop="url">Accelerated C++</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-30T19:47:53+08:00">
                2019-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="开始学习c"><a href="#开始学习c" class="headerlink" title="开始学习c++"></a>开始学习c++</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	sdt::<span class="built_in">cout</span> &lt;&lt; <span class="string">"hello world"</span> &lt;&lt; <span class="built_in">std</span>::end;</span><br><span class="line">	<span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="使用字符串"><a href="#使用字符串" class="headerlink" title="使用字符串"></a>使用字符串</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/30/Android/使用V8引擎/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/30/Android/使用V8引擎/" itemprop="url">使用V8引擎</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-30T15:02:53+08:00">
                2019-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/V8/" itemprop="url" rel="index">
                    <span itemprop="name">V8</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>在 <a href="https://github.com/drawapp8/cantk-runtime" target="_blank" rel="noopener">cantk-runtime</a> （HTML5 Canvas 2D游戏引擎运行库）中直接使用的webview，通过JAVA扩展接口把Canvas的2d Context的API定向到JNI，通过OpenGL来图形加速，渲染速度大大提高。后来测试发现在大部分手机上都很正常，但是在有的老手机上速度不稳定，出现突然卡顿的情况。经过研究发现原因是老版本的webkit里没有requestAnimationFrame这个接口(或类似接口),用setTimeout来模拟的requestAnimationFrame非常不稳定。</p>
<p>为了解决这个问题，我们决定像其它Runtime一样集成Google V8 JS引擎，自己模拟一个webview出来。架构也相当简单，上面用GLSurfaceView，在JNI里使用Google V8 JS引擎来运行JS代码，在onDrawFrame里去执行requestAnimationFrame注册的函数，经过测试性能相当稳定。</p>
<h1 id="Android浏览器架构"><a href="#Android浏览器架构" class="headerlink" title="Android浏览器架构"></a>Android浏览器架构</h1><p>Android 平台上的浏览器，是基于 WebKit 实现的。其中 JS Engine 部分，Android 2.2 版本以前使用的是 JavaScriptEngine，Android 2.2 及以后版本使用了 V8 引擎。</p>
<img src="/2019/10/30/Android/使用V8引擎/Android浏览器架构.png">
<h1 id="Android-运行-JavaScript三种方式"><a href="#Android-运行-JavaScript三种方式" class="headerlink" title="Android 运行 JavaScript三种方式"></a>Android 运行 JavaScript三种方式</h1><h2 id="调用-WebView-API"><a href="#调用-WebView-API" class="headerlink" title="调用 WebView API"></a>调用 WebView API</h2><p>这种方式通过直接调用 Android 控件来实现，开发难度最低，限制性较大，性能较低。</p>
<h2 id="调用系统-V8-库"><a href="#调用系统-V8-库" class="headerlink" title="调用系统 V8 库"></a>调用系统 V8 库</h2><p><a href="https://stackoverflow.com/questions/6880778/android-utilize-v8-without-webview/11973689#11973689" target="_blank" rel="noopener">StackOverflow：Android utilize V8 without WebView</a></p>
<h2 id="编译-V8-作为应用程序自带库"><a href="#编译-V8-作为应用程序自带库" class="headerlink" title="编译 V8 作为应用程序自带库"></a>编译 V8 作为应用程序自带库</h2><p>由于 V8 是开源的，可以通过编译 V8 引擎来使用。这样可定制性最好。</p>
<h3 id="自己编译"><a href="#自己编译" class="headerlink" title="自己编译"></a>自己编译</h3><ul>
<li>编译流程复杂，各种问题层出不穷</li>
<li>译产物过大（800M），而例如 NativeScript 项目中 使用的 V8 引擎包只有几十M。</li>
</ul>
<h3 id="借鉴-V8Android"><a href="#借鉴-V8Android" class="headerlink" title="借鉴 V8Android"></a>借鉴 V8Android</h3><p><a href="https://github.com/cstsinghua/V8Android" target="_blank" rel="noopener">V8Android</a></p>
<p>在 Android 端调用 V8 引擎的简单 DEMO</p>
<p>缺陷：</p>
<ul>
<li>Eclipse 工程结构</li>
<li>使用的 V8引擎较老</li>
</ul>
<h4 id="NativeScript"><a href="#NativeScript" class="headerlink" title="NativeScript"></a>NativeScript</h4><p><a href="https://github.com/NativeScript/NativeScript" target="_blank" rel="noopener">NativeScript</a></p>
<p>使用 JS 开发原生Android和iOS应用的框架</p>
<p><a href="https://github.com/NativeScript/android-runtime" target="_blank" rel="noopener">AndroidRuntime</a> 是 NativeScript 在 Android 上实现其 JS 运行能力的一个开源项目，这个项目也是基于 V8 开发的。</p>
<p>由于NativeScript 的更新比较频发，他的AndroidRuntime 使用的 V8 版本也是较新的版本。所以我们可以使用 AndroidRuntime 中集成的 V8 库来进行我们的应用开发。</p>
<p>甚至可以直接基于 AndroidRuntime 项目进行你的应用开发。AndroidRuntime 提供了更加便利的面向应用层的框架。</p>
<h1 id="官方-helloworld"><a href="#官方-helloworld" class="headerlink" title="官方 helloworld"></a>官方 helloworld</h1><p><a href="https://chromium.googlesource.com/v8/v8/+/branch-heads/6.8/samples/hello-world.cc" target="_blank" rel="noopener">官方 helloworld</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"include/libplatform/libplatform.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"include/v8.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 步骤一 Initialize V8.</span></span><br><span class="line">  v8::V8::InitializeICUDefaultLocation(argv[<span class="number">0</span>]);</span><br><span class="line">  v8::V8::InitializeExternalStartupData(argv[<span class="number">0</span>]);</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">unique_ptr</span>&lt;v8::Platform&gt; platform = v8::platform::NewDefaultPlatform();</span><br><span class="line">  v8::V8::InitializePlatform(platform.get());</span><br><span class="line">  v8::V8::Initialize();</span><br><span class="line">  <span class="comment">// Create a new Isolate and make it the current one.</span></span><br><span class="line">  v8::Isolate::CreateParams create_params;</span><br><span class="line">  create_params.array_buffer_allocator =</span><br><span class="line">      v8::ArrayBuffer::Allocator::NewDefaultAllocator();</span><br><span class="line">  v8::Isolate* isolate = v8::Isolate::New(create_params);</span><br><span class="line">  &#123;</span><br><span class="line">    v8::Isolate::<span class="function">Scope <span class="title">isolate_scope</span><span class="params">(isolate)</span></span>;</span><br><span class="line">    <span class="comment">// 步骤二 运行js</span></span><br><span class="line">    <span class="comment">// Create a stack-allocated handle scope.</span></span><br><span class="line">    v8::<span class="function">HandleScope <span class="title">handle_scope</span><span class="params">(isolate)</span></span>;</span><br><span class="line">    <span class="comment">// Create a new context.</span></span><br><span class="line">    v8::Local&lt;v8::Context&gt; context = v8::Context::New(isolate);</span><br><span class="line">    <span class="comment">// Enter the context for compiling and running the hello world script.</span></span><br><span class="line">    v8::Context::<span class="function">Scope <span class="title">context_scope</span><span class="params">(context)</span></span>;</span><br><span class="line">    <span class="comment">// Create a string containing the JavaScript source code.</span></span><br><span class="line">    v8::Local&lt;v8::String&gt; source =</span><br><span class="line">        v8::String::NewFromUtf8(isolate, <span class="string">"'Hello' + ', World!'"</span>,</span><br><span class="line">                                v8::NewStringType::kNormal)</span><br><span class="line">            .ToLocalChecked();</span><br><span class="line">    <span class="comment">// Compile the source code.</span></span><br><span class="line">    v8::Local&lt;v8::Script&gt; script =</span><br><span class="line">        v8::Script::Compile(context, source).ToLocalChecked();</span><br><span class="line">    <span class="comment">// Run the script to get the result.</span></span><br><span class="line">    v8::Local&lt;v8::Value&gt; result = script-&gt;Run(context).ToLocalChecked();</span><br><span class="line">    <span class="comment">// Convert the result to an UTF8 string and print it.</span></span><br><span class="line">    v8::String::<span class="function">Utf8Value <span class="title">utf8</span><span class="params">(isolate, result)</span></span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, *utf8);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 步骤三 Dispose the isolate and tear down V8.</span></span><br><span class="line">  isolate-&gt;Dispose();</span><br><span class="line">  v8::V8::Dispose();</span><br><span class="line">  v8::V8::ShutdownPlatform();</span><br><span class="line">  <span class="keyword">delete</span> create_params.array_buffer_allocator;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="多次运行V8"><a href="#多次运行V8" class="headerlink" title="多次运行V8"></a>多次运行V8</h1><p>背景可以参考另一篇博文 <a href="">Cocos Creator 第二次运行游戏崩溃问题</a></p>
<p><a href="https://stackoverflow.com/questions/37391553/how-to-run-v8-evaluation-multiple-times" target="_blank" rel="noopener">How to run V8 evaluation multiple times?</a></p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://blog.csdn.net/absurd/article/details/47678463" target="_blank" rel="noopener">在Android上使用Google V8 JS 引擎</a></li>
<li><a href="https://blog.csdn.net/ft2028739/article/details/52313060" target="_blank" rel="noopener">Chrome V8 引擎移植到 Android</a></li>
<li><a href="https://v8.dev/docs" target="_blank" rel="noopener">V8 开发者页面</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/30/电脑使用/mac/外接显示器设置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/30/电脑使用/mac/外接显示器设置/" itemprop="url">外接显示器设置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-30T14:32:53+08:00">
                2019-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/电脑使用/" itemprop="url" rel="index">
                    <span itemprop="name">电脑使用</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>插上外接显示器时，外接屏幕默认会同步内容，如果接上外界显示器后，仍然是黑屏，那么外接显示屏没有接好</p>
<img src="/2019/10/30/电脑使用/mac/外接显示器设置/screen.png">
<h1 id="双屏设置"><a href="#双屏设置" class="headerlink" title="双屏设置"></a>双屏设置</h1><p>默认是镜像模式，即两个屏幕显示同样的内容</p>
<p>想要两个屏幕显示不同的内容，需要取消 镜像显示器 选项：主显示器 – 排列 – 镜像显示器</p>
<h1 id="主次屏设置"><a href="#主次屏设置" class="headerlink" title="主次屏设置"></a>主次屏设置</h1><p>默认 笔记本自带屏幕是 主显示屏</p>
<p>要将外接显示屏设置为主屏，只需拖动自带显示屏上面的 白条 到 外接显示屏，即可</p>
<h1 id="排列显示屏"><a href="#排列显示屏" class="headerlink" title="排列显示屏"></a>排列显示屏</h1><p>直接选中任一显示屏，拖动到目的位置（上下左右），即可改变两个显示屏的排列，更加符合自己的触摸板使用习惯，提高效率</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/30/Android/性能优化/布局优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/30/Android/性能优化/布局优化/" itemprop="url">布局优化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-30T14:28:53+08:00">
                2019-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="include、ViewStub、merge"><a href="#include、ViewStub、merge" class="headerlink" title="include、ViewStub、merge"></a>include、ViewStub、merge</h1><p>这三个标签，可以使我们的布局更加简洁、高效</p>
<h2 id="include-复用布局"><a href="#include-复用布局" class="headerlink" title="include 复用布局"></a>include 复用布局</h2><h3 id="特别注意"><a href="#特别注意" class="headerlink" title="特别注意"></a>特别注意</h3><ul>
<li><code>&lt;include&gt;</code>设置了id，会覆盖原来布局根元素的id属性</li>
</ul>
<h2 id="ViewStub-延迟加载"><a href="#ViewStub-延迟加载" class="headerlink" title="ViewStub 延迟加载"></a>ViewStub 延迟加载</h2><p>宽高都为0，默认不可见的 一个View，具有延迟加载的效果（显示之前，不会消耗资源去实例化里面的布局）</p>
<h3 id="设置布局"><a href="#设置布局" class="headerlink" title="设置布局"></a>设置布局</h3><p>设置 ViewStub 中延时加载的布局有两种方式：</p>
<ul>
<li>在xml中使用 <code>android:layout</code> 属性来设置。</li>
<li>在代码中使用 <code>ViewStub.setLayoutResource(res);</code> 来设置。</li>
</ul>
<h3 id="显示布局"><a href="#显示布局" class="headerlink" title="显示布局"></a>显示布局</h3><p>使 ViewStub 中布局显示出来也有两种方法：</p>
<ul>
<li>调用 <code>ViewStub.setVisibility(View.VISIBLE);</code></li>
<li>调用 <code>ViewStub.inflate();</code> </li>
</ul>
<p>本质都是调用 <code>ViewStub.inflate();</code></p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ViewStub</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">"@+id/view_stub"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"49dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout</span>=<span class="string">"@layout/my_layout"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:inflatedId</span>=<span class="string">"@+id/view_stub_inflated_id"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>获取布局根元素的方法有所区别</p>
<p>通过 <code>inflatedId</code> 获取</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种使用方法：</span></span><br><span class="line">ViewStub viewStub = (ViewStub) findViewById(R.id.view_stub);  </span><br><span class="line"><span class="comment">// 设置setVisibility，使布局文件实例化</span></span><br><span class="line">viewStub .setVisibility(View.VISIBLE);  </span><br><span class="line"><span class="comment">// 通过ViewStub的xml中的属性 inflatedId 来获取View</span></span><br><span class="line">LinearLayout linearLayout =(LinearLayout) findViewById(R.id.view_stub_inflated_id);  </span><br><span class="line"><span class="keyword">if</span> ( viewStub.getVisibility() == View.VISIBLE ) &#123;  </span><br><span class="line">    <span class="comment">// 已经加载成功</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>inflate()</code> 返回</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第二种使用方法：</span></span><br><span class="line">ViewStub viewStub = (ViewStub) findViewById(R.id.view_stub);  </span><br><span class="line">viewStub.setLayoutResource(R.layout.my_layout);</span><br><span class="line"><span class="comment">//使用 inflate，使布局文件实例化</span></span><br><span class="line">LinearLayout linearLayout= (LinearLayout)viewStub.inflate();</span><br><span class="line"><span class="keyword">if</span> (linearLayout!= <span class="keyword">null</span>)&#123; </span><br><span class="line">    <span class="comment">//已经加载成功</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="merge-合并层级"><a href="#merge-合并层级" class="headerlink" title="merge 合并层级"></a>merge 合并层级</h2><p>例如主布局文件是垂直的LinearLayout，这时使用 <code>include</code> 将 <code>my_layout.xml</code> 引入进来。</p>
<p>引入布局也是垂直的LinearLayout，那么这个新的LinearLayout就没有任何意义了。使用的话反而增加反应时间。这时可以使用<code>&lt;merge/&gt;标签</code>代替引入布局根LinearLayout。</p>
<p>merge <strong>原理</strong> 就是在解析xml时候，直接将 <code>&lt;merge/&gt;</code> 标签 中的子元素添加到 标签 的 parent 中，这样就不会引入额外的层级</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">merge</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/button"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"Button"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/textView"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">"TextView"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">merge</span>&gt;</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/30/Android/性能优化/性能优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/30/Android/性能优化/性能优化/" itemprop="url">性能优化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-30T14:28:53+08:00">
                2019-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://androidperformance.com/" target="_blank" rel="noopener">androidperformance</a> 系统工程师；专注安卓性能优化以及最佳实践的</p>
<ul>
<li><a href="http://hukai.me/" target="_blank" rel="noopener">胡凯</a> 腾讯研发；大量关于性能优化</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/30/c++/c++书籍/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/30/c++/c++书籍/" itemprop="url">c++书籍</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-30T14:22:53+08:00">
                2019-10-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/c/" itemprop="url" rel="index">
                    <span itemprop="name">c++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h1><h2 id="C-Primer"><a href="#C-Primer" class="headerlink" title="C++ Primer"></a>C++ Primer</h2><p>作者：Stanley Lippman, Josée Lajoie, and Barbara E. Moo </p>
<p>近1千页，本书透彻的介绍了C++，以浅显和详细的方式讲到C++语言差不多所有内容。</p>
<p>2012年8月发行的第五版包含C++11的内容。</p>
<p>第四版（中文）、第五版（英文版）</p>
<h2 id="Accelerated-C"><a href="#Accelerated-C" class="headerlink" title="Accelerated C++"></a>Accelerated C++</h2><p>作者：Andrew Koenig and Barbara Moo </p>
<p>这本书覆盖了和C++ Primer一样的内容，但厚度只有C++ Primer的四分之一。这主要是因为本书面向的不是编程的初学者，而是有其它语言经验的C++初学者。对于初学者，本书学习曲线稍显陡峭，但对于能克服这一点的学习者而言，它确实非常紧凑的介绍了C++这门语言。</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="http://bestcbooks.com/recommended-cpp-books/" target="_blank" rel="noopener">C++必读书籍推荐</a> </li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/27/电脑使用/Shadowsocks使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/27/电脑使用/Shadowsocks使用/" itemprop="url">Shadowsocks使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-10-27T16:26:53+08:00">
                2019-10-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/电脑使用/" itemprop="url" rel="index">
                    <span itemprop="name">电脑使用</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h1><h2 id="全局模式"><a href="#全局模式" class="headerlink" title="全局模式"></a>全局模式</h2><p>所有流量都经过代理服务器中转</p>
<h3 id="缺陷"><a href="#缺陷" class="headerlink" title="缺陷"></a>缺陷</h3><ul>
<li>国内网站速度变慢</li>
<li>浪费服务器流量</li>
</ul>
<h2 id="编辑PAC"><a href="#编辑PAC" class="headerlink" title="编辑PAC"></a>编辑PAC</h2><p>Proxy auto-config，简称PAC，代理自动配置</p>
<p>是一种网页浏览器技术，用于定义浏览器该如何自动选择适当的代理服务器来访问一个网址。</p>
<p>在Shadowsocks里面，编辑PAC可以有如下两个方式</p>
<h2 id="添加到-pac-txt-文件中"><a href="#添加到-pac-txt-文件中" class="headerlink" title="添加到 pac.txt 文件中"></a>添加到 pac.txt 文件中</h2><p>如果使用gfwlist更新PAC规则，则文件名是 <code>gfwlist.txt</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var proxy = &quot;__PROXY__&quot;;</span><br><span class="line">var rules = [</span><br><span class="line">	&quot;||windowscentral.com&quot;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>ShadowSocks的PAC文件实际是不停的更新的，如果自己编辑了PAC文件就不要再去更新PAC文件了，不然添加的内容就没有了。</p>
<p>或者可以把PAC上传到你的服务器上，在ShadowSocks使用在线PAC规则选项来调用</p>
<h2 id="添加到-user-rule-txt-文件中"><a href="#添加到-user-rule-txt-文件中" class="headerlink" title="添加到 user-rule.txt 文件中"></a>添加到 user-rule.txt 文件中</h2><p>每一行表示一个URL通配符，但是通配符语法类似</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">! Put user rules line by line in this file.</span><br><span class="line">! See https://adblockplus.org/en/filter-cheatsheet</span><br><span class="line">||flykostage.com</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="风" />
            
              <p class="site-author-name" itemprop="name">风</p>
              <p class="site-description motion-element" itemprop="description">随心而动，随刃而行</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">318</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">73</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">风</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
