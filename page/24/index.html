<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="éšå¿ƒè€ŒåŠ¨ï¼Œéšåˆƒè€Œè¡Œ">
<meta property="og:type" content="website">
<meta property="og:title" content="é£">
<meta property="og:url" content="http://yoursite.com/page/24/index.html">
<meta property="og:site_name" content="é£">
<meta property="og:description" content="éšå¿ƒè€ŒåŠ¨ï¼Œéšåˆƒè€Œè¡Œ">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="é£">
<meta name="twitter:description" content="éšå¿ƒè€ŒåŠ¨ï¼Œéšåˆƒè€Œè¡Œ">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/24/"/>





  <title>é£</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">é£</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">æŠ€æœ¯åšå®¢</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/14/Android/Androidä¸­Viewçš„ç»˜åˆ¶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/14/Android/Androidä¸­Viewçš„ç»˜åˆ¶/" itemprop="url">Androidä¸­Viewçš„ç»˜åˆ¶.md</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-14T17:54:53+08:00">
                2018-11-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Viewçš„ç»˜åˆ¶åŸç†"><a href="#Viewçš„ç»˜åˆ¶åŸç†" class="headerlink" title="Viewçš„ç»˜åˆ¶åŸç†"></a>Viewçš„ç»˜åˆ¶åŸç†</h1><p>Viewé€šè¿‡åˆ·æ–°æ¥ç»˜åˆ¶è§†å›¾ï¼Œä¸ºäº†ä¸è®©ç”»é¢æ‰å¸§ï¼ŒAndroidç³»ç»Ÿ4.1ä¹‹åé€šè¿‡å‘å‡º<strong>VSYNC</strong>(å‚ç›´åŒæ­¥)ä¿¡å·è¿›è¡Œå±å¹•ç»˜åˆ¶ï¼Œã€‚ä¸ºäº†ä¸æ‰å¸§ï¼ŒViewçš„ç»˜åˆ¶éœ€è¦åœ¨<strong>16ms</strong>ä¹‹å†…å®Œæˆã€‚å¦‚æœæ‰§è¡Œè€—æ—¶å¤ªé•¿æˆ–è€…éœ€è¦é¢‘ç¹åˆ·æ–°ï¼Œé‚£ä¹ˆViewå°±ä¸åˆé€‚äº†ï¼Œå½±å“ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½ã€‚</p>
<h1 id="SurfaceView"><a href="#SurfaceView" class="headerlink" title="SurfaceView"></a>SurfaceView</h1><p> SurfaceViewå†…éƒ¨æ˜¯åœ¨å­çº¿ç¨‹è¿›è¡Œé¡µé¢åˆ·æ–°ï¼Œä½¿ç”¨äº†åŒç¼“å†²æœºåˆ¶ï¼Œæ€§èƒ½æ¯”Viewæ›´å¥½</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/14/Android/Androidç”»æ¿å®ç°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/14/Android/Androidç”»æ¿å®ç°/" itemprop="url">Androidç”»æ¿å®ç°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-14T17:54:53+08:00">
                2018-11-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><p>ä½¿ç”¨Canvas</p>
<p>ç»˜åˆ¶å›¾å½¢æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>ç›´æ¥ç”»ï¼ŒdrawXXX: drawLine,drawCircle</li>
<li>é€šè¿‡pathç”»ï¼ŒdrawPath(Path path, Paint paint)</li>
</ul>
<h2 id="è´å¡å°”æ›²çº¿"><a href="#è´å¡å°”æ›²çº¿" class="headerlink" title="è´å¡å°”æ›²çº¿"></a>è´å¡å°”æ›²çº¿</h2><p>ä¸‰è¦ç´ ï¼šèµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œæ§åˆ¶ç‚¹(å†³å®šæ›²çº¿çš„å¼¯æ›²ç¨‹åº¦)</p>
<ul>
<li>ä¸€é˜¶ï¼šèµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œæ²¡æœ‰æ§åˆ¶ç‚¹</li>
<li>äºŒé˜¶ï¼šèµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œä¸€ä¸ªæ§åˆ¶ç‚¹</li>
<li>äºŒé˜¶ï¼šèµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œä¸¤ä¸ªæ§åˆ¶ç‚¹</li>
</ul>
<h1 id="ä¸¤ç§å®ç°æ–¹å¼"><a href="#ä¸¤ç§å®ç°æ–¹å¼" class="headerlink" title="ä¸¤ç§å®ç°æ–¹å¼"></a>ä¸¤ç§å®ç°æ–¹å¼</h1><ul>
<li>è‡ªå®šä¹‰View<ul>
<li>å¤å†™onDraw(Canvas canvas)</li>
<li>å¤å†™onTouchEvent(MotionEvent event)</li>
</ul>
</li>
<li>ä½¿ç”¨ImageView<ul>
<li>ç”¨Canvasç»˜åˆ¶ä¸€å¼ ç©ºçš„Bitmapï¼Œé€šè¿‡ImageViewçš„setImageBitmap()æ–¹æ³•åŠ è½½è¿™ä¸ªBitmap</li>
<li>setOnTouchListener()</li>
</ul>
</li>
</ul>
<h2 id="è‡ªå®šä¹‰View"><a href="#è‡ªå®šä¹‰View" class="headerlink" title="è‡ªå®šä¹‰View"></a>è‡ªå®šä¹‰View</h2><p>å®Œæ•´å®ç°å³ç”¨çš„æ˜¯è‡ªå®šä¹‰View</p>
<h2 id="ä½¿ç”¨ImageViewå®ç°ç»˜åˆ¶ç›´çº¿"><a href="#ä½¿ç”¨ImageViewå®ç°ç»˜åˆ¶ç›´çº¿" class="headerlink" title="ä½¿ç”¨ImageViewå®ç°ç»˜åˆ¶ç›´çº¿"></a>ä½¿ç”¨ImageViewå®ç°ç»˜åˆ¶ç›´çº¿</h2><p>ä¸æ–­ç»˜åˆ¶ç›´çº¿(æŠ˜ç°)ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨äºŒé˜¶è´å¡å°”æ›²çº¿ç»˜åˆ¶(ä»¥èµ·ç‚¹å’Œç»ˆç‚¹çš„ä¸­ç‚¹ä½œä¸ºæ§åˆ¶ç‚¹)ï¼Œæ•ˆæœæ›´åŠ å¹³æ»‘</p>
<pre><code>private void showImage() {
    // åˆ›å»ºä¸€å¼ ç©ºç™½å›¾ç‰‡
    mBitmap = Bitmap.createBitmap(720, 1280, Bitmap.Config.ARGB_8888);
    // åˆ›å»ºä¸€å¼ ç”»å¸ƒ
    canvas = new Canvas(mBitmap);
    // ç”»å¸ƒèƒŒæ™¯ä¸ºç™½è‰²
    canvas.drawColor(Color.WHITE);
    // åˆ›å»ºç”»ç¬”
    paint = new Paint();
    // ç”»ç¬”é¢œè‰²ä¸ºè“è‰²
    paint.setColor(Color.BLUE);
    // å®½åº¦5ä¸ªåƒç´ 
    paint.setStrokeWidth(5);
    // å…ˆå°†ç™½è‰²èƒŒæ™¯ç”»ä¸Š
    canvas.drawBitmap(mBitmap, new Matrix(), paint);
    img.setImageBitmap(mBitmap);//å±•ç¤ºç™½è‰²èƒŒæ™¯å›¾

    img.setOnTouchListener(new View.OnTouchListener() {
        int startX;
        int startY;

        @Override
        public boolean onTouch(View v, MotionEvent event) {
            switch (event.getAction()) {
                case MotionEvent.ACTION_DOWN:
                    // è·å–æ‰‹æŒ‰ä¸‹æ—¶çš„åæ ‡
                    startX = (int) event.getX();
                    startY = (int) event.getY();
                    break;
                case MotionEvent.ACTION_MOVE:
                    // è·å–æ‰‹ç§»åŠ¨åçš„åæ ‡
                    int endX = (int) event.getX();
                    int endY = (int) event.getY();
                    // åœ¨å¼€å§‹å’Œç»“æŸåæ ‡é—´ç”»ä¸€æ¡çº¿
                    canvas.drawLine(startX, startY, endX, endY, paint);
                    // åˆ·æ–°å¼€å§‹åæ ‡
                    startX = (int) event.getX();
                    startY = (int) event.getY();
                    img.setImageBitmap(mBitmap);
                    break;
            }
            return true;
        }
    });
}
</code></pre><h1 id="å®Œæ•´å®ç°"><a href="#å®Œæ•´å®ç°" class="headerlink" title="å®Œæ•´å®ç°"></a>å®Œæ•´å®ç°</h1><p>åŠŸèƒ½ï¼š</p>
<ul>
<li>æ”¯æŒæ’¤é”€ï¼ˆundoï¼‰ï¼›</li>
<li>æ”¯æŒåæ’¤é”€ï¼ˆredoï¼‰ï¼›</li>
<li>æ”¯æŒæ©¡çš®æ“¦ï¼ˆeraserï¼‰ï¼›</li>
<li>æ”¯æŒæ¸…é™¤åŠŸèƒ½ï¼ˆclearï¼‰ï¼›</li>
<li>æ”¯æŒä¿å­˜ä¸ºå›¾åƒï¼ˆsaveï¼‰ã€‚</li>
</ul>
<p><a href="https://github.com/wensefu/android-palette" target="_blank" rel="noopener">GitHub</a></p>
<h2 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h2><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><ul>
<li>ç»˜åˆ¶ï¼šè€ƒè™‘åˆ°æ€§èƒ½é—®é¢˜ï¼Œä½¿ç”¨äº†åŒç¼“å†²ç»˜å›¾æŠ€æœ¯ã€‚</li>
<li>æ’¤é”€åŠŸèƒ½ï¼šåœ¨ç”»è½¨è¿¹æ—¶ï¼Œè®°å½•æ¯ä¸€æ­¥çš„è½¨è¿¹å’Œç”»ç¬”å±æ€§ï¼Œæ¯æ¬¡æ’¤é”€æ—¶æŠŠæœ€åä¸€æ­¥åˆ é™¤ï¼Œç„¶åé‡ç»˜ï¼›</li>
<li>åæ’¤é”€åŠŸèƒ½ï¼šæ’¤é”€æ—¶æŠŠæ’¤é”€çš„è½¨è¿¹å’Œç”»ç¬”å±æ€§ä¿å­˜åœ¨å¦ä¸€ä¸ªåˆ—è¡¨é‡Œï¼Œåæ’¤é”€æ—¶ä»è¿™ä¸ªåˆ—è¡¨é‡Œå–å‡ºæ¥æ”¾åˆ°è®°å½•ç»˜åˆ¶ä¿¡æ¯çš„åˆ—è¡¨é‡Œï¼Œç„¶åé‡ç»˜ï¼›</li>
<li>æ©¡çš®æ“¦åŠŸèƒ½ï¼šåº”ç”¨åˆ°androidçš„å›¾è±¡æ··åˆï¼ˆXfermodeï¼‰çŸ¥è¯†</li>
<li>æ¸…é™¤åŠŸèƒ½ï¼šæ¸…é™¤å±ä¸Šçš„åƒç´ è®°å½•å³å¯ï¼›</li>
</ul>
<h3 id="androidçš„å›¾è±¡æ··åˆï¼ˆXfermodeï¼‰"><a href="#androidçš„å›¾è±¡æ··åˆï¼ˆXfermodeï¼‰" class="headerlink" title="androidçš„å›¾è±¡æ··åˆï¼ˆXfermodeï¼‰"></a>androidçš„å›¾è±¡æ··åˆï¼ˆXfermodeï¼‰</h3><p>å›¾è±¡æ··åˆæœ¬è´¨ä¸Šç”¨ä¸€å¥è¯è§£é‡Šå°±æ˜¯ï¼š</p>
<pre><code>æŒ‰ç…§æŸç§ç®—æ³•å°†ç”»å¸ƒä¸Šä½ å°†è¦ç»˜åˆ¶çš„åŒºåŸŸçš„æ¯ä¸ªåƒç´ çš„ARGBå’Œä½ å°†è¦åœ¨è¿™ä¸ªåŒºåŸŸç»˜åˆ¶çš„ARGBè¿›è¡Œç»„åˆå˜æ¢ã€‚
</code></pre><p>Xfermodeæœ‰ä¸‰ä¸ªå­ç±»ï¼Œä¸¤ä¸ªåœ¨API 16ä¸Šå·²ç»è¿‡æ—¶äº†ï¼Œç°åœ¨æœ€å¸¸ç”¨çš„æ˜¯PorterDuffXfermodeï¼Œç›®å‰æ”¯æŒ18ç§å›¾åƒæ··åˆç®—æ³•ï¼Œåˆ†åˆ«äº§ç”Ÿä¸åŒçš„æ··åˆæ•ˆæœï¼Œåšæ©¡çš®æ“¦åŠŸèƒ½ç”¨åˆ°äº†CLEARç®—æ³•(PorterDuff.Mode.CLEAR,å°†ç»˜åˆ¶åŒºåŸŸçš„æ‰€æœ‰åƒç´ ç‚¹ARGBå…¨éƒ¨ç½®0ï¼Œæ˜¾ç¤ºactivityçš„èƒŒæ™¯è‰²ï¼Œæ²¡è®¾ç½®é»˜è®¤ä¸ºé»‘è‰²èƒŒæ™¯)ï¼Œå…¶ä»–ç®—æ³•çš„æ•ˆæœå¤§å®¶æœ‰å…´è¶£å¯ä»¥å‚è€ƒgoogleå®˜æ–¹çš„ä»‹ç»</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒXfermodeçš„æŸäº›ç®—æ³•ä¸æ”¯æŒç¡¬ä»¶åŠ é€Ÿ</p>
<h3 id="androidåŒç¼“å†²ç»˜å›¾æŠ€æœ¯"><a href="#androidåŒç¼“å†²ç»˜å›¾æŠ€æœ¯" class="headerlink" title="androidåŒç¼“å†²ç»˜å›¾æŠ€æœ¯"></a>androidåŒç¼“å†²ç»˜å›¾æŠ€æœ¯</h3><p>æ‰€è°“ç¼“å†²ï¼Œç®€å•åœ°è¯´å°±æ˜¯å°†<strong>å¤šä¸ªå°†è¦æ‰§è¡Œçš„ç‹¬ç«‹çš„ä»»åŠ¡é›†ç»“èµ·æ¥</strong>ï¼Œä¸€èµ·æäº¤ã€‚</p>
<p>æ‰“ä¸ªæ¯”æ–¹ï¼Œç°å®ç”Ÿæ´»ä¸­ï¼Œä½ ç°åœ¨è¦å°†å¾ˆå¤šç –ä»Aå¤„æ¬åˆ°Bå¤„ï¼ŒåŸå§‹çš„æ–¹æ³•æ˜¯å¾’æ‰‹ä¸€æ¬¡æ¬å‡ å—ï¼Œè¿™å°±æ˜¯æ²¡æœ‰ä½¿ç”¨â€œç¼“å­˜â€çš„æ–¹æ³•ã€‚ä½ ä¹Ÿå¯ä»¥ç”¨ä¸€è¾†æ‹–è½¦ï¼Œå…ˆæŠŠç –æ¬åˆ°æ‹–è½¦ä¸Šï¼Œå†æŠŠæ‹–è½¦æ‹‰åˆ°Bå¤„ï¼Œè¿™å°±æ˜¯ä½¿ç”¨äº†â€œç¼“å­˜â€çš„æ–¹æ³•ã€‚</p>
<p>æ¯ä¸ªcanvaséƒ½æœ‰å¯¹åº”çš„ä¸€ä¸ªbitmapï¼Œç»˜å›¾çš„è¿‡ç¨‹å®é™…ä¸Šå°±æ˜¯å¾€è¿™ä¸ªbitmapä¸Šå†™å…¥ARGBä¿¡æ¯ï¼Œç„¶åæŠŠè¿™äº›ä¿¡æ¯äº¤ç»™GPUè¿›è¡Œæ˜¾ç¤ºã€‚è¿™é‡Œé¢å…¶å®å·²ç»åŒ…å«äº†ä¸€æ¬¡ç¼“å†²çš„è¿‡ç¨‹(<strong>æ˜¾ç¤ºç¼“å†²</strong>)ã€‚</p>
<p>ç»˜å›¾æ—¶çš„åŒç¼“å†²å…¶å®å°±æ˜¯å†å¢åŠ ä¸€ä¸ªcanvasï¼ŒæŠŠæƒ³è¦ç»˜åˆ¶çš„å†…å®¹å…ˆç»˜åˆ¶åˆ°è¿™ä¸ªå¢åŠ çš„canvaså¯¹åº”çš„bitmapä¸Šï¼Œå†™å®Œåå†æŠŠè¿™ä¸ªbitmapçš„ARGBä¿¡æ¯ä¸€æ¬¡æäº¤ç»™ä¸Šä¸‹æ–‡çš„canvaså»ç»˜åˆ¶ã€‚</p>
<p>åŒç¼“å†²æŠ€æœ¯åœ¨ç»˜åˆ¶æ•°æ®é‡è¾ƒå¤§æ—¶åœ¨æ€§èƒ½ä¸Šæœ‰æ˜æ˜¾çš„æå‡ï¼Œç”»æ¿ç¨‹åºä¹‹æ‰€ä»¥ç”¨åˆ°äº†åŒç¼“å­˜ï¼Œä¹Ÿæ˜¯åŸºäºæé«˜ç»˜åˆ¶æ•ˆç‡çš„è€ƒè™‘ã€‚</p>
<h4 id="æ˜¾ç¤ºç¼“å†²çš„éªŒè¯"><a href="#æ˜¾ç¤ºç¼“å†²çš„éªŒè¯" class="headerlink" title="æ˜¾ç¤ºç¼“å†²çš„éªŒè¯"></a>æ˜¾ç¤ºç¼“å†²çš„éªŒè¯</h4><pre><code>@Override
protected void onDraw(Canvas canvas) {
    canvas.drawRect(rect,mPaint);
    try {
        TimeUnit.MILLISECONDS.sleep(2000);
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
    canvas.drawCircle(cx,cy,100,mPaint);
}
ä¸¤ä¸ªå‡ ä¹åŒæ—¶ä¸€èµ·æ˜¾ç¤ºå‡ºæ¥çš„ã€‚
è¿™å°±è¯´æ˜å¿…é¡»è¦ç­‰onDrawæ–¹æ³•æ‰§è¡Œå®Œæˆä¹‹åï¼Œæ‰ä¼šæŠŠæ•°æ®äº¤ç»™GPUå»å¤„ç†å±•ç¤ºã€‚
è¿™å°±æ˜¯androidç»˜å›¾å½“ä¸­çš„ç¬¬ä¸€é“ç¼“å†²ï¼Œå³æ˜¾ç¤ºç¼“å†²åŒºã€‚
</code></pre><h4 id="åŒç¼“å†²"><a href="#åŒç¼“å†²" class="headerlink" title="åŒç¼“å†²"></a>åŒç¼“å†²</h4><ul>
<li>å†åˆ›å»ºä¸€ä¸ªCanvaså’Œå¯¹åº”çš„Bitmap</li>
<li>åœ¨onDrawæ–¹æ³•é‡Œé»˜è®¤çš„Canvasé€šè¿‡drawBitmapç”»bitmapä»è€Œå®ç°åŒç¼“å†²ã€‚</li>
</ul>
<p>ç”¨ä»£ç ç®€å•çš„è¡¨è¿°æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code>private void init(){
    Bitmap bufferBm = Bitmap.create(getWidth,getHeight,Bitmap.Config.ARGB_8888);
    Canvas bufferCanvas = new Canvas(bufferBm);
}

private void drawSomething(){
    bufferCanvas.drawRect();
    bufferCanvas.drawCircle();
    ...
    invalidate();
}

@Override
protected void onDraw(Canvas canvas) {
    canvas.drawBitmap(bufferBm,0,0,null);
}
</code></pre><img src="/2018/11/14/Android/Androidç”»æ¿å®ç°/åŒç¼“å†².png">
<h4 id="åŒç¼“å†²ç»˜å›¾çš„ä¼˜ç¼ºç‚¹åŠé€‚ç”¨åœºæ™¯"><a href="#åŒç¼“å†²ç»˜å›¾çš„ä¼˜ç¼ºç‚¹åŠé€‚ç”¨åœºæ™¯" class="headerlink" title="åŒç¼“å†²ç»˜å›¾çš„ä¼˜ç¼ºç‚¹åŠé€‚ç”¨åœºæ™¯"></a>åŒç¼“å†²ç»˜å›¾çš„ä¼˜ç¼ºç‚¹åŠé€‚ç”¨åœºæ™¯</h4><p>ä½¿ç”¨åŒç¼“å†²ä¼šå¢åŠ å†…å­˜æ¶ˆè€—ã€‚</p>
<ul>
<li>åœ¨ç»˜åˆ¶æ•°æ®é‡è¾ƒå°æ—¶ï¼Œä¸ä½¿ç”¨åŒç¼“å†²ï¼ŒGPUçš„è´Ÿè·æ›´ä½ï¼Œå³ç»˜åˆ¶æ€§èƒ½æ›´é«˜ï¼›</li>
<li>åœ¨ç»˜åˆ¶æ•°æ®é‡è¾ƒå¤§æ—¶ï¼Œä½¿ç”¨åŒç¼“å†²ç»˜å›¾ï¼Œç»˜åˆ¶æ€§èƒ½æ˜æ˜¾é«˜äºä¸ä½¿ç”¨åŒç¼“å†²çš„æƒ…å†µï¼›</li>
</ul>
<p><strong>å®ä¾‹éªŒè¯ï¼šè‡ªå®šä¹‰View,æ¯æ¬¡ç‚¹å‡»åœ¨ç‚¹å‡»å¤„ç”»ä¸€ä¸ªåœ†</strong></p>
<p>å®éªŒä¹‹å‰ï¼Œå…ˆæ‰“å¼€å¼€å‘è€…é€‰é¡¹é‡Œçš„â€GPUå‘ˆç°æ¨¡å¼åˆ†æâ€œï¼Œè®¾ç½®ä¸ºâ€œåœ¨å±å¹•ä¸Šæ˜¾ç¤ºä¸ºæ¡å½¢å›¾â€</p>
<p>ä¸ç”¨åŒç¼“å†²çš„ä»£ç ï¼š</p>
<pre><code>public class MyView extends View{

    private Paint mPaint;
    private List&lt;Point&gt; mPoints;

    public MyView(Context context) {
        super(context);
    }

    public MyView(Context context, AttributeSet attrs) {
        super(context, attrs);
        mPaint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG);
        mPaint.setStyle(Paint.Style.FILL);
        mPaint.setColor(Color.GREEN);
        setBackgroundColor(Color.WHITE);
        mPoints = new ArrayList&lt;&gt;();
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        int action = event.getAction();
        switch (action){
            case MotionEvent.ACTION_DOWN:
                mPoints.add(new Point((int)event.getX(),(int)event.getY()));
                break;
            case MotionEvent.ACTION_UP:
                invalidate();
                break;
        }
        return true;
    }

    @Override
    protected void onDraw(Canvas canvas) {
        for (Point p : mPoints) {
            canvas.drawCircle(p.x,p.y,50,mPaint);
        }
    }
}
</code></pre><p>åŒç¼“å†²ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>public class MyView extends View{

    private Paint mPaint;
    private Canvas mBufferCanvas;
    private Bitmap mBufferBitmap;

    public MyView(Context context) {
        super(context);
    }

    public MyView(Context context, AttributeSet attrs) {
        super(context, attrs);
        mPaint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG);
        mPaint.setStyle(Paint.Style.FILL);
        mPaint.setColor(Color.GREEN);
        setBackgroundColor(Color.WHITE);
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        int action = event.getAction();
        switch (action){
            case MotionEvent.ACTION_DOWN:
                if (mBufferBitmap == null) {
                    mBufferBitmap = Bitmap.createBitmap(getWidth(),getHeight(), Bitmap.Config.ARGB_8888);
                    mBufferCanvas = new Canvas(mBufferBitmap);
                }
                mBufferCanvas.drawCircle((int)event.getX(),(int)event.getY(),50,mPaint);
                break;
            case MotionEvent.ACTION_UP:
                invalidate();
                break;
        }
        return true;
    }

    @Override
    protected void onDraw(Canvas canvas) {
        if (mBufferBitmap == null) {
            return;
        }
        canvas.drawBitmap(mBufferBitmap,0,0,null);
    }
}
</code></pre><h2 id="å…³é”®ä»£ç "><a href="#å…³é”®ä»£ç " class="headerlink" title="å…³é”®ä»£ç "></a>å…³é”®ä»£ç </h2><p>éå¸¸ç®€çŸ­ï¼Œåªæœ‰200æ¥è¡Œ</p>
<pre><code>package com.shensz.course.module.main.screen.liveroom.component;

import android.content.Context;
import android.content.res.Resources;
import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Path;
import android.graphics.PorterDuff;
import android.graphics.PorterDuffXfermode;
import android.graphics.Xfermode;
import android.support.annotation.Nullable;
import android.util.AttributeSet;
import android.util.DisplayMetrics;
import android.util.TypedValue;
import android.view.MotionEvent;
import android.view.View;

import java.util.ArrayList;
import java.util.List;

public class PaletteView extends View {

    private Paint mPaint;
    private Path mPath;
    private float mLastX;
    private float mLastY;
    private Bitmap mBufferBitmap;
    private Canvas mBufferCanvas;

    private static final int MAX_CACHE_STEP = 20;

    private List&lt;DrawingInfo&gt; mDrawingList;
    private List&lt;DrawingInfo&gt; mRemovedList;

    private Xfermode mXferModeClear;
    private Xfermode mXferModeDraw;
    private int mDrawSize;
    private int mEraserSize;
    private int mPenAlpha = 255;

    private boolean mCanEraser;

    private Callback mCallback;

    public enum Mode {
        DRAW,
        ERASER
    }

    private Mode mMode = Mode.DRAW;


    public PaletteView(Context context) {
        super(context);
        init();
    }

    public PaletteView(Context context, @Nullable AttributeSet attrs) {
        super(context, attrs);
        init();
    }

    public PaletteView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {
        super(context, attrs, defStyleAttr);
        init();
    }

    public interface Callback {
        void onUndoRedoStatusChanged();
    }

    public void setCallback(Callback callback) {
        mCallback = callback;
    }

    public static class DimenUtils {

        private static final Resources sResource = Resources.getSystem();

        public static float dp2px(float dp) {
            DisplayMetrics dm = sResource.getDisplayMetrics();
            return TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, dp, dm);
        }

        public static int dp2pxInt(float dp) {
            return (int) dp2px(dp);
        }

        public static float sp2px(float sp) {
            DisplayMetrics dm = sResource.getDisplayMetrics();
            return TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, sp, dm);
        }

        public static int sp2pxInt(float sp) {
            return (int) sp2px(sp);
        }


    }

    private void init() {
        setDrawingCacheEnabled(true);
        mPaint = new Paint(Paint.ANTI_ALIAS_FLAG | Paint.DITHER_FLAG);
        mPaint.setStyle(Paint.Style.STROKE);
        mPaint.setFilterBitmap(true);
        mPaint.setStrokeJoin(Paint.Join.ROUND);
        mPaint.setStrokeCap(Paint.Cap.ROUND);
        mDrawSize = DimenUtils.dp2pxInt(3);
        mEraserSize = DimenUtils.dp2pxInt(30);
        mPaint.setStrokeWidth(mDrawSize);
        mPaint.setColor(0XFF000000);
        mXferModeDraw = new PorterDuffXfermode(PorterDuff.Mode.SRC);
        mXferModeClear = new PorterDuffXfermode(PorterDuff.Mode.CLEAR);
        mPaint.setXfermode(mXferModeDraw);
    }

    private void initBuffer() {
        mBufferBitmap = Bitmap.createBitmap(getWidth(), getHeight(), Bitmap.Config.ARGB_8888);
        mBufferCanvas = new Canvas(mBufferBitmap);
    }

    private abstract static class DrawingInfo {
        Paint paint;

        abstract void draw(Canvas canvas);
    }

    private static class PathDrawingInfo extends DrawingInfo {

        Path path;

        @Override
        void draw(Canvas canvas) {
            canvas.drawPath(path, paint);
        }
    }

    public Mode getMode() {
        return mMode;
    }

    public void setMode(Mode mode) {
        if (mode != mMode) {
            mMode = mode;
            if (mMode == Mode.DRAW) {
                mPaint.setXfermode(mXferModeDraw);
                mPaint.setStrokeWidth(mDrawSize);
            } else {
                mPaint.setXfermode(mXferModeClear);
                mPaint.setStrokeWidth(mEraserSize);
            }
        }
    }

    public void setEraserSize(int size) {
        mEraserSize = size;
    }

    public void setPenRawSize(int size) {
        mDrawSize = size;
        if (mMode == Mode.DRAW) {
            mPaint.setStrokeWidth(mDrawSize);
        }
    }

    public void setPenColor(int color) {
        mPaint.setColor(color);
    }

    private void reDraw() {
        if (mDrawingList != null) {
            mBufferBitmap.eraseColor(Color.TRANSPARENT);
            for (DrawingInfo drawingInfo : mDrawingList) {
                drawingInfo.draw(mBufferCanvas);
            }
            invalidate();
        }
    }

    public int getPenColor() {
        return mPaint.getColor();
    }

    public int getPenSize() {
        return mDrawSize;
    }

    public int getEraserSize() {
        return mEraserSize;
    }

    public void setPenAlpha(int alpha) {
        mPenAlpha = alpha;
        if (mMode == Mode.DRAW) {
            mPaint.setAlpha(alpha);
        }
    }

    public int getPenAlpha() {
        return mPenAlpha;
    }

    public boolean canRedo() {
        return mRemovedList != null &amp;&amp; mRemovedList.size() &gt; 0;
    }

    public boolean canUndo() {
        return mDrawingList != null &amp;&amp; mDrawingList.size() &gt; 0;
    }

    public void redo() {
        int size = mRemovedList == null ? 0 : mRemovedList.size();
        if (size &gt; 0) {
            DrawingInfo info = mRemovedList.remove(size - 1);
            mDrawingList.add(info);
            mCanEraser = true;
            reDraw();
            if (mCallback != null) {
                mCallback.onUndoRedoStatusChanged();
            }
        }
    }

    public void undo() {
        int size = mDrawingList == null ? 0 : mDrawingList.size();
        if (size &gt; 0) {
            DrawingInfo info = mDrawingList.remove(size - 1);
            if (mRemovedList == null) {
                mRemovedList = new ArrayList&lt;&gt;(MAX_CACHE_STEP);
            }
            if (size == 1) {
                mCanEraser = false;
            }
            mRemovedList.add(info);
            reDraw();
            if (mCallback != null) {
                mCallback.onUndoRedoStatusChanged();
            }
        }
    }

    public void clear() {
        if (mBufferBitmap != null) {
            if (mDrawingList != null) {
                mDrawingList.clear();
            }
            if (mRemovedList != null) {
                mRemovedList.clear();
            }
            mCanEraser = false;
            mBufferBitmap.eraseColor(Color.TRANSPARENT);
            invalidate();
            if (mCallback != null) {
                mCallback.onUndoRedoStatusChanged();
            }
        }
    }

    public Bitmap buildBitmap() {
        Bitmap bm = getDrawingCache();
        Bitmap result = Bitmap.createBitmap(bm);
        destroyDrawingCache();
        return result;
    }

    private void saveDrawingPath() {
        if (mDrawingList == null) {
            mDrawingList = new ArrayList&lt;&gt;(MAX_CACHE_STEP);
        } else if (mDrawingList.size() == MAX_CACHE_STEP) {
            mDrawingList.remove(0);
        }
        Path cachePath = new Path(mPath);
        Paint cachePaint = new Paint(mPaint);
        PathDrawingInfo info = new PathDrawingInfo();
        info.path = cachePath;
        info.paint = cachePaint;
        mDrawingList.add(info);
        mCanEraser = true;
        if (mCallback != null) {
            mCallback.onUndoRedoStatusChanged();
        }
    }

    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        if (mBufferBitmap != null) {
            canvas.drawBitmap(mBufferBitmap, 0, 0, null);
        }
    }

    @SuppressWarnings(&quot;all&quot;)
    @Override
    public boolean onTouchEvent(MotionEvent event) {
        if(!isEnabled()){
            return false;
        }
        final int action = event.getAction() &amp; MotionEvent.ACTION_MASK;
        final float x = event.getX();
        final float y = event.getY();
        switch (action) {
            case MotionEvent.ACTION_DOWN:
                mLastX = x;
                mLastY = y;
                if (mPath == null) {
                    mPath = new Path();
                }
                mPath.moveTo(x,y);
                break;
            case MotionEvent.ACTION_MOVE:
                //è¿™é‡Œç»ˆç‚¹è®¾ä¸ºä¸¤ç‚¹çš„ä¸­å¿ƒç‚¹çš„ç›®çš„åœ¨äºä½¿ç»˜åˆ¶çš„æ›²çº¿æ›´å¹³æ»‘ï¼Œå¦‚æœç»ˆç‚¹ç›´æ¥è®¾ç½®ä¸ºx,yï¼Œæ•ˆæœå’Œlinetoæ˜¯ä¸€æ ·çš„,å®é™…æ˜¯æŠ˜çº¿æ•ˆæœ
                mPath.quadTo(mLastX, mLastY, (x + mLastX) / 2, (y + mLastY) / 2);
                if (mBufferBitmap == null) {
                    initBuffer();
                }
                if (mMode == Mode.ERASER &amp;&amp; !mCanEraser) {
                    break;
                }
                mBufferCanvas.drawPath(mPath,mPaint);
                invalidate();
                mLastX = x;
                mLastY = y;
                break;
            case MotionEvent.ACTION_UP:
                if (mMode == Mode.DRAW || mCanEraser) {
                    saveDrawingPath();
                }
                mPath.reset();
                break;
        }
        return true;
    }
}
</code></pre><h1 id="Androidç”µå­ç™½æ¿"><a href="#Androidç”µå­ç™½æ¿" class="headerlink" title="Androidç”µå­ç™½æ¿"></a><a href="https://blog.csdn.net/u013491946/article/details/77983405" target="_blank" rel="noopener">Androidç”µå­ç™½æ¿</a></h1><p>åŸºæœ¬æ€è·¯æ˜¯åœ¨ç”»æ¿ä¸Šç¡®è®¤ä¸¤ä¸ªç‚¹ï¼Œä¸€ä¸ªèµ·ç‚¹ï¼Œä¸€ä¸ªç»ˆç‚¹ï¼Œæ ¹æ®é€‰æ‹©çš„å›¾å½¢æ ·å¼ï¼Œæ‹–åŠ¨çš„æ—¶å€™æœ‰é¢„è§ˆå›¾å½¢ï¼Œæ¾å¼€æ—¶å›¾å½¢å®šä¸‹æ¥æ˜¾ç¤ºåˆ°ç”»æ¿ä¸Šã€‚</p>
<p>åŠŸèƒ½</p>
<ul>
<li>æ›²çº¿ï¼Œç›´çº¿ï¼ŒçŸ©å½¢ï¼Œæ­£æ–¹å½¢ï¼Œåœ†ï¼Œæ¤­åœ†</li>
<li>æ©¡çš®æª«åŠŸèƒ½ï¼Œ</li>
<li>ç­›é€‰ç›¸å†Œå›¾ç‰‡æ˜¾ç¤ºåˆ°ç”»æ¿</li>
</ul>
<p>åˆ©ç”¨canvas.drawXXX å®ç°å›¾å½¢ç»˜åˆ¶</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/06/Android/AndroidStudioåœ¨Macç«¯ä½¿ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/06/Android/AndroidStudioåœ¨Macç«¯ä½¿ç”¨/" itemprop="url">AndroidStudioåœ¨Macç«¯ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-06T18:40:53+08:00">
                2018-11-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Javaå®‰è£…"><a href="#Javaå®‰è£…" class="headerlink" title="Javaå®‰è£…"></a>Javaå®‰è£…</h1><h2 id="Javaç›®å½•"><a href="#Javaç›®å½•" class="headerlink" title="Javaç›®å½•"></a>Javaç›®å½•</h2><p><code>/System/Libray/Frameworks/JavaVM.Framwork/Versions</code>ç›®å½•ä¸‹æ˜¯å·²ç»å®‰è£…äº†çš„ä¸åŒç‰ˆæœ¬çš„jdkã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1814304-771fec34bb725b50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><code>/Library/Java/JavaVirtualMachines</code>ç›®å½•ä¸‹æ˜¯å·²ç»å®‰è£…äº†çš„ä¸åŒç‰ˆæœ¬çš„jdkã€‚</p>
<h1 id="AndroidStudio3æ— æ³•æ‰“å¼€Android-device-monitor"><a href="#AndroidStudio3æ— æ³•æ‰“å¼€Android-device-monitor" class="headerlink" title="AndroidStudio3æ— æ³•æ‰“å¼€Android device monitor"></a>AndroidStudio3æ— æ³•æ‰“å¼€Android device monitor</h1><p>é¦–å…ˆæç¤ºå®‰è£… jdk 6</p>
<pre><code>ç›´æ¥ç‚¹æ›´å¤šä¿¡æ¯è·³è½¬å®‰è£…å³å¯
</code></pre><p>å†æ¬¡æ‰“å¼€ï¼ŒæŠ¥é”™</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1814304-9eda3efb3c659f0e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<pre><code>å®‰è£… jdk8
</code></pre><p>æ‰“å¼€ï¼Œå‘ç°ç™½å±</p>
<pre><code>å‘ç°å®‰è£…çš„æ˜¯jdk1.8.0_191
é™åˆ° jdk1.8.0_144
    è¦åˆ é™¤è¾ƒé«˜ç‰ˆæœ¬çš„jdkï¼Œå› ä¸ºå®ƒä¼šé»˜è®¤ä½¿ç”¨è¾ƒé«˜ç‰ˆæœ¬çš„ã€‚
    éœ€è¦é‡å¯ï¼Œsourceåªèƒ½è®©ç¯å¢ƒå˜é‡å¯¹å½“å‰çº¿ç¨‹ç”Ÿæ•ˆ
æå®š
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/27/Flutter/Androidå†…åµŒæ··åˆFlutter-è·¨å¹³å°çš„æ¸è¿›å¼è§£å†³æ–¹æ¡ˆ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/27/Flutter/Androidå†…åµŒæ··åˆFlutter-è·¨å¹³å°çš„æ¸è¿›å¼è§£å†³æ–¹æ¡ˆ/" itemprop="url">Androidå†…åµŒæ··åˆFlutter-è·¨å¹³å°çš„æ¸è¿›å¼è§£å†³æ–¹æ¡ˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-27T11:00:04+08:00">
                2018-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Flutterå·¥ç¨‹åªä½œä¸ºä¸€ä¸ªmoduleå¼•å…¥å·¥ç¨‹ï¼Œä»£ç å…¥ä¾µæå°ï¼ŒAndroidå·¥ç¨‹å’ŒFlutterå·¥ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹è¿è¡Œã€‚</p>
<p>å¯ä»¥åªä»ä¸€ä¸ªview/ä¸€ä¸ªé¡µé¢å¼€å§‹æ¥è®©Flutterå‚ä¸åˆ°é¡¹ç›®ä¸­å»</p>
<p>å†™æ­¤æ–‡æ—¶ï¼ŒGDD 2018å·²ç»ç»“æŸï¼Œä½¿ç”¨çš„æ˜¯ä¼šä¸Šå‘å¸ƒçš„preview 2ç‰ˆæœ¬ï¼Œå³<code>Flutter 0.8.2 â€¢ channel beta â€¢</code></p>
<h1 id="åˆ›å»ºå·¥ç¨‹"><a href="#åˆ›å»ºå·¥ç¨‹" class="headerlink" title="åˆ›å»ºå·¥ç¨‹"></a>åˆ›å»ºå·¥ç¨‹</h1><h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><pre><code>é¡¹ç›®æ ¹ç›®å½•
    â”œâ”€â”€ åŸç”Ÿå®‰å“å·¥ç¨‹ (android) ASæ‰“å¼€æ­¤å·¥ç¨‹ï¼Œå¯ç‹¬ç«‹è¿è¡Œ
        â”œâ”€â”€ app module
        â”œâ”€â”€ å…¶ä»– module
    â””â”€â”€ Flutter module (flutter_lib) ASæ‰“å¼€æ­¤å·¥ç¨‹ï¼Œå¯ç‹¬ç«‹è¿è¡Œ
        â”œâ”€â”€ .android (çº¯Flutterå·¥ç¨‹flutter_app æ²¡æœ‰.å‰ç¼€)
            â”œâ”€â”€ app 
            â”œâ”€â”€ Flutter (çº¯Flutterå·¥ç¨‹flutter_app æ²¡æœ‰è¯¥module)
        â”œâ”€â”€ lib
            â”œâ”€â”€ main.dart
        â”œâ”€â”€ .ios (çº¯Flutterå·¥ç¨‹flutter_app æ²¡æœ‰.å‰ç¼€)
</code></pre><table>
<thead>
<tr>
<th>åŒºåˆ«</th>
<th>Flutter moduleå·¥ç¨‹ä¸­çš„Androidå·¥ç¨‹</th>
<th>çº¯Flutteråº”ç”¨å·¥ç¨‹ä¸­çš„Androidå·¥ç¨‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ–‡ä»¶å¤¹åç§°</td>
<td>.android</td>
<td>android</td>
</tr>
<tr>
<td>åŒ…å«çš„module</td>
<td>appå’ŒFlutter</td>
<td>app</td>
</tr>
<tr>
<td>è¯´æ˜</td>
<td>appåªæä¾›äº†å…¥å£Activityï¼ŒFlutteråŒ…å«äº†æ’ä»¶æ‰©å±•åŠåŸç”Ÿå·¥ç¨‹è°ƒç”¨çš„æ¥å£</td>
<td>appåŒ…å«å…¥å£ActivityåŠæ’ä»¶æ‰©å±•</td>
</tr>
<tr>
<td>è¯´æ˜</td>
<td>appä¾›Flutterè‡ªèº«å¼€å‘è°ƒè¯•ï¼ŒFlutterä½œä¸ºmoduleä¾›AndroidåŸç”Ÿè°ƒç”¨</td>
<td>appä½œä¸ºAndroidå·¥ç¨‹è¿è¡ŒåŠæ‰“åŒ…</td>
</tr>
</tbody>
</table>
<h2 id="åˆ›å»ºAndroidå·¥ç¨‹"><a href="#åˆ›å»ºAndroidå·¥ç¨‹" class="headerlink" title="åˆ›å»ºAndroidå·¥ç¨‹"></a>åˆ›å»ºAndroidå·¥ç¨‹</h2><p>è¿™é‡Œå‹¾é€‰ä¸Škotlinæ”¯æŒã€‚å‡†å¤‡ç”¨kotlinå®ç°AndroidåŸç”Ÿ</p>
<h2 id="åˆ›å»ºFlutter-module"><a href="#åˆ›å»ºFlutter-module" class="headerlink" title="åˆ›å»ºFlutter module"></a>åˆ›å»ºFlutter module</h2><p>flutter create -t module flutter_lib</p>
<h2 id="å¼•ç”¨Flutter-module"><a href="#å¼•ç”¨Flutter-module" class="headerlink" title="å¼•ç”¨Flutter module"></a>å¼•ç”¨Flutter module</h2><p>androidæ ¹ç›®å½• setting.gradle</p>
<pre><code> //åŠ å…¥ä¸‹é¢é…ç½®
setBinding(new Binding([gradle: this]))
evaluate(new File(
        settingsDir.parentFile,
        &apos;flutter_lib/.android/include_flutter.groovy&apos;
))
</code></pre><p>appçš„ build.gradle</p>
<pre><code>...
dependencies {
    ...
    // åŠ å…¥ä¸‹é¢é…ç½®
    implementation project(&apos;:flutter&apos;)
}    
</code></pre><p>ASæ‰“å¼€androidå·¥ç¨‹ï¼Œé‡æ–°æ„å»ºé¡¹ç›®ï¼Œå³å¯æˆåŠŸçš„å°†FlutteråŠ å…¥Androidå·¥ç¨‹(å³ç”Ÿæˆ <code>æ ¹ç›®å½•/flutter_lib/.android/Flutter</code>)ã€‚    </p>
<h1 id="Androidå·¥ç¨‹ä¸­ä½¿ç”¨Flutterç»„ä»¶"><a href="#Androidå·¥ç¨‹ä¸­ä½¿ç”¨Flutterç»„ä»¶" class="headerlink" title="Androidå·¥ç¨‹ä¸­ä½¿ç”¨Flutterç»„ä»¶"></a>Androidå·¥ç¨‹ä¸­ä½¿ç”¨Flutterç»„ä»¶</h1><p>Flutteræä¾›äº†ä¸¤ç§æ–¹å¼è®©Androidå·¥ç¨‹æ¥å¼•ç”¨ç»„ä»¶</p>
<ul>
<li><p>ä¸€ç§æ˜¯View</p>
<p>  <code>FlutterView createView(Activity activity, final Lifecycle lifecycle, final String initialRoute)</code></p>
</li>
<li><p>ä¸€ç§æ˜¯Fragment</p>
<p>  <code>FlutterFragment createFragment(String initialRoute)</code></p>
</li>
</ul>
<h2 id="å®ä¾‹ï¼šä½œä¸ºé¡µé¢çš„æ ¹View"><a href="#å®ä¾‹ï¼šä½œä¸ºé¡µé¢çš„æ ¹View" class="headerlink" title="å®ä¾‹ï¼šä½œä¸ºé¡µé¢çš„æ ¹View"></a>å®ä¾‹ï¼šä½œä¸ºé¡µé¢çš„æ ¹View</h2><pre><code>class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        val flutterView = Flutter.createView(this@MainActivity, lifecycle, &quot;route1&quot;)
        val layout = FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT, FrameLayout.LayoutParams.MATCH_PARENT)
        val layout = FrameLayout.LayoutParams(600, 1200)
        addContentView(flutterView, layout)
    }
}
</code></pre><h3 id="setContentViewç„¶åaddContentViewçš„åŸå› â€“é˜²æ­¢å¯åŠ¨é»‘å±"><a href="#setContentViewç„¶åaddContentViewçš„åŸå› â€“é˜²æ­¢å¯åŠ¨é»‘å±" class="headerlink" title="setContentViewç„¶åaddContentViewçš„åŸå› â€“é˜²æ­¢å¯åŠ¨é»‘å±"></a>setContentViewç„¶åaddContentViewçš„åŸå› â€“é˜²æ­¢å¯åŠ¨é»‘å±</h3><p><strong>è®¾ç½®FlutterViewåŠ è½½å®Œæˆä¹‹å‰å±•ç¤ºç»™ç”¨æˆ·çš„ç•Œé¢ã€‚</strong> å½“ç„¶å¤§éƒ¨åˆ†æƒ…å†µä¸‹ç”¨æˆ·æ ¹æœ¬æ„ŸçŸ¥ä¸åˆ°è¿™ä¸ªç•Œé¢Flutterå°±å·²ç»åŠ è½½å®Œæˆäº†ï¼Œä½†æˆ‘ä»¬ä»éœ€è¦å®ƒ</p>
<ul>
<li>è™½ç„¶FLutterçš„åŠ è½½é€Ÿåº¦éå¸¸å¿«ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¾ç„¶å­˜åœ¨</li>
<li>å¦‚æœæ²¡æœ‰è¿™ä¸ªç•Œé¢çš„è¯åœ¨Activityçš„åŠ è½½è¿‡ç¨‹ä¼šå‡ºç°ä¸€ä¸ªé»‘è‰²çš„é—ªå±ï¼Œç”¨æˆ·ä½“éªŒå·®</li>
<li>debugæ¨¡å¼ä¸‹Flutterçš„åŠ è½½é€Ÿåº¦å¹¶ä¸æ˜¯éå¸¸å¿«ï¼Œè¿™ä¸ªç•Œé¢å¯ä»¥ç»™å¼€å‘äººå‘˜çœ‹<ul>
<li>å®é™…æµ‹è¯•å‘ç°ï¼Œå³ä½¿è¿™æ ·å¤„ç†ï¼Œåœ¨æµ‹è¯•æœºä¸Šdebugæœ‰é»‘è‰²é—ªå±ï¼Œreleaseæ­£å¸¸<ul>
<li>å¯èƒ½æµ‹è¯•æœºå¤ªæ¸£ï¼Œç›´æ¥æ–°å»ºä¸€ä¸ªhelloworldå·¥ç¨‹(kotlin)å†·å¯åŠ¨éƒ½ä¼šæœ‰æ˜æ˜¾ç™½å±</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="Flutterå·¥ç¨‹ä¸­æ ¹æ®routeåˆ›å»ºç»„ä»¶"><a href="#Flutterå·¥ç¨‹ä¸­æ ¹æ®routeåˆ›å»ºç»„ä»¶" class="headerlink" title="Flutterå·¥ç¨‹ä¸­æ ¹æ®routeåˆ›å»ºç»„ä»¶"></a>Flutterå·¥ç¨‹ä¸­æ ¹æ®routeåˆ›å»ºç»„ä»¶</h1><p>å¯ä»¥é€šè¿‡windowçš„å…¨å±€å˜é‡ä¸­è·å–åˆ°å½“å‰çš„routeNameï¼Œè¿™ä¸ªå€¼æ­£æ˜¯ä¸Šé¢é€šè¿‡åŸç”Ÿå·¥ç¨‹ä¼ ç»™Flutterçš„æ ‡è¯†ï¼Œæœ‰äº†è¿™ä¸ªæ ‡è¯†å°±å¯ä»¥ç®€å•çš„åšåˆ¤æ–­æ¥è¿›è¡Œä¸åŒçš„ç»„ä»¶åˆ›å»ºäº†ï¼š<br>import â€˜dart:uiâ€™;<br>import â€˜package:flutter/material.dartâ€™;</p>
<p>void main() =&gt; runApp(_widgetForRoute(window.defaultRouteName));</p>
<p>//æ ¹æ®ä¸åŒçš„æ ‡è¯†åˆ›å»ºä¸åŒçš„ç»„ä»¶ç»™åŸç”Ÿå·¥ç¨‹è°ƒç”¨<br>Widget _widgetForRoute(String route) {<br>  switch (route) {<br>    case â€˜route1â€™:<br>      return SomeWidget(â€¦);<br>    case â€˜route2â€™:<br>      return SomeOtherWidget(â€¦);<br>    default:<br>      return Center(<br>        child: Text(â€˜Unknown route: $routeâ€™, textDirection: TextDirection.ltr),<br>      );<br>  }<br>}</p>
<h1 id="è®©Flutteræ¨¡å—æ”¯æŒçƒ­åŠ è½½"><a href="#è®©Flutteræ¨¡å—æ”¯æŒçƒ­åŠ è½½" class="headerlink" title="è®©Flutteræ¨¡å—æ”¯æŒçƒ­åŠ è½½"></a>è®©Flutteræ¨¡å—æ”¯æŒçƒ­åŠ è½½</h1><p>é¡¹ç›®æ ¹ç›®å½•/flutter_libä¸‹æ‰§è¡Œ</p>
<pre><code>flutter attach
</code></pre><p>ä»£ç æ‰§è¡Œåï¼Œç›‘å¬æœåŠ¡ä¼šç­‰å¾…å¹¶ç›‘å¬debugåº”ç”¨ä¸­flutterçš„çŠ¶æ€</p>
<p>ç„¶åASä¸­ä»¥æ­£å¸¸æ–¹å¼è°ƒè¯•è¿è¡Œandroidï¼Œå½“flutterçš„viewæˆ–Fragmentæ¿€æ´»æ—¶ä¼šè§¦å‘æ–‡ä»¶åŒæ­¥ã€‚</p>
<p>ç»ˆç«¯è¾“å‡ºå¦‚ä¸‹</p>
<pre><code>Waiting for a connection from Flutter on Le X620...
Done.
Syncing files to device Le X620...                           2.3s
ğŸ”¥  To hot reload changes while running, press &quot;r&quot;. To hot restart (and rebuild state), press &quot;R&quot;.
An Observatory debugger and profiler on Le X620 is available at: http://127.0.0.1:61500/
For a more detailed help message, press &quot;h&quot;. To detach, press &quot;d&quot;; to quit, press &quot;q&quot;.
</code></pre><p>ä¿®æ”¹flutterå·¥ç¨‹ä¸­çš„dartä»£ç æ–‡ä»¶ï¼Œä¿å­˜ååœ¨<strong>ç»ˆç«¯ä¸­</strong>ç‚¹å‡»ré”®å³å¯è¿›è¡Œçƒ­åŠ è½½ï¼ŒRé”®è¿›è¡Œçƒ­é‡å¯ã€‚</p>
<h1 id="ç­¾åæ‰“åŒ…"><a href="#ç­¾åæ‰“åŒ…" class="headerlink" title="ç­¾åæ‰“åŒ…"></a>ç­¾åæ‰“åŒ…</h1><p>å¸¸è§„æ‰“åŒ…æ“ä½œå³å¯</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/13/Android/Travis-CI-ä½¿ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/13/Android/Travis-CI-ä½¿ç”¨/" itemprop="url">Travis CI ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-13T11:31:14+08:00">
                2018-09-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h1><p>æ–°å…´çš„å¼€æºæŒç»­é›†æˆæ„å»ºé¡¹ç›®ï¼Œä¸jenkinsï¼ŒGOçš„æ˜æ˜¾çš„ç‰¹ç‚¹åœ¨äº</p>
<ul>
<li><p>é‡‡ç”¨yamlæ ¼å¼ï¼Œç®€æ´æ¸…æ–°ç‹¬æ ‘ä¸€å¸œã€‚</p>
</li>
<li><p>åœ¨çº¿ç¯å¢ƒï¼Œä¸ç”¨æœ¬åœ°éƒ¨ç½²</p>
</li>
</ul>
<p>ç›®å‰å¤§å¤šæ•°çš„githubé¡¹ç›®éƒ½å·²ç»ç§»å…¥åˆ°Travis CIçš„æ„å»ºé˜Ÿåˆ—ä¸­</p>
<h1 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h1><h2 id="GitHub-ç”Ÿæˆä¾›Travisä½¿ç”¨çš„token"><a href="#GitHub-ç”Ÿæˆä¾›Travisä½¿ç”¨çš„token" class="headerlink" title="GitHub ç”Ÿæˆä¾›Travisä½¿ç”¨çš„token"></a>GitHub ç”Ÿæˆä¾›Travisä½¿ç”¨çš„token</h2><ul>
<li><p>Settings â€“ Developer settings â€“ Personal access tokens</p>
</li>
<li><p>å¡«å†™tokençš„æè¿°ï¼Œå¦‚hexoblog</p>
</li>
<li><p>é€‰æ‹©repo</p>
</li>
<li><p>Generate token</p>
</li>
<li><p>å¤åˆ¶ç”Ÿæˆçš„token(åªå…è®¸çœ‹è§ä¸€æ¬¡)</p>
</li>
</ul>
<h2 id="Travis-è®¾ç½®é›†æˆä»“åº“"><a href="#Travis-è®¾ç½®é›†æˆä»“åº“" class="headerlink" title="Travis è®¾ç½®é›†æˆä»“åº“"></a>Travis è®¾ç½®é›†æˆä»“åº“</h2><ul>
<li><p>ä½¿ç”¨GitHubè´¦å·ç™»å½• <a href="https://travis-ci.org" target="_blank" rel="noopener">Travis å…è´¹ç½‘ç«™</a>(comæ˜¯ä»˜è´¹ç§æœ‰ä»“åº“)</p>
</li>
<li><p>Settings â€“ æ‰“å¼€éœ€è¦é›†æˆçš„ä»“åº“ â€“ Settings é¡µé¢</p>
<ul>
<li><p>Environment Variables æ–°å¢ä¸€ä¸ªå˜é‡è®°å½•token(å˜é‡åHEXO_TOKEN)</p>
<p>  <code>å¦‚æœæœ‰ä»“åº“æœªåŒæ­¥è¿‡æ¥ï¼Œæ‰‹åŠ¨åŒæ­¥ Sync account</code></p>
</li>
<li><p>Cron Jobs è®¾ç½®éœ€è¦æ„å»ºçš„åˆ†æ”¯å</p>
</li>
</ul>
</li>
</ul>
<h2 id="é…ç½®-travis-yml"><a href="#é…ç½®-travis-yml" class="headerlink" title="é…ç½® .travis.yml"></a>é…ç½® <code>.travis.yml</code></h2><p>é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º <code>.travis.yml</code> æ–‡ä»¶</p>
<h3 id="hexo-åšå®¢æ„å»º"><a href="#hexo-åšå®¢æ„å»º" class="headerlink" title="hexo åšå®¢æ„å»º"></a>hexo åšå®¢æ„å»º</h3><p>node_js å®ç°çš„mdç”Ÿæˆé™æ€åšå®¢ç³»ç»Ÿ</p>
<pre><code>language: node_js
node_js: stable
cache:
  apt: true
  directories:
  - node_modules
before_install:
- export TZ=&apos;Asia/Shanghai&apos;
install:
- npm install
script:
- hexo clean
- hexo g &amp;&amp; gulp
after_script:
- git clone https://${GH_REF} .deploy_git
- cd .deploy_git
- git checkout master
- cd ../
- mv .deploy_git/.git/ ./public/
- cd ./public
- git config user.name &quot;lyg&quot;
- git config user.email &quot;liyungui@163.com&quot;
- git add .
- git commit -m &quot;Travis CI Auto Builder at `date +&quot;%Y-%m-%d %H:%M&quot;`&quot;
- git push --force --quiet &quot;https://${HEXO_TOKEN}@${GH_REF}&quot; master:master
branches:
  only:
  - master
env:
  global:
  - GH_REF: github.com/liyungui/liyungui.github.io.git
notifications:
  email:
  - liyungui89@163.com
  on_success: change
  on_failure: always
</code></pre><ul>
<li>HEXO_TOKENï¼šé›†æˆé…ç½®çš„tokenå˜é‡å</li>
<li>GH_REFï¼šGitHubä»“åº“åœ°å€(ä¸è¦https://å‰ç¼€)</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/06/Android/åŠ¨ç”»åº“Lottie/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/06/Android/åŠ¨ç”»åº“Lottie/" itemprop="url">åŠ¨ç”»åº“Lottie</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-06T16:18:53+08:00">
                2018-09-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Lottie æ˜¯ä¸€ä¸ªå¯ä»¥è§£æAE( Adobe After Effects )ä¸Šçš„æ’ä»¶Bodymovinå¯¼å‡ºçš„jsonæ–‡ä»¶(ä¾èµ–pngæ–‡ä»¶)å®ç°åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ¸²æŸ“çš„åŠ¨ç”»åº“ã€‚</p>
<p>ä¼˜ç‚¹ï¼š</p>
<p><strong>å¼€å‘é«˜æ•ˆï¼Œæ–‡ä»¶ä½“ç§¯å°ï¼Œå±•ç¤ºæ•ˆæœå¥½ï¼Œæ€§èƒ½æ¶ˆè€—å°ï¼Œæ§åˆ¶çµæ´»ï¼ŒæœåŠ¡å™¨æ›´æ–°åŠ¨ç”»ï¼Œè·¨å¹³å°</strong>ã€‚æ¯”gifä½“ç§¯å°ï¼Œæ•ˆæœå¥½(AEå¯¼å‡ºgifæœ‰ç™½è¾¹)ï¼Œå¯ä»¥é‡å¤æ’­æ”¾æŒ‡å®šå¸§æŒ‡å®šæ¬¡æ•°</p>
<p>ç¼ºé™·ï¼š</p>
<p>ç³»ç»Ÿç‰ˆæœ¬æœ‰è¦æ±‚ã€‚æ”¯æŒ Android(Jellybean/API16 åŠä»¥ä¸Š)ï¼Œios(8.0)ï¼ŒRN</p>
<p>ä¸æ”¯æŒäº¤äº’åŠ¨ç”»ã€‚åªèƒ½æ’­æ”¾ç±»å‹åŠ¨ç”»</p>
<p><a href="https://github.com/airbnb/lottie-android" target="_blank" rel="noopener">github</a></p>
<p><a href="http://airbnb.io/lottie/android/android.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
<h1 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h1><h2 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h2><pre><code>compile &apos;com.airbnb.android:lottie:2.6.0&apos;
</code></pre><h2 id="xml"><a href="#xml" class="headerlink" title="xml"></a>xml</h2><pre><code>&lt;com.airbnb.lottie.LottieAnimationView
 android:id=&quot;@+id/animation_view&quot;
 android:layout_width=&quot;wrap_content&quot;
 android:layout_height=&quot;wrap_content&quot;
 app:lottie_fileName=&quot;hello-world.json&quot;
 app:lottie_loop=&quot;true&quot;
 app:lottie_autoPlay=&quot;true&quot; /&gt;
</code></pre><h2 id="èµ„æºç›®å½•"><a href="#èµ„æºç›®å½•" class="headerlink" title="èµ„æºç›®å½•"></a>èµ„æºç›®å½•</h2><p> Lottie animations can load animations from:</p>
<ul>
<li>A json animation in src/main/res/raw.</li>
<li>A json file in src/main/assets.</li>
<li>A zip file in src/main/assets. See images docs for more info.</li>
<li>A url to a json or zip file.</li>
<li>A json string. The source can be from anything including your own network stack.</li>
<li>An InputStream to either a json file or a zip file.</li>
</ul>
<p>ä¾èµ–å›¾ç‰‡å­˜æ”¾ç›®å½•</p>
<ul>
<li>src/main/assets/image. imageå¯ä»¥æ˜¯å…¶ä»–åå­—</li>
</ul>
<p>ç¤ºä¾‹jsonæ–‡ä»¶æ”¾äº raw ç›®å½•ï¼Œå›¾ç‰‡æ”¾äº assets/image</p>
<h2 id="è®¾ç½®ä¾èµ–å›¾ç‰‡ç›®å½•"><a href="#è®¾ç½®ä¾èµ–å›¾ç‰‡ç›®å½•" class="headerlink" title="è®¾ç½®ä¾èµ–å›¾ç‰‡ç›®å½•"></a>è®¾ç½®ä¾èµ–å›¾ç‰‡ç›®å½•</h2><p><strong>å¿…é¡»è®¾ç½®</strong>ï¼Œå¦åˆ™æŠ¥é”™</p>
<pre><code>LottieAnimationView.setImageAssetsFolder(&quot;image/&quot;);
</code></pre><p>è‡³æ­¤ï¼ŒåŠ¨ç”»<strong>æˆåŠŸæ˜¾ç¤º</strong>åœ¨ç•Œé¢ä¸Šäº†</p>
<h2 id="APIæ§åˆ¶"><a href="#APIæ§åˆ¶" class="headerlink" title="APIæ§åˆ¶"></a>APIæ§åˆ¶</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">LottieAnimationView.setMinAndMaxFrame(<span class="number">0</span>, <span class="number">34</span>);</span><br><span class="line"></span><br><span class="line">LottieAnimationView.setRepeatMode(LottieDrawable.RESTART);</span><br><span class="line">LottieAnimationView.setRepeatCount(<span class="number">0</span>);</span><br><span class="line">	<span class="comment">//0ï¼Œè¡¨ç¤ºä¸é‡å¤</span></span><br><span class="line">	<span class="comment">//LottieDrawable.INFINITEï¼Œæ— é™é‡å¤</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">LottieAnimationView.playAnimation();<span class="comment">//æ’­æ”¾åŠ¨ç”»</span></span><br><span class="line"></span><br><span class="line">LottieAnimationView.addAnimatorListener(Animator.AnimatorListenerï¼‰<span class="comment">//ç›‘å¬åŠ¨ç”»çŠ¶æ€</span></span><br><span class="line">LottieAnimationView.removeAllAnimatorListeners();</span><br><span class="line"></span><br><span class="line">LottieAnimationView.addAnimatorUpdateListener(ValueAnimator.AnimatorUpdateListener)<span class="comment">//ç›‘å¬æ’­æ”¾è¿›åº¦</span></span><br><span class="line">LottieAnimationView.removeAllUpdateListeners() <span class="comment">//æ…ç”¨ï¼Œä¼šå¯¼è‡´åŠ¨ç”»æ— æ³•æ’­æ”¾</span></span><br><span class="line">LottieAnimationView.removeUpdateListener(ValueAnimator.AnimatorUpdateListener)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’­æ”¾è¿›åº¦å›è°ƒä¸­</span></span><br><span class="line">animation.getAnimatedValue() è¿”å›è¿›åº¦[<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">animation.getAnimatedFraction() è¿”å›è¿›åº¦[minFrame,maxFrame]ã€‚å¦‚æœæ²¡è®¾ç½®ï¼Œä¹Ÿæ˜¯è¿”å›[<span class="number">0</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h1 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h1><ul>
<li><p>å¯èƒ½ä¼šv4åŒ…å†²çª</p>
<p>  ç§»é™¤lottieçš„v4åŒ…</p>
<pre><code>compile (&quot;com.airbnb.android:lottie:2.6.1&quot;){exclude group: &quot;com.android.support.v4&quot;}
</code></pre></li>
<li><p>ä¿æŒv7ä¾èµ–çš„ç‰ˆæœ¬ä¸º27</p>
<p>  v7çš„24ç‰ˆæœ¬å¸¦çš„v4åŒ…ï¼Œæ‰¾ä¸åˆ° android.support.v4.util.ArraySet</p>
</li>
</ul>
<h1 id="ç¼©æ”¾"><a href="#ç¼©æ”¾" class="headerlink" title="ç¼©æ”¾"></a>ç¼©æ”¾</h1><p>ä¼šè‡ªåŠ¨å°†AEä¸­çš„pxè½¬ä¸ºdpï¼Œå¤§éƒ¨åˆ†éƒ½èƒ½ä¿æŒä¸€è‡´</p>
<p>å¦‚æœå°ºå¯¸ä¸æ˜¯å¾ˆåˆé€‚ï¼Œæœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆ</p>
<h2 id="scaleType"><a href="#scaleType" class="headerlink" title="scaleType"></a>scaleType</h2><p><code>LottieAnimationView</code> ç»§æ‰¿äº†ImageView scaleType</p>
<h2 id="Scaling-Up-Down"><a href="#Scaling-Up-Down" class="headerlink" title="Scaling Up/Down"></a>Scaling Up/Down</h2><p><code>LottieAnimationView</code> å’Œ <code>LottieDrawable</code> æ”¯æŒ<code>setScale(float)</code> æŒ‰æ¯”ä¾‹ç¼©æ”¾</p>
<p><strong>æ³¨æ„ï¼šä¸è¦é‡å¤è°ƒç”¨</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lottieAnimationView.setScale(<span class="number">1</span> / mContext.getResources().getDisplayMetrics().density);</span><br></pre></td></tr></table></figure>
<h1 id="å¡é¡¿é—®é¢˜"><a href="#å¡é¡¿é—®é¢˜" class="headerlink" title="å¡é¡¿é—®é¢˜"></a>å¡é¡¿é—®é¢˜</h1><p>å…¨å±åŠ¨ç”»å¡é¡¿é—®é¢˜ç‰¹åˆ«ä¸¥é‡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¡¬ä»¶åŠ é€Ÿï¼Œå¼€å¯ä¹‹åç¬é—´ä¸æ»‘</span></span><br><span class="line">animationView.useHardwareAcceleration(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå¹¶è·¯å¾„ é»˜è®¤æ˜¯å…³é—­çš„ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚è°ƒæ•´</span></span><br><span class="line">animationView.enableMergePathsForKitKatAndAbove(<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>
<h1 id="å›æ”¶å›¾ç‰‡èµ„æºçš„æ—¶æœº"><a href="#å›æ”¶å›¾ç‰‡èµ„æºçš„æ—¶æœº" class="headerlink" title="å›æ”¶å›¾ç‰‡èµ„æºçš„æ—¶æœº"></a>å›æ”¶å›¾ç‰‡èµ„æºçš„æ—¶æœº</h1><ul>
<li>è®¾ç½®å›¾ç‰‡èµ„æº</li>
<li>onDetachedFromWindowï¼›å³è®¾ç½®å¯è§æ€§ä¸ºgoneï¼Œä¸”æŠŠview remove</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">---LottieAnimationView---</span><br><span class="line"><span class="meta">@Override</span> <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDetachedFromWindow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (isAnimating()) &#123;</span><br><span class="line">    cancelAnimation();</span><br><span class="line">    wasAnimatingWhenDetached = <span class="keyword">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  recycleBitmaps();</span><br><span class="line">  <span class="keyword">super</span>.onDetachedFromWindow();</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="meta">@Override</span> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageResource</span><span class="params">(<span class="keyword">int</span> resId)</span> </span>&#123;</span><br><span class="line">  recycleBitmaps();</span><br><span class="line">  cancelLoaderTask();</span><br><span class="line">  <span class="keyword">super</span>.setImageResource(resId);</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="meta">@VisibleForTesting</span> <span class="function"><span class="keyword">void</span> <span class="title">recycleBitmaps</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// AppCompatImageView constructor will set the image when set from xml</span></span><br><span class="line">  <span class="comment">// before LottieDrawable has been initialized</span></span><br><span class="line">  <span class="keyword">if</span> (lottieDrawable != <span class="keyword">null</span>) &#123;</span><br><span class="line">    lottieDrawable.recycleBitmaps();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">---LottieDrawable---</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">recycleBitmaps</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (imageAssetManager != <span class="keyword">null</span>) &#123;</span><br><span class="line">    imageAssetManager.recycleBitmaps();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">--ImageAssetManager</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">recycleBitmaps</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">synchronized</span> (bitmapHashLock) &#123;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, LottieImageAsset&gt; entry : imageAssets.entrySet()) &#123;</span><br><span class="line">      LottieImageAsset asset = entry.getValue();</span><br><span class="line">      Bitmap bitmap = asset.getBitmap();</span><br><span class="line">      <span class="keyword">if</span> (bitmap != <span class="keyword">null</span>) &#123;</span><br><span class="line">        bitmap.recycle();</span><br><span class="line">        asset.setBitmap(<span class="keyword">null</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/31/Android/Javaä»£ç è®¾ç½®margin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/31/Android/Javaä»£ç è®¾ç½®margin/" itemprop="url">Javaä»£ç è®¾ç½®margin</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-31T18:22:53+08:00">
                2018-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>api</p>
<pre><code>ViewGroup.MarginLayoutParams.setMargins(left, top, right, bottom)

ç›´æ¥çš„å­ç±»æœ‰: 
    FrameLayout.LayoutParams,         
    LinearLayout.LayoutParams and 
    RelativeLayout.LayoutParams.
</code></pre><p>åˆ›å»ºä¸€ä¸ªMarginLayoutParamsæ—¶,éœ€è¦ä»¥Viewæœ¬èº«çš„å¸ƒå±€å‚æ•°å¯¹è±¡ä¸ºåŸºç¡€,å¦åˆ™å¯èƒ½ä¸¢å¤±ä¸€äº›åŸæœ¬çš„å¸ƒå±€å±æ€§. </p>
<pre><code>/**
 * è®¾ç½®æŸä¸ªViewçš„margin
 *
 * @param view
 * @param leftPx
 * @param rightPx
 * @param topPx
 * @param bottomPx
 * @return
 */
public static boolean setViewMargin(View view, int leftPx, int rightPx, int topPx, int bottomPx) {
    if (view == null) {
        return false;
    }

    ViewGroup.MarginLayoutParams marginParams = null;

    //è·å–viewçš„marginè®¾ç½®å‚æ•°
    ViewGroup.LayoutParams params = view.getLayoutParams();
    if (params instanceof ViewGroup.MarginLayoutParams) {
        marginParams = (ViewGroup.MarginLayoutParams) params;
    } else {
        //ä¸å­˜åœ¨æ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„å‚æ•°
        marginParams = new ViewGroup.MarginLayoutParams(params);
    }

    //è®¾ç½®margin
    marginParams.setMargins(leftPx, topPx, rightPx, bottomPx);
    view.setLayoutParams(marginParams);

    return true;
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/31/Android/Linuxå‘½ä»¤è¡Œæ›´æ–°SDK/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/31/Android/Linuxå‘½ä»¤è¡Œæ›´æ–°SDK/" itemprop="url">Linuxå‘½ä»¤è¡Œæ›´æ–°SDK</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-31T18:22:53+08:00">
                2018-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code>cd ~/android-sdk-linux/tools/
./android list sdk --extended
    è¾“å‡º
        Packages available for installation or update: 11
        ----------
        id: 1 or &quot;android-28&quot;
             Type: Platform
             Desc: Android SDK Platform 28
                   Revision 6
        ----------
        id: 2 or &quot;android-27&quot;
             Type: Platform
             Desc: Android SDK Platform 27
                   Revision 3
./android update sdk -u -f --filter android-27
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/24/Android/X5å†…æ ¸ä½¿ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/24/Android/X5å†…æ ¸ä½¿ç”¨/" itemprop="url">X5å†…æ ¸ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-24T15:40:53+08:00">
                2018-08-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="X5å†…æ ¸æ¦‚è¿°"><a href="#X5å†…æ ¸æ¦‚è¿°" class="headerlink" title="X5å†…æ ¸æ¦‚è¿°"></a>X5å†…æ ¸æ¦‚è¿°</h1><ul>
<li>å¯¹ç³»ç»ŸWebViewçš„èšåˆåŒ…è£…</li>
<li>åŠ è½½å¤±è´¥ä¼šåˆ‡æ¢åˆ°ç³»ç»Ÿå†…æ ¸</li>
<li>å½“æ‰‹æœºä¸Šæœ‰å®¿ä¸»ï¼ˆQQã€å¾®ä¿¡æˆ–QQç©ºé—´ï¼‰æ—¶å…±äº«å®¿ä¸»çš„å†…æ ¸ï¼Œæ²¡æœ‰å¯ç”¨çš„å†…æ ¸æ—¶ä¼šè‡ªå·±å»ä¸‹è½½å†…æ ¸</li>
</ul>
<h1 id="å‘"><a href="#å‘" class="headerlink" title="å‘"></a>å‘</h1><p>é¡¹ç›®ä½¿ç”¨çš„æ˜¯ç‰ˆæœ¬ <code>43500SDK_43656Core</code></p>
<h2 id="æš‚æ—¶ä¸æä¾›64ä½çš„soæ–‡ä»¶"><a href="#æš‚æ—¶ä¸æä¾›64ä½çš„soæ–‡ä»¶" class="headerlink" title="æš‚æ—¶ä¸æä¾›64ä½çš„soæ–‡ä»¶"></a>æš‚æ—¶ä¸æä¾›64ä½çš„soæ–‡ä»¶</h2><p>è§£å†³æ–¹æ¡ˆï¼šå¼ºåˆ¶APPä½¿ç”¨32ä½so</p>
<ul>
<li><p>æŒ‡å®šåªä¿ç•™32ä½soåº“</p>
<pre><code>android{
    defaultConfig{
        ndk{abiFilters &quot;armeabi&quot;}
    }
}

å¦‚æœé…ç½®åç¼–è¯‘æŠ¥é”™ï¼Œåœ¨gradle.propertiesæ–‡ä»¶ä¸­åŠ ä¸Š Android.useDeprecatedNdk=trueï¼› 
</code></pre></li>
<li><p>æŒ‡å®šç›®å½•ä¸‹å¿…é¡»æœ‰soæ–‡ä»¶(å¦åˆ™æ‰“åŒ…æ— è¯¥ç›®å½•)</p>
<pre><code>build.gradleä¸­é…ç½®çš„soåŠ è½½ç›®å½•:jniLibs.srcDir:customerDir

å¦‚æœæ²¡æœ‰è¯¥é¡¹é…ç½®åˆ™soåŠ è½½ç›®å½•é»˜è®¤ä¸ºï¼šsrc/main/jniLibs

å°†.soæ–‡ä»¶æ”¾ç½®è¯¥ç›®å½•çš„armeabiæ–‡ä»¶å¤¹ä¸‹
    æ²¡æœ‰è¯¥ç›®å½•åˆ™æ–°å»ºä¸€ä¸ª
    APPä¸­æ²¡æœ‰ä½¿ç”¨åˆ°.soæ–‡ä»¶åˆ™éœ€è¦æ‹·è´ä»»æ„ä¸€ä¸ª32ä½çš„soæ–‡ä»¶åˆ°è¯¥ç›®å½•ä¸‹
        å¦‚æœæ²¡æœ‰åˆé€‚çš„soå¯ä»¥åˆ°å®˜ç½‘http://x5.tencent.com/tbs/sdk.htmlä¸‹è½½å®˜ç½‘â€œSDKæ¥å…¥ç¤ºä¾‹â€œ,æ‹·è´å¯¹åº”ç›®å½•ä¸‹çš„liblbs.soæ–‡ä»¶
</code></pre></li>
</ul>
<h2 id="å¦‚ä½•åˆ¤æ–­å·²åŠ è½½äº†x5å†…æ ¸"><a href="#å¦‚ä½•åˆ¤æ–­å·²åŠ è½½äº†x5å†…æ ¸" class="headerlink" title="å¦‚ä½•åˆ¤æ–­å·²åŠ è½½äº†x5å†…æ ¸"></a>å¦‚ä½•åˆ¤æ–­å·²åŠ è½½äº†x5å†…æ ¸</h2><p>å‚è€ƒsdkè¯´æ˜æ–‡ä»¶ä¹‹ <code>æ— æ³•åŠ è½½x5å†…æ ¸çš„è§£å†³æ–¹æ¡ˆ.doc</code></p>
<ol>
<li>webviewçš„<strong>getX5WebViewExtension()</strong>è¿”å›énullè¡¨ç¤ºå·²åŠ è½½äº†x5å†…æ ¸webview</li>
<li>appæ‰“å¼€<a href="http://soft.imtt.qq.com/browser/tes/feedback.html" target="_blank" rel="noopener">æµ‹è¯•ç½‘é¡µ</a>ï¼Œæ˜¾ç¤º000000è¡¨ç¤ºåŠ è½½çš„æ˜¯ç³»ç»Ÿå†…æ ¸ï¼Œæ˜¾ç¤ºå¤§äºé›¶çš„æ•°å­—è¡¨ç¤ºåŠ è½½äº†x5å†…æ ¸ï¼ˆè¯¥æ•°å­—æ˜¯x5å†…æ ¸ç‰ˆæœ¬å·ï¼‰</li>
</ol>
<h3 id="å…±äº«ä½¿ç”¨å¾®ä¿¡æ‰‹Qçš„å†…æ ¸"><a href="#å…±äº«ä½¿ç”¨å¾®ä¿¡æ‰‹Qçš„å†…æ ¸" class="headerlink" title="å…±äº«ä½¿ç”¨å¾®ä¿¡æ‰‹Qçš„å†…æ ¸"></a>å…±äº«ä½¿ç”¨å¾®ä¿¡æ‰‹Qçš„å†…æ ¸</h3><p>å¾®ä¿¡æ‰«ä¸‹é¢çš„äºŒç»´ç æ‰“å¼€ç½‘é¡µï¼Œå¦‚æœæ˜¾ç¤ºçš„æ•°å­—æ˜¯00000è¯´æ˜æ‚¨çš„æ‰‹æœºå¾®ä¿¡æ²¡æœ‰å®‰è£…å†…æ ¸</p>
<p>å¾®ä¿¡æ‰«ä¸‹é¢çš„äºŒç»´ç å®‰è£…å†…æ ¸43906ç‰ˆæœ¬</p>
<h2 id="åˆæ¬¡åˆå§‹åŒ–å¤±è´¥"><a href="#åˆæ¬¡åˆå§‹åŒ–å¤±è´¥" class="headerlink" title="åˆæ¬¡åˆå§‹åŒ–å¤±è´¥"></a>åˆæ¬¡åˆå§‹åŒ–å¤±è´¥</h2><p>ç»æµ‹è¯•ï¼Œç¬¬ä¸€æ¬¡å¯åŠ¨APP(Applicationä¸­)åŠ è½½X5å†…æ ¸ï¼Œå¾ˆå¤§æ¦‚ç‡å¤±è´¥ï¼Œé‡å¯å³å¯åŠ è½½æˆåŠŸã€‚è§£å†³æ–¹æ¡ˆæ¯”è¾ƒæš´åŠ›ï¼Œ<strong>åˆå§‹åŒ–å¤±è´¥é‡å¯APP</strong></p>
<p>ä¸‹è½½çš„X5å†…æ ¸å­˜å‚¨åœ¨ <code>sdå¡/tencent/tbs</code>ï¼Œåªä¼šä¸‹è½½ä¸€æ¬¡(å³åˆ é™¤è¯¥ç›®å½•ï¼Œé‡å¯APPä¹Ÿä¸ä¼šé‡æ–°ä¸‹è½½ï¼Œæµ‹è¯•è¿‡ç¨‹æ— æ•°æ¬¡æ¢å¤å‡ºå‚è®¾ç½®)</p>
<p>wifiæ¡ä»¶ä¸‹ä¸‹è½½x5å†…æ ¸24Må·¦å³ï¼Œè€—æ—¶90ç§’å·¦å³</p>
<pre><code>QbSdk.setDownloadWithoutWifi(true);//é»˜è®¤åªå…è®¸åœ¨WiFiç¯å¢ƒä¸‹è½½

//ç›‘æ§å†…æ ¸åˆå§‹åŒ–çŠ¶æ€
QbSdk.initX5Environment(sContext, new QbSdk.PreInitCallback() {
    @Override
    public void onCoreInitFinished() {
        Logger.d(String.format(&quot;%s:onCoreInitFinished:&quot;, TAG));
    }

    /**
     * X5å†…æ ¸åˆå§‹åŒ–åå›è°ƒï¼Œåœ¨onCoreInitFinished()ä¹‹å
     * @param isX5Core ï¼Œtrueè¡¨ç¤ºX5å†…æ ¸åŠ è½½æˆåŠŸã€‚åŠ è½½å¤±è´¥ä¼šåˆ‡æ¢åˆ°ç³»ç»Ÿå†…æ ¸
     */
    @Override
    public void onViewInitFinished(boolean isX5Core) {
        mX5InitSuccess = b;
        Logger.d(String.format(&quot;%s:onViewInitFinished:%b&quot;, TAG, b));
        if (!b &amp;&amp; handler != null) {
            handler.onInitErrot();
        }
    }
});

//ç›‘æ§å†…æ ¸ä¸‹è½½çŠ¶æ€
QbSdk.setTbsListener(new TbsListener() {
    @Override
    public void onDownloadFinish(int i) {
        Logger.d(String.format(&quot;%s:onDownloadFinish:%d&quot;, TAG, i));
    }

    @Override
    public void onInstallFinish(int i) {
        Logger.d(String.format(&quot;%s:onInstallFinish:%d&quot;, TAG, i));
    }

    @Override
    public void onDownloadProgress(int i) {
        Logger.d(String.format(&quot;%s:onDownloadProgress:%d&quot;, TAG, i));
    }
});
</code></pre><h2 id="é™æ€é›†æˆ"><a href="#é™æ€é›†æˆ" class="headerlink" title="é™æ€é›†æˆ"></a>é™æ€é›†æˆ</h2><p>X5å†…æ ¸å¤§å°çº¦24Mï¼Œå¯¹AppåŒ…å¤§å°äº§ç”Ÿä¸€å®šé‡çš„å¢åŠ </p>
<p>å¦‚ä¸‹<a href="http://soft.tbs.imtt.qq.com/17421/tbs_res_imtt_tbs_release_integrateWithX5core_43500SDK_43656Core.zip" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a>æ˜¯é™æ€é›†æˆX5å†…æ ¸çš„æ–¹æ³•</p>
<p>1.å¯¼å…¥jaråŒ…:</p>
<pre><code>tbs_sdk_thirdapp_v3.5.0.1063_43500_staticwithdownload_withoutGame_obfs_20171011_195714.jar
</code></pre><p>2.å¯¼å…¥å†…æ ¸æ–‡ä»¶</p>
<pre><code>å°†è§£å‹tbs_core_3.6.0.1108_043656_20171123_120752_static.apkå¾—åˆ°çš„.soæ–‡ä»¶æ”¾å…¥å·¥ç¨‹çš„src/mian/libsç›®å½•ä¸‹ã€‚
</code></pre><p>3.æŒ‰ç…§å®˜ç½‘æŒ‡å¼•è¿›è¡Œæ›¿æ¢ç³»ç»Ÿwebview</p>
<pre><code>https://x5.tencent.com/tbs/guide/sdkInit.html å‚ç…§å®˜ç½‘â€œSDKé›†æˆæ­¥éª¤â€ä¸­çš„ï¼š1ã€2ã€3ã€6ã€10
</code></pre><p>æ‰“å¼€webviewå‰è°ƒç”¨QbSdk.preinstallStaticTbs()ã€‚(å»ºè®®åœ¨applicationçš„oncreateä¸­å¼‚æ­¥çº¿ç¨‹ä¸­è°ƒç”¨)ã€‚</p>
<h1 id="TBS-Studio-è°ƒè¯•-è¿è¡Œåœ¨X5å†…æ ¸çš„-Webview"><a href="#TBS-Studio-è°ƒè¯•-è¿è¡Œåœ¨X5å†…æ ¸çš„-Webview" class="headerlink" title="TBS Studio è°ƒè¯• è¿è¡Œåœ¨X5å†…æ ¸çš„ Webview"></a>TBS Studio è°ƒè¯• è¿è¡Œåœ¨X5å†…æ ¸çš„ Webview</h1><h2 id="TBS-Studio"><a href="#TBS-Studio" class="headerlink" title="TBS Studio"></a>TBS Studio</h2><p>TBS Studioæ˜¯é¢å‘åŸºäºTBSçš„Webå¼€å‘è€…å’Œç§»åŠ¨åº”ç”¨å¼€å‘å•†ï¼ˆåŒ…æ‹¬å¾®ä¿¡ã€æ‰‹Qï¼Œä¸‰æ–¹Appç­‰ï¼‰æ‰“é€ çš„å¼€å‘æœåŠ¡æ•´ä½“è§£å†³æ–¹æ¡ˆï¼Œä»¥æå‡å¹¿å¤§å¼€å‘è€…åœ¨çœŸæœºç¯å¢ƒä¸‹çš„å¼€å‘æ•ˆç‡ï¼Œå¹¶å¸®åŠ©å¼€å‘è€…åˆ†æå’Œä¼˜åŒ–ç½‘é¡µçš„è®¾è®¡ï¼Œä¸»è¦åŠŸèƒ½æœ‰ç½‘é¡µInspectorè°ƒè¯•ï¼Œç½‘é¡µæ€§èƒ½åˆ†æç­‰ã€‚</p>
<h2 id="åº”ç”¨èƒŒæ™¯"><a href="#åº”ç”¨èƒŒæ™¯" class="headerlink" title="åº”ç”¨èƒŒæ™¯"></a>åº”ç”¨èƒŒæ™¯</h2><p>æˆ‘ä»¬åœ¨å“è¶Šç½‘æ ¡å®‰å“appä¸­ï¼Œä½¿ç”¨äº†x5å†…æ ¸ã€‚</p>
<h2 id="TBS-Studio-åŒ…ä¸‹è½½"><a href="#TBS-Studio-åŒ…ä¸‹è½½" class="headerlink" title="TBS Studio åŒ…ä¸‹è½½"></a>TBS Studio åŒ…ä¸‹è½½</h2><p>TBS Studioæ˜¯é¢å‘åŸºäºTBSçš„Webå¼€å‘è€…å’Œç§»åŠ¨åº”ç”¨å¼€å‘å•†ï¼ˆåŒ…æ‹¬å¾®ä¿¡ã€æ‰‹Qï¼Œä¸‰æ–¹Appç­‰ï¼‰æ‰“é€ çš„å¼€å‘æœåŠ¡æ•´ä½“è§£å†³æ–¹æ¡ˆï¼Œä»¥æå‡å¹¿å¤§å¼€å‘è€…åœ¨çœŸæœºç¯å¢ƒä¸‹çš„å¼€å‘æ•ˆç‡ï¼Œå¹¶å¸®åŠ©å¼€å‘è€…åˆ†æå’Œä¼˜åŒ–ç½‘é¡µçš„è®¾è®¡ï¼Œä¸»è¦åŠŸèƒ½æœ‰ç½‘é¡µInspectorè°ƒè¯•ï¼Œç½‘é¡µæ€§èƒ½åˆ†æç­‰ã€‚</p>
<h2 id="åº”ç”¨èƒŒæ™¯-1"><a href="#åº”ç”¨èƒŒæ™¯-1" class="headerlink" title="åº”ç”¨èƒŒæ™¯"></a>åº”ç”¨èƒŒæ™¯</h2><p>æˆ‘ä»¬åœ¨å“è¶Šç½‘æ ¡å®‰å“appä¸­ï¼Œä½¿ç”¨äº†x5å†…æ ¸ã€‚</p>
<h2 id="TBS-Studio-åŒ…ä¸‹è½½-1"><a href="#TBS-Studio-åŒ…ä¸‹è½½-1" class="headerlink" title="TBS Studio åŒ…ä¸‹è½½"></a>TBS Studio åŒ…ä¸‹è½½</h2><p><a href="http://mcaredown.3g.qq.com/browser/tes/TBS_Studio_win64_v1.3.1_2017062311.zip" target="_blank" rel="noopener">win64</a>ã€<a href="http://mcaredown.3g.qq.com/browser/tes/TBS_Studio_win_v1.3.1_2017061615.zip" target="_blank" rel="noopener">win32</a>ã€<a href="http://mcaredown.3g.qq.com/browser/tes/TBS_Studio_mac_v1.3.1_2017061617.dmg.zip" target="_blank" rel="noopener">mac</a></p>
<h3 id="è¿è¡Œç¯å¢ƒ"><a href="#è¿è¡Œç¯å¢ƒ" class="headerlink" title="è¿è¡Œç¯å¢ƒ"></a>è¿è¡Œç¯å¢ƒ</h3><p>PCç¯å¢ƒ: å½“å‰æ”¯æŒWindowså’Œmacæ“ä½œç³»ç»Ÿã€‚<br>æ‰‹æœºç¯å¢ƒï¼šAndroid 4.4+ï¼Œæœºå‹åŒ…æ‹¬åä¸ºï¼Œå°ç±³ï¼Œä¸‰æ˜Ÿç­‰ä¸»æµæœºå‹ã€‚<br>è°ƒè¯•å®¿ä¸»Appï¼ˆéœ€è¦æ¥å…¥x5å†…æ ¸ï¼‰ï¼šå¾®ä¿¡ã€æ‰‹Qã€QQéŸ³ä¹ã€QZoneã€äº¬ä¸œç­‰</p>
<h3 id="è¿æ¥è®¾ç½®"><a href="#è¿æ¥è®¾ç½®" class="headerlink" title="è¿æ¥è®¾ç½®"></a>è¿æ¥è®¾ç½®</h3><p>pc è¿æ¥æ‰‹æœºï¼Œå…è®¸ USB è°ƒè¯•ã€‚<br>æ‰“å¼€éœ€è¦è°ƒè¯•çš„ç›®æ ‡ç¨‹åº<br>æ‰“å¼€TBS Studio å¯åŠ¨è¿æ¥æ£€æµ‹ã€‚<br>è¯¦ç»†è¿‡ç¨‹ï¼š<a href="http://bbs.mb.qq.com/thread-1416936-1-1.html" target="_blank" rel="noopener">http://bbs.mb.qq.com/thread-1416936-1-1.html</a>    </p>
<p>éƒ¨åˆ†æœºå‹ adb è¿æ¥ä¸ä¸Šè§£å†³</p>
<p>ä½¿ç”¨å†…ç½®adbåŒ…ï¼ˆ winä¸‹è½½, macä¸‹è½½ï¼‰ï¼Œæ‰‹åŠ¨å¯åŠ¨adbï¼ˆä½¿ç”¨homebrewä¸‹è½½ï¼šbrew cask install android-platform-toolsï¼‰<br>è¿è¡Œ adb devices<br> æ‰¾åˆ°è®¾å¤‡ï¼Œç‚¹å‡»é‡ç½®ï¼Œå†æ¬¡â€œå¯åŠ¨æ£€æµ‹â€<br>æœªæ‰¾åˆ°è®¾å¤‡ï¼Œæˆ–è€…offline<br>â‘  è¿è¡Œå‘½ä»¤ adb kill-server -&gt; adb start-server -&gt; adb devices<br>â‘¡ é‡æ‹”usbé“¾æ¥è°ƒè¯•è®¾å¤‡<br>â‘¢ é‡å¯è°ƒè¯•è®¾å¤‡<br>ä»ç„¶æ— æ³•è¿æ¥ä¸Š<br>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼šsystem_profiler SPUSBDataTypeï¼ŒæŸ¥çœ‹Macç³»ç»Ÿæ‰€æœ‰USBè®¾å¤‡ä¿¡æ¯ï¼Œæ‰¾åˆ°ç›¸åº”çš„å‚å•†Vender ID<br>ç»ˆç«¯è¿›å…¥/Users/user/.androidï¼Œåº”è¯¥æœ‰ä¸€ä¸ªadb_usb.iniæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å°±åˆ›å»ºï¼Œç„¶åå°†ä¸Šé¢çš„Vender ID å•ç‹¬ä¸€è¡ŒåŠ å…¥åˆ°è¯¥æ–‡ä»¶ï¼Œç„¶åé€€å‡ºã€‚<br>è¿è¡Œ adb devicesã€‚å¦‚æœåˆ—è¡¨ä¸­æ‰¾åˆ°ç›¸åº”è®¾å¤‡ï¼Œåˆ™è¿æ¥æˆåŠŸã€‚å†æ¬¡æ‰“å¼€TBS Studioï¼Œæ£€æµ‹è¿æ¥è¿›å…¥è°ƒè¯•ã€‚<br>)ã€<a href="http://mcaredown.3g.qq.com/browser/tes/TBS_Studio_mac_v1.3.1_2017061617.dmg.zip" target="_blank" rel="noopener">mac</a></p>
<p>è¿è¡Œç¯å¢ƒ</p>
<p>PCç¯å¢ƒ: å½“å‰æ”¯æŒWindowså’Œmacæ“ä½œç³»ç»Ÿã€‚<br>æ‰‹æœºç¯å¢ƒï¼šAndroid 4.4+ï¼Œæœºå‹åŒ…æ‹¬åä¸ºï¼Œå°ç±³ï¼Œä¸‰æ˜Ÿç­‰ä¸»æµæœºå‹ã€‚<br>è°ƒè¯•å®¿ä¸»Appï¼ˆéœ€è¦æ¥å…¥x5å†…æ ¸ï¼‰ï¼šå¾®ä¿¡ã€æ‰‹Qã€QQéŸ³ä¹ã€QZoneã€äº¬ä¸œç­‰</p>
<p>è¿æ¥è®¾ç½®</p>
<p>pc è¿æ¥æ‰‹æœºï¼Œå…è®¸ USB è°ƒè¯•ã€‚<br>æ‰“å¼€éœ€è¦è°ƒè¯•çš„ç›®æ ‡ç¨‹åº<br>æ‰“å¼€TBS Studio å¯åŠ¨è¿æ¥æ£€æµ‹ã€‚<br>è¯¦ç»†è¿‡ç¨‹ï¼š<a href="http://bbs.mb.qq.com/thread-1416936-1-1.html" target="_blank" rel="noopener">http://bbs.mb.qq.com/thread-1416936-1-1.html</a>    </p>
<p>éƒ¨åˆ†æœºå‹ adb è¿æ¥ä¸ä¸Šè§£å†³</p>
<ol>
<li>ä½¿ç”¨å†…ç½®adbåŒ…ï¼ˆ winä¸‹è½½, macä¸‹è½½ï¼‰ï¼Œæ‰‹åŠ¨å¯åŠ¨adbï¼ˆä½¿ç”¨homebrewä¸‹è½½ï¼šbrew cask install android-platform-toolsï¼‰<br>è¿è¡Œ adb devices</li>
<li>æ‰¾åˆ°è®¾å¤‡ï¼Œç‚¹å‡»é‡ç½®ï¼Œå†æ¬¡â€œå¯åŠ¨æ£€æµ‹â€<br> æœªæ‰¾åˆ°è®¾å¤‡ï¼Œæˆ–è€…offline<br> â‘  è¿è¡Œå‘½ä»¤ adb kill-server -&gt; adb start-server -&gt; adb devices<br> â‘¡ é‡æ‹”usbé“¾æ¥è°ƒè¯•è®¾å¤‡<br> â‘¢ é‡å¯è°ƒè¯•è®¾å¤‡</li>
<li>ä»ç„¶æ— æ³•è¿æ¥ä¸Š<br>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼šsystem_profiler SPUSBDataTypeï¼ŒæŸ¥çœ‹Macç³»ç»Ÿæ‰€æœ‰USBè®¾å¤‡ä¿¡æ¯ï¼Œæ‰¾åˆ°ç›¸åº”çš„å‚å•†Vender ID<br>ç»ˆç«¯è¿›å…¥/Users/user/.androidï¼Œåº”è¯¥æœ‰ä¸€ä¸ªadb_usb.iniæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å°±åˆ›å»ºï¼Œç„¶åå°†ä¸Šé¢çš„Vender ID å•ç‹¬ä¸€è¡ŒåŠ å…¥åˆ°è¯¥æ–‡ä»¶ï¼Œç„¶åé€€å‡ºã€‚<br>è¿è¡Œ adb devicesã€‚å¦‚æœåˆ—è¡¨ä¸­æ‰¾åˆ°ç›¸åº”è®¾å¤‡ï¼Œåˆ™è¿æ¥æˆåŠŸã€‚å†æ¬¡æ‰“å¼€TBS Studioï¼Œæ£€æµ‹è¿æ¥è¿›å…¥è°ƒè¯•ã€‚</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/17/Android/é˜»æ­¢ç³»ç»ŸMediaæ‰«ææŒ‡å®šæ–‡ä»¶å¤¹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/17/Android/é˜»æ­¢ç³»ç»ŸMediaæ‰«ææŒ‡å®šæ–‡ä»¶å¤¹/" itemprop="url">é˜»æ­¢ç³»ç»ŸMediaæ‰«ææŒ‡å®šæ–‡ä»¶å¤¹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-17T11:48:53+08:00">
                2018-08-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘é¡¹ç›®éœ€æ±‚ä¸è®©ç³»ç»Ÿå›¾åº“æ‰«æåˆ°APPçš„å›¾ç‰‡æˆ–è€…ä¸æƒ³å¯¹ç”¨æˆ·æµè§ˆå›¾ç‰‡é€ æˆå½±å“</p>
<p>Androidæä¾›äº†å¯¹æ­¤çš„æ”¯æŒ</p>
<p><strong>.nomediaæ–‡ä»¶/æ–‡ä»¶å¤¹</strong>ï¼šè®©ç³»ç»Ÿä¸æ‰«æçˆ¶æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰åª’ä½“æ–‡ä»¶(å›¾ç‰‡ï¼Œmp3,è§†é¢‘)</p>
<p>ä¾‹å¦‚ï¼šsdå¡æ ¹ç›®å½•/myappï¼Œé‡Œé¢æœ‰æˆ‘ä»¬çš„å›¾ç‰‡ï¼Œä¸æƒ³è®©ç³»ç»Ÿæ‰«æåˆ°å›¾åº“ï¼Œç›´æ¥åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œæ·»åŠ  <code>.nomediaæ–‡ä»¶/æ–‡ä»¶å¤¹</code></p>
<p>ä¹‹å‰å·²ç»æ‰«æå‡ºæ¥çš„èµ„æºå›¾ç‰‡/è§†é¢‘ç­‰ç­‰ï¼Œæ·»åŠ nomediaæ–‡ä»¶åè¿˜æ˜¯ä¼šæ˜¾ç¤ºã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/23/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><span class="page-number current">24</span><a class="page-number" href="/page/25/">25</a><span class="space">&hellip;</span><a class="page-number" href="/page/31/">31</a><a class="extend next" rel="next" href="/page/25/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="é£" />
            
              <p class="site-author-name" itemprop="name">é£</p>
              <p class="site-description motion-element" itemprop="description">éšå¿ƒè€ŒåŠ¨ï¼Œéšåˆƒè€Œè¡Œ</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">308</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">71</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">é£</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
