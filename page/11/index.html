<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="éšå¿ƒè€ŒåŠ¨ï¼Œéšåˆƒè€Œè¡Œ">
<meta property="og:type" content="website">
<meta property="og:title" content="é£">
<meta property="og:url" content="http://yoursite.com/page/11/index.html">
<meta property="og:site_name" content="é£">
<meta property="og:description" content="éšå¿ƒè€ŒåŠ¨ï¼Œéšåˆƒè€Œè¡Œ">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="é£">
<meta name="twitter:description" content="éšå¿ƒè€ŒåŠ¨ï¼Œéšåˆƒè€Œè¡Œ">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/11/"/>





  <title>é£</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">é£</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">æŠ€æœ¯åšå®¢</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/27/Flutter/Androidå†…åµŒæ··åˆFlutter-è·¨å¹³å°çš„æ¸è¿›å¼è§£å†³æ–¹æ¡ˆ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/27/Flutter/Androidå†…åµŒæ··åˆFlutter-è·¨å¹³å°çš„æ¸è¿›å¼è§£å†³æ–¹æ¡ˆ/" itemprop="url">Androidå†…åµŒæ··åˆFlutter-è·¨å¹³å°çš„æ¸è¿›å¼è§£å†³æ–¹æ¡ˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-27T11:00:04+08:00">
                2018-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Flutterå·¥ç¨‹åªä½œä¸ºä¸€ä¸ªmoduleå¼•å…¥å·¥ç¨‹ï¼Œä»£ç å…¥ä¾µæå°ï¼ŒAndroidå·¥ç¨‹å’ŒFlutterå·¥ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹è¿è¡Œã€‚</p>
<p>å¯ä»¥åªä»ä¸€ä¸ªview/ä¸€ä¸ªé¡µé¢å¼€å§‹æ¥è®©Flutterå‚ä¸åˆ°é¡¹ç›®ä¸­å»</p>
<p>å†™æ­¤æ–‡æ—¶ï¼ŒGDD 2018å·²ç»ç»“æŸï¼Œä½¿ç”¨çš„æ˜¯ä¼šä¸Šå‘å¸ƒçš„preview 2ç‰ˆæœ¬ï¼Œå³<code>Flutter 0.8.2 â€¢ channel beta â€¢</code></p>
<h1 id="åˆ›å»ºå·¥ç¨‹"><a href="#åˆ›å»ºå·¥ç¨‹" class="headerlink" title="åˆ›å»ºå·¥ç¨‹"></a>åˆ›å»ºå·¥ç¨‹</h1><h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><pre><code>é¡¹ç›®æ ¹ç›®å½•
    â”œâ”€â”€ åŸç”Ÿå®‰å“å·¥ç¨‹ (android) ASæ‰“å¼€æ­¤å·¥ç¨‹ï¼Œå¯ç‹¬ç«‹è¿è¡Œ
        â”œâ”€â”€ app module
        â”œâ”€â”€ å…¶ä»– module
    â””â”€â”€ Flutter module (flutter_lib) ASæ‰“å¼€æ­¤å·¥ç¨‹ï¼Œå¯ç‹¬ç«‹è¿è¡Œ
        â”œâ”€â”€ .android (çº¯Flutterå·¥ç¨‹flutter_app æ²¡æœ‰.å‰ç¼€)
            â”œâ”€â”€ app 
            â”œâ”€â”€ Flutter (çº¯Flutterå·¥ç¨‹flutter_app æ²¡æœ‰è¯¥module)
        â”œâ”€â”€ lib
            â”œâ”€â”€ main.dart
        â”œâ”€â”€ .ios (çº¯Flutterå·¥ç¨‹flutter_app æ²¡æœ‰.å‰ç¼€)
</code></pre><table>
<thead>
<tr>
<th>åŒºåˆ«</th>
<th>Flutter moduleå·¥ç¨‹ä¸­çš„Androidå·¥ç¨‹</th>
<th>çº¯Flutteråº”ç”¨å·¥ç¨‹ä¸­çš„Androidå·¥ç¨‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ–‡ä»¶å¤¹åç§°</td>
<td>.android</td>
<td>android</td>
</tr>
<tr>
<td>åŒ…å«çš„module</td>
<td>appå’ŒFlutter</td>
<td>app</td>
</tr>
<tr>
<td>è¯´æ˜</td>
<td>appåªæä¾›äº†å…¥å£Activityï¼ŒFlutteråŒ…å«äº†æ’ä»¶æ‰©å±•åŠåŸç”Ÿå·¥ç¨‹è°ƒç”¨çš„æ¥å£</td>
<td>appåŒ…å«å…¥å£ActivityåŠæ’ä»¶æ‰©å±•</td>
</tr>
<tr>
<td>è¯´æ˜</td>
<td>appä¾›Flutterè‡ªèº«å¼€å‘è°ƒè¯•ï¼ŒFlutterä½œä¸ºmoduleä¾›AndroidåŸç”Ÿè°ƒç”¨</td>
<td>appä½œä¸ºAndroidå·¥ç¨‹è¿è¡ŒåŠæ‰“åŒ…</td>
</tr>
</tbody>
</table>
<h2 id="åˆ›å»ºAndroidå·¥ç¨‹"><a href="#åˆ›å»ºAndroidå·¥ç¨‹" class="headerlink" title="åˆ›å»ºAndroidå·¥ç¨‹"></a>åˆ›å»ºAndroidå·¥ç¨‹</h2><p>è¿™é‡Œå‹¾é€‰ä¸Škotlinæ”¯æŒã€‚å‡†å¤‡ç”¨kotlinå®ç°AndroidåŸç”Ÿ</p>
<h2 id="åˆ›å»ºFlutter-module"><a href="#åˆ›å»ºFlutter-module" class="headerlink" title="åˆ›å»ºFlutter module"></a>åˆ›å»ºFlutter module</h2><p>flutter create -t module flutter_lib</p>
<h2 id="å¼•ç”¨Flutter-module"><a href="#å¼•ç”¨Flutter-module" class="headerlink" title="å¼•ç”¨Flutter module"></a>å¼•ç”¨Flutter module</h2><p>androidæ ¹ç›®å½• setting.gradle</p>
<pre><code> //åŠ å…¥ä¸‹é¢é…ç½®
setBinding(new Binding([gradle: this]))
evaluate(new File(
        settingsDir.parentFile,
        &apos;flutter_lib/.android/include_flutter.groovy&apos;
))
</code></pre><p>appçš„ build.gradle</p>
<pre><code>...
dependencies {
    ...
    // åŠ å…¥ä¸‹é¢é…ç½®
    implementation project(&apos;:flutter&apos;)
}    
</code></pre><p>ASæ‰“å¼€androidå·¥ç¨‹ï¼Œé‡æ–°æ„å»ºé¡¹ç›®ï¼Œå³å¯æˆåŠŸçš„å°†FlutteråŠ å…¥Androidå·¥ç¨‹(å³ç”Ÿæˆ <code>æ ¹ç›®å½•/flutter_lib/.android/Flutter</code>)ã€‚    </p>
<h1 id="Androidå·¥ç¨‹ä¸­ä½¿ç”¨Flutterç»„ä»¶"><a href="#Androidå·¥ç¨‹ä¸­ä½¿ç”¨Flutterç»„ä»¶" class="headerlink" title="Androidå·¥ç¨‹ä¸­ä½¿ç”¨Flutterç»„ä»¶"></a>Androidå·¥ç¨‹ä¸­ä½¿ç”¨Flutterç»„ä»¶</h1><p>Flutteræä¾›äº†ä¸¤ç§æ–¹å¼è®©Androidå·¥ç¨‹æ¥å¼•ç”¨ç»„ä»¶</p>
<ul>
<li><p>ä¸€ç§æ˜¯View</p>
<p>  <code>FlutterView createView(Activity activity, final Lifecycle lifecycle, final String initialRoute)</code></p>
</li>
<li><p>ä¸€ç§æ˜¯Fragment</p>
<p>  <code>FlutterFragment createFragment(String initialRoute)</code></p>
</li>
</ul>
<h2 id="å®ä¾‹ï¼šä½œä¸ºé¡µé¢çš„æ ¹View"><a href="#å®ä¾‹ï¼šä½œä¸ºé¡µé¢çš„æ ¹View" class="headerlink" title="å®ä¾‹ï¼šä½œä¸ºé¡µé¢çš„æ ¹View"></a>å®ä¾‹ï¼šä½œä¸ºé¡µé¢çš„æ ¹View</h2><pre><code>class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        val flutterView = Flutter.createView(this@MainActivity, lifecycle, &quot;route1&quot;)
        val layout = FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT, FrameLayout.LayoutParams.MATCH_PARENT)
        val layout = FrameLayout.LayoutParams(600, 1200)
        addContentView(flutterView, layout)
    }
}
</code></pre><h3 id="setContentViewç„¶åaddContentViewçš„åŸå› â€“é˜²æ­¢å¯åŠ¨é»‘å±"><a href="#setContentViewç„¶åaddContentViewçš„åŸå› â€“é˜²æ­¢å¯åŠ¨é»‘å±" class="headerlink" title="setContentViewç„¶åaddContentViewçš„åŸå› â€“é˜²æ­¢å¯åŠ¨é»‘å±"></a>setContentViewç„¶åaddContentViewçš„åŸå› â€“é˜²æ­¢å¯åŠ¨é»‘å±</h3><p><strong>è®¾ç½®FlutterViewåŠ è½½å®Œæˆä¹‹å‰å±•ç¤ºç»™ç”¨æˆ·çš„ç•Œé¢ã€‚</strong> å½“ç„¶å¤§éƒ¨åˆ†æƒ…å†µä¸‹ç”¨æˆ·æ ¹æœ¬æ„ŸçŸ¥ä¸åˆ°è¿™ä¸ªç•Œé¢Flutterå°±å·²ç»åŠ è½½å®Œæˆäº†ï¼Œä½†æˆ‘ä»¬ä»éœ€è¦å®ƒ</p>
<ul>
<li>è™½ç„¶FLutterçš„åŠ è½½é€Ÿåº¦éå¸¸å¿«ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¾ç„¶å­˜åœ¨</li>
<li>å¦‚æœæ²¡æœ‰è¿™ä¸ªç•Œé¢çš„è¯åœ¨Activityçš„åŠ è½½è¿‡ç¨‹ä¼šå‡ºç°ä¸€ä¸ªé»‘è‰²çš„é—ªå±ï¼Œç”¨æˆ·ä½“éªŒå·®</li>
<li>debugæ¨¡å¼ä¸‹Flutterçš„åŠ è½½é€Ÿåº¦å¹¶ä¸æ˜¯éå¸¸å¿«ï¼Œè¿™ä¸ªç•Œé¢å¯ä»¥ç»™å¼€å‘äººå‘˜çœ‹<ul>
<li>å®é™…æµ‹è¯•å‘ç°ï¼Œå³ä½¿è¿™æ ·å¤„ç†ï¼Œåœ¨æµ‹è¯•æœºä¸Šdebugæœ‰é»‘è‰²é—ªå±ï¼Œreleaseæ­£å¸¸<ul>
<li>å¯èƒ½æµ‹è¯•æœºå¤ªæ¸£ï¼Œç›´æ¥æ–°å»ºä¸€ä¸ªhelloworldå·¥ç¨‹(kotlin)å†·å¯åŠ¨éƒ½ä¼šæœ‰æ˜æ˜¾ç™½å±</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="Flutterå·¥ç¨‹ä¸­æ ¹æ®routeåˆ›å»ºç»„ä»¶"><a href="#Flutterå·¥ç¨‹ä¸­æ ¹æ®routeåˆ›å»ºç»„ä»¶" class="headerlink" title="Flutterå·¥ç¨‹ä¸­æ ¹æ®routeåˆ›å»ºç»„ä»¶"></a>Flutterå·¥ç¨‹ä¸­æ ¹æ®routeåˆ›å»ºç»„ä»¶</h1><p>å¯ä»¥é€šè¿‡windowçš„å…¨å±€å˜é‡ä¸­è·å–åˆ°å½“å‰çš„routeNameï¼Œè¿™ä¸ªå€¼æ­£æ˜¯ä¸Šé¢é€šè¿‡åŸç”Ÿå·¥ç¨‹ä¼ ç»™Flutterçš„æ ‡è¯†ï¼Œæœ‰äº†è¿™ä¸ªæ ‡è¯†å°±å¯ä»¥ç®€å•çš„åšåˆ¤æ–­æ¥è¿›è¡Œä¸åŒçš„ç»„ä»¶åˆ›å»ºäº†ï¼š<br>import â€˜dart:uiâ€™;<br>import â€˜package:flutter/material.dartâ€™;</p>
<p>void main() =&gt; runApp(_widgetForRoute(window.defaultRouteName));</p>
<p>//æ ¹æ®ä¸åŒçš„æ ‡è¯†åˆ›å»ºä¸åŒçš„ç»„ä»¶ç»™åŸç”Ÿå·¥ç¨‹è°ƒç”¨<br>Widget _widgetForRoute(String route) {<br>  switch (route) {<br>    case â€˜route1â€™:<br>      return SomeWidget(â€¦);<br>    case â€˜route2â€™:<br>      return SomeOtherWidget(â€¦);<br>    default:<br>      return Center(<br>        child: Text(â€˜Unknown route: $routeâ€™, textDirection: TextDirection.ltr),<br>      );<br>  }<br>}</p>
<h1 id="è®©Flutteræ¨¡å—æ”¯æŒçƒ­åŠ è½½"><a href="#è®©Flutteræ¨¡å—æ”¯æŒçƒ­åŠ è½½" class="headerlink" title="è®©Flutteræ¨¡å—æ”¯æŒçƒ­åŠ è½½"></a>è®©Flutteræ¨¡å—æ”¯æŒçƒ­åŠ è½½</h1><p>é¡¹ç›®æ ¹ç›®å½•/flutter_libä¸‹æ‰§è¡Œ</p>
<pre><code>flutter attach
</code></pre><p>ä»£ç æ‰§è¡Œåï¼Œç›‘å¬æœåŠ¡ä¼šç­‰å¾…å¹¶ç›‘å¬debugåº”ç”¨ä¸­flutterçš„çŠ¶æ€</p>
<p>ç„¶åASä¸­ä»¥æ­£å¸¸æ–¹å¼è°ƒè¯•è¿è¡Œandroidï¼Œå½“flutterçš„viewæˆ–Fragmentæ¿€æ´»æ—¶ä¼šè§¦å‘æ–‡ä»¶åŒæ­¥ã€‚</p>
<p>ç»ˆç«¯è¾“å‡ºå¦‚ä¸‹</p>
<pre><code>Waiting for a connection from Flutter on Le X620...
Done.
Syncing files to device Le X620...                           2.3s
ğŸ”¥  To hot reload changes while running, press &quot;r&quot;. To hot restart (and rebuild state), press &quot;R&quot;.
An Observatory debugger and profiler on Le X620 is available at: http://127.0.0.1:61500/
For a more detailed help message, press &quot;h&quot;. To detach, press &quot;d&quot;; to quit, press &quot;q&quot;.
</code></pre><p>ä¿®æ”¹flutterå·¥ç¨‹ä¸­çš„dartä»£ç æ–‡ä»¶ï¼Œä¿å­˜ååœ¨<strong>ç»ˆç«¯ä¸­</strong>ç‚¹å‡»ré”®å³å¯è¿›è¡Œçƒ­åŠ è½½ï¼ŒRé”®è¿›è¡Œçƒ­é‡å¯ã€‚</p>
<h1 id="ç­¾åæ‰“åŒ…"><a href="#ç­¾åæ‰“åŒ…" class="headerlink" title="ç­¾åæ‰“åŒ…"></a>ç­¾åæ‰“åŒ…</h1><p>å¸¸è§„æ‰“åŒ…æ“ä½œå³å¯</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/13/Android/Travis-CI-ä½¿ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/13/Android/Travis-CI-ä½¿ç”¨/" itemprop="url">Travis CI ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-13T11:31:14+08:00">
                2018-09-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h1><p>æ–°å…´çš„å¼€æºæŒç»­é›†æˆæ„å»ºé¡¹ç›®ï¼Œä¸jenkinsï¼ŒGOçš„æ˜æ˜¾çš„ç‰¹ç‚¹åœ¨äº</p>
<ul>
<li><p>é‡‡ç”¨yamlæ ¼å¼ï¼Œç®€æ´æ¸…æ–°ç‹¬æ ‘ä¸€å¸œã€‚</p>
</li>
<li><p>åœ¨çº¿ç¯å¢ƒï¼Œä¸ç”¨æœ¬åœ°éƒ¨ç½²</p>
</li>
</ul>
<p>ç›®å‰å¤§å¤šæ•°çš„githubé¡¹ç›®éƒ½å·²ç»ç§»å…¥åˆ°Travis CIçš„æ„å»ºé˜Ÿåˆ—ä¸­</p>
<h1 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h1><h2 id="GitHub-ç”Ÿæˆä¾›Travisä½¿ç”¨çš„token"><a href="#GitHub-ç”Ÿæˆä¾›Travisä½¿ç”¨çš„token" class="headerlink" title="GitHub ç”Ÿæˆä¾›Travisä½¿ç”¨çš„token"></a>GitHub ç”Ÿæˆä¾›Travisä½¿ç”¨çš„token</h2><ul>
<li><p>Settings â€“ Developer settings â€“ Personal access tokens</p>
</li>
<li><p>å¡«å†™tokençš„æè¿°ï¼Œå¦‚hexoblog</p>
</li>
<li><p>é€‰æ‹©repo</p>
</li>
<li><p>Generate token</p>
</li>
<li><p>å¤åˆ¶ç”Ÿæˆçš„token(åªå…è®¸çœ‹è§ä¸€æ¬¡)</p>
</li>
</ul>
<h2 id="Travis-è®¾ç½®é›†æˆä»“åº“"><a href="#Travis-è®¾ç½®é›†æˆä»“åº“" class="headerlink" title="Travis è®¾ç½®é›†æˆä»“åº“"></a>Travis è®¾ç½®é›†æˆä»“åº“</h2><ul>
<li><p>ä½¿ç”¨GitHubè´¦å·ç™»å½• <a href="https://travis-ci.org" target="_blank" rel="noopener">Travis å…è´¹ç½‘ç«™</a>(comæ˜¯ä»˜è´¹ç§æœ‰ä»“åº“)</p>
</li>
<li><p>Settings â€“ æ‰“å¼€éœ€è¦é›†æˆçš„ä»“åº“ â€“ Settings é¡µé¢</p>
<ul>
<li><p>Environment Variables æ–°å¢ä¸€ä¸ªå˜é‡è®°å½•token(å˜é‡åHEXO_TOKEN)</p>
<p>  <code>å¦‚æœæœ‰ä»“åº“æœªåŒæ­¥è¿‡æ¥ï¼Œæ‰‹åŠ¨åŒæ­¥ Sync account</code></p>
</li>
<li><p>Cron Jobs è®¾ç½®éœ€è¦æ„å»ºçš„åˆ†æ”¯å</p>
</li>
</ul>
</li>
</ul>
<h2 id="é…ç½®-travis-yml"><a href="#é…ç½®-travis-yml" class="headerlink" title="é…ç½® .travis.yml"></a>é…ç½® <code>.travis.yml</code></h2><p>é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º <code>.travis.yml</code> æ–‡ä»¶</p>
<h3 id="hexo-åšå®¢æ„å»º"><a href="#hexo-åšå®¢æ„å»º" class="headerlink" title="hexo åšå®¢æ„å»º"></a>hexo åšå®¢æ„å»º</h3><p>node_js å®ç°çš„mdç”Ÿæˆé™æ€åšå®¢ç³»ç»Ÿ</p>
<pre><code>language: node_js
node_js: stable
cache:
  apt: true
  directories:
  - node_modules
before_install:
- export TZ=&apos;Asia/Shanghai&apos;
install:
- npm install
script:
- hexo clean
- hexo g &amp;&amp; gulp
after_script:
- git clone https://${GH_REF} .deploy_git
- cd .deploy_git
- git checkout master
- cd ../
- mv .deploy_git/.git/ ./public/
- cd ./public
- git config user.name &quot;lyg&quot;
- git config user.email &quot;liyungui@163.com&quot;
- git add .
- git commit -m &quot;Travis CI Auto Builder at `date +&quot;%Y-%m-%d %H:%M&quot;`&quot;
- git push --force --quiet &quot;https://${HEXO_TOKEN}@${GH_REF}&quot; master:master
branches:
  only:
  - master
env:
  global:
  - GH_REF: github.com/liyungui/liyungui.github.io.git
notifications:
  email:
  - liyungui89@163.com
  on_success: change
  on_failure: always
</code></pre><ul>
<li>HEXO_TOKENï¼šé›†æˆé…ç½®çš„tokenå˜é‡å</li>
<li>GH_REFï¼šGitHubä»“åº“åœ°å€(ä¸è¦https://å‰ç¼€)</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/06/Android/åŠ¨ç”»åº“Lottie/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/06/Android/åŠ¨ç”»åº“Lottie/" itemprop="url">åŠ¨ç”»åº“Lottie</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-09-06T16:18:53+08:00">
                2018-09-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Lottie æ˜¯ä¸€ä¸ªå¯ä»¥è§£æAE( Adobe After Effects )ä¸Šçš„æ’ä»¶Bodymovinå¯¼å‡ºçš„jsonæ–‡ä»¶(ä¾èµ–pngæ–‡ä»¶)å®ç°åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ¸²æŸ“çš„åŠ¨ç”»åº“ã€‚</p>
<p>ä¼˜ç‚¹ï¼š</p>
<p><strong>å¼€å‘é«˜æ•ˆï¼Œæ–‡ä»¶ä½“ç§¯å°ï¼Œå±•ç¤ºæ•ˆæœå¥½ï¼Œæ€§èƒ½æ¶ˆè€—å°ï¼Œæ§åˆ¶çµæ´»ï¼ŒæœåŠ¡å™¨æ›´æ–°åŠ¨ç”»ï¼Œè·¨å¹³å°</strong>ã€‚æ¯”gifä½“ç§¯å°ï¼Œæ•ˆæœå¥½(AEå¯¼å‡ºgifæœ‰ç™½è¾¹)ï¼Œå¯ä»¥é‡å¤æ’­æ”¾æŒ‡å®šå¸§æŒ‡å®šæ¬¡æ•°</p>
<p>ç¼ºé™·ï¼š</p>
<p>ç³»ç»Ÿç‰ˆæœ¬æœ‰è¦æ±‚ã€‚æ”¯æŒ Android(Jellybean/API16 åŠä»¥ä¸Š)ï¼Œios(8.0)ï¼ŒRN</p>
<p>ä¸æ”¯æŒäº¤äº’åŠ¨ç”»ã€‚åªèƒ½æ’­æ”¾ç±»å‹åŠ¨ç”»</p>
<p><a href="https://github.com/airbnb/lottie-android" target="_blank" rel="noopener">github</a></p>
<p><a href="http://airbnb.io/lottie/android/android.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
<h1 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h1><h2 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="headerlink" title="æ·»åŠ ä¾èµ–"></a>æ·»åŠ ä¾èµ–</h2><pre><code>compile &apos;com.airbnb.android:lottie:2.6.0&apos;
</code></pre><h2 id="xml"><a href="#xml" class="headerlink" title="xml"></a>xml</h2><pre><code>&lt;com.airbnb.lottie.LottieAnimationView
 android:id=&quot;@+id/animation_view&quot;
 android:layout_width=&quot;wrap_content&quot;
 android:layout_height=&quot;wrap_content&quot;
 app:lottie_fileName=&quot;hello-world.json&quot;
 app:lottie_loop=&quot;true&quot;
 app:lottie_autoPlay=&quot;true&quot; /&gt;
</code></pre><h2 id="èµ„æºç›®å½•"><a href="#èµ„æºç›®å½•" class="headerlink" title="èµ„æºç›®å½•"></a>èµ„æºç›®å½•</h2><p> Lottie animations can load animations from:</p>
<ul>
<li>A json animation in src/main/res/raw.</li>
<li>A json file in src/main/assets.</li>
<li>A zip file in src/main/assets. See images docs for more info.</li>
<li>A url to a json or zip file.</li>
<li>A json string. The source can be from anything including your own network stack.</li>
<li>An InputStream to either a json file or a zip file.</li>
</ul>
<p>ä¾èµ–å›¾ç‰‡å­˜æ”¾ç›®å½•</p>
<ul>
<li>src/main/assets/image. imageå¯ä»¥æ˜¯å…¶ä»–åå­—</li>
</ul>
<p>ç¤ºä¾‹jsonæ–‡ä»¶æ”¾äº raw ç›®å½•ï¼Œå›¾ç‰‡æ”¾äº assets/image</p>
<h2 id="è®¾ç½®ä¾èµ–å›¾ç‰‡ç›®å½•"><a href="#è®¾ç½®ä¾èµ–å›¾ç‰‡ç›®å½•" class="headerlink" title="è®¾ç½®ä¾èµ–å›¾ç‰‡ç›®å½•"></a>è®¾ç½®ä¾èµ–å›¾ç‰‡ç›®å½•</h2><p><strong>å¿…é¡»è®¾ç½®</strong>ï¼Œå¦åˆ™æŠ¥é”™</p>
<pre><code>LottieAnimationView.setImageAssetsFolder(&quot;image/&quot;);
</code></pre><p>è‡³æ­¤ï¼ŒåŠ¨ç”»<strong>æˆåŠŸæ˜¾ç¤º</strong>åœ¨ç•Œé¢ä¸Šäº†</p>
<h2 id="APIæ§åˆ¶"><a href="#APIæ§åˆ¶" class="headerlink" title="APIæ§åˆ¶"></a>APIæ§åˆ¶</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">LottieAnimationView.setMinAndMaxFrame(<span class="number">0</span>, <span class="number">34</span>);</span><br><span class="line"></span><br><span class="line">LottieAnimationView.setRepeatMode(LottieDrawable.RESTART);</span><br><span class="line">LottieAnimationView.setRepeatCount(<span class="number">0</span>);</span><br><span class="line">	<span class="comment">//0ï¼Œè¡¨ç¤ºä¸é‡å¤</span></span><br><span class="line">	<span class="comment">//LottieDrawable.INFINITEï¼Œæ— é™é‡å¤</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">LottieAnimationView.playAnimation();<span class="comment">//æ’­æ”¾åŠ¨ç”»</span></span><br><span class="line"></span><br><span class="line">LottieAnimationView.addAnimatorListener(Animator.AnimatorListenerï¼‰<span class="comment">//ç›‘å¬åŠ¨ç”»çŠ¶æ€</span></span><br><span class="line">LottieAnimationView.removeAllAnimatorListeners();</span><br><span class="line"></span><br><span class="line">LottieAnimationView.addAnimatorUpdateListener(ValueAnimator.AnimatorUpdateListener)<span class="comment">//ç›‘å¬æ’­æ”¾è¿›åº¦</span></span><br><span class="line">LottieAnimationView.removeAllUpdateListeners() <span class="comment">//æ…ç”¨ï¼Œä¼šå¯¼è‡´åŠ¨ç”»æ— æ³•æ’­æ”¾</span></span><br><span class="line">LottieAnimationView.removeUpdateListener(ValueAnimator.AnimatorUpdateListener)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’­æ”¾è¿›åº¦å›è°ƒä¸­</span></span><br><span class="line">animation.getAnimatedValue() è¿”å›è¿›åº¦[<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">animation.getAnimatedFraction() è¿”å›è¿›åº¦[minFrame,maxFrame]ã€‚å¦‚æœæ²¡è®¾ç½®ï¼Œä¹Ÿæ˜¯è¿”å›[<span class="number">0</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h1 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h1><ul>
<li><p>å¯èƒ½ä¼šv4åŒ…å†²çª</p>
<p>  ç§»é™¤lottieçš„v4åŒ…</p>
<pre><code>compile (&quot;com.airbnb.android:lottie:2.6.1&quot;){exclude group: &quot;com.android.support.v4&quot;}
</code></pre></li>
<li><p>ä¿æŒv7ä¾èµ–çš„ç‰ˆæœ¬ä¸º27</p>
<p>  v7çš„24ç‰ˆæœ¬å¸¦çš„v4åŒ…ï¼Œæ‰¾ä¸åˆ° android.support.v4.util.ArraySet</p>
</li>
</ul>
<h1 id="å¡é¡¿é—®é¢˜"><a href="#å¡é¡¿é—®é¢˜" class="headerlink" title="å¡é¡¿é—®é¢˜"></a>å¡é¡¿é—®é¢˜</h1><p>å…¨å±åŠ¨ç”»å¡é¡¿é—®é¢˜ç‰¹åˆ«ä¸¥é‡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¡¬ä»¶åŠ é€Ÿï¼Œå¼€å¯ä¹‹åç¬é—´ä¸æ»‘</span></span><br><span class="line">animationView.useHardwareAcceleration(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå¹¶è·¯å¾„ é»˜è®¤æ˜¯å…³é—­çš„ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚è°ƒæ•´</span></span><br><span class="line">animationView.enableMergePathsForKitKatAndAbove(<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>
<h1 id="å›æ”¶å›¾ç‰‡èµ„æºçš„æ—¶æœº"><a href="#å›æ”¶å›¾ç‰‡èµ„æºçš„æ—¶æœº" class="headerlink" title="å›æ”¶å›¾ç‰‡èµ„æºçš„æ—¶æœº"></a>å›æ”¶å›¾ç‰‡èµ„æºçš„æ—¶æœº</h1><ul>
<li>è®¾ç½®å›¾ç‰‡èµ„æº</li>
<li>onDetachedFromWindowï¼›å³è®¾ç½®å¯è§æ€§ä¸ºgoneï¼Œä¸”æŠŠview remove</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">---LottieAnimationView---</span><br><span class="line"><span class="meta">@Override</span> <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onDetachedFromWindow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (isAnimating()) &#123;</span><br><span class="line">    cancelAnimation();</span><br><span class="line">    wasAnimatingWhenDetached = <span class="keyword">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  recycleBitmaps();</span><br><span class="line">  <span class="keyword">super</span>.onDetachedFromWindow();</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="meta">@Override</span> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setImageResource</span><span class="params">(<span class="keyword">int</span> resId)</span> </span>&#123;</span><br><span class="line">  recycleBitmaps();</span><br><span class="line">  cancelLoaderTask();</span><br><span class="line">  <span class="keyword">super</span>.setImageResource(resId);</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="meta">@VisibleForTesting</span> <span class="function"><span class="keyword">void</span> <span class="title">recycleBitmaps</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// AppCompatImageView constructor will set the image when set from xml</span></span><br><span class="line">  <span class="comment">// before LottieDrawable has been initialized</span></span><br><span class="line">  <span class="keyword">if</span> (lottieDrawable != <span class="keyword">null</span>) &#123;</span><br><span class="line">    lottieDrawable.recycleBitmaps();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">---LottieDrawable---</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">recycleBitmaps</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (imageAssetManager != <span class="keyword">null</span>) &#123;</span><br><span class="line">    imageAssetManager.recycleBitmaps();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">--ImageAssetManager</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">recycleBitmaps</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">synchronized</span> (bitmapHashLock) &#123;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, LottieImageAsset&gt; entry : imageAssets.entrySet()) &#123;</span><br><span class="line">      LottieImageAsset asset = entry.getValue();</span><br><span class="line">      Bitmap bitmap = asset.getBitmap();</span><br><span class="line">      <span class="keyword">if</span> (bitmap != <span class="keyword">null</span>) &#123;</span><br><span class="line">        bitmap.recycle();</span><br><span class="line">        asset.setBitmap(<span class="keyword">null</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/31/Android/Javaä»£ç è®¾ç½®margin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/31/Android/Javaä»£ç è®¾ç½®margin/" itemprop="url">Javaä»£ç è®¾ç½®margin</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-31T18:22:53+08:00">
                2018-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>api</p>
<pre><code>ViewGroup.MarginLayoutParams.setMargins(left, top, right, bottom)

ç›´æ¥çš„å­ç±»æœ‰: 
    FrameLayout.LayoutParams,         
    LinearLayout.LayoutParams and 
    RelativeLayout.LayoutParams.
</code></pre><p>åˆ›å»ºä¸€ä¸ªMarginLayoutParamsæ—¶,éœ€è¦ä»¥Viewæœ¬èº«çš„å¸ƒå±€å‚æ•°å¯¹è±¡ä¸ºåŸºç¡€,å¦åˆ™å¯èƒ½ä¸¢å¤±ä¸€äº›åŸæœ¬çš„å¸ƒå±€å±æ€§. </p>
<pre><code>/**
 * è®¾ç½®æŸä¸ªViewçš„margin
 *
 * @param view
 * @param leftPx
 * @param rightPx
 * @param topPx
 * @param bottomPx
 * @return
 */
public static boolean setViewMargin(View view, int leftPx, int rightPx, int topPx, int bottomPx) {
    if (view == null) {
        return false;
    }

    ViewGroup.MarginLayoutParams marginParams = null;

    //è·å–viewçš„marginè®¾ç½®å‚æ•°
    ViewGroup.LayoutParams params = view.getLayoutParams();
    if (params instanceof ViewGroup.MarginLayoutParams) {
        marginParams = (ViewGroup.MarginLayoutParams) params;
    } else {
        //ä¸å­˜åœ¨æ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„å‚æ•°
        marginParams = new ViewGroup.MarginLayoutParams(params);
    }

    //è®¾ç½®margin
    marginParams.setMargins(leftPx, topPx, rightPx, bottomPx);
    view.setLayoutParams(marginParams);

    return true;
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/31/Android/Linuxå‘½ä»¤è¡Œæ›´æ–°SDK/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/31/Android/Linuxå‘½ä»¤è¡Œæ›´æ–°SDK/" itemprop="url">Linuxå‘½ä»¤è¡Œæ›´æ–°SDK</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-31T18:22:53+08:00">
                2018-08-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code>cd ~/android-sdk-linux/tools/
./android list sdk --extended
    è¾“å‡º
        Packages available for installation or update: 11
        ----------
        id: 1 or &quot;android-28&quot;
             Type: Platform
             Desc: Android SDK Platform 28
                   Revision 6
        ----------
        id: 2 or &quot;android-27&quot;
             Type: Platform
             Desc: Android SDK Platform 27
                   Revision 3
./android update sdk -u -f --filter android-27
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/24/Android/X5å†…æ ¸ä½¿ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/24/Android/X5å†…æ ¸ä½¿ç”¨/" itemprop="url">X5å†…æ ¸ä½¿ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-24T15:40:53+08:00">
                2018-08-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="X5å†…æ ¸æ¦‚è¿°"><a href="#X5å†…æ ¸æ¦‚è¿°" class="headerlink" title="X5å†…æ ¸æ¦‚è¿°"></a>X5å†…æ ¸æ¦‚è¿°</h1><ul>
<li>å¯¹ç³»ç»ŸWebViewçš„èšåˆåŒ…è£…</li>
<li>åŠ è½½å¤±è´¥ä¼šåˆ‡æ¢åˆ°ç³»ç»Ÿå†…æ ¸</li>
<li>å½“æ‰‹æœºä¸Šæœ‰å®¿ä¸»ï¼ˆQQã€å¾®ä¿¡æˆ–QQç©ºé—´ï¼‰æ—¶å…±äº«å®¿ä¸»çš„å†…æ ¸ï¼Œæ²¡æœ‰å¯ç”¨çš„å†…æ ¸æ—¶ä¼šè‡ªå·±å»ä¸‹è½½å†…æ ¸</li>
</ul>
<h1 id="å‘"><a href="#å‘" class="headerlink" title="å‘"></a>å‘</h1><p>é¡¹ç›®ä½¿ç”¨çš„æ˜¯ç‰ˆæœ¬ <code>43500SDK_43656Core</code></p>
<h2 id="æš‚æ—¶ä¸æä¾›64ä½çš„soæ–‡ä»¶"><a href="#æš‚æ—¶ä¸æä¾›64ä½çš„soæ–‡ä»¶" class="headerlink" title="æš‚æ—¶ä¸æä¾›64ä½çš„soæ–‡ä»¶"></a>æš‚æ—¶ä¸æä¾›64ä½çš„soæ–‡ä»¶</h2><p>è§£å†³æ–¹æ¡ˆï¼šå¼ºåˆ¶APPä½¿ç”¨32ä½so</p>
<ul>
<li><p>æŒ‡å®šåªä¿ç•™32ä½soåº“</p>
<pre><code>android{
    defaultConfig{
        ndk{abiFilters &quot;armeabi&quot;}
    }
}

å¦‚æœé…ç½®åç¼–è¯‘æŠ¥é”™ï¼Œåœ¨gradle.propertiesæ–‡ä»¶ä¸­åŠ ä¸Š Android.useDeprecatedNdk=trueï¼› 
</code></pre></li>
<li><p>æŒ‡å®šç›®å½•ä¸‹å¿…é¡»æœ‰soæ–‡ä»¶(å¦åˆ™æ‰“åŒ…æ— è¯¥ç›®å½•)</p>
<pre><code>build.gradleä¸­é…ç½®çš„soåŠ è½½ç›®å½•:jniLibs.srcDir:customerDir

å¦‚æœæ²¡æœ‰è¯¥é¡¹é…ç½®åˆ™soåŠ è½½ç›®å½•é»˜è®¤ä¸ºï¼šsrc/main/jniLibs

å°†.soæ–‡ä»¶æ”¾ç½®è¯¥ç›®å½•çš„armeabiæ–‡ä»¶å¤¹ä¸‹
    æ²¡æœ‰è¯¥ç›®å½•åˆ™æ–°å»ºä¸€ä¸ª
    APPä¸­æ²¡æœ‰ä½¿ç”¨åˆ°.soæ–‡ä»¶åˆ™éœ€è¦æ‹·è´ä»»æ„ä¸€ä¸ª32ä½çš„soæ–‡ä»¶åˆ°è¯¥ç›®å½•ä¸‹
        å¦‚æœæ²¡æœ‰åˆé€‚çš„soå¯ä»¥åˆ°å®˜ç½‘http://x5.tencent.com/tbs/sdk.htmlä¸‹è½½å®˜ç½‘â€œSDKæ¥å…¥ç¤ºä¾‹â€œ,æ‹·è´å¯¹åº”ç›®å½•ä¸‹çš„liblbs.soæ–‡ä»¶
</code></pre></li>
</ul>
<h2 id="å¦‚ä½•åˆ¤æ–­å·²åŠ è½½äº†x5å†…æ ¸"><a href="#å¦‚ä½•åˆ¤æ–­å·²åŠ è½½äº†x5å†…æ ¸" class="headerlink" title="å¦‚ä½•åˆ¤æ–­å·²åŠ è½½äº†x5å†…æ ¸"></a>å¦‚ä½•åˆ¤æ–­å·²åŠ è½½äº†x5å†…æ ¸</h2><p>å‚è€ƒsdkè¯´æ˜æ–‡ä»¶ä¹‹ <code>æ— æ³•åŠ è½½x5å†…æ ¸çš„è§£å†³æ–¹æ¡ˆ.doc</code></p>
<ol>
<li>webviewçš„<strong>getX5WebViewExtension()</strong>è¿”å›énullè¡¨ç¤ºå·²åŠ è½½äº†x5å†…æ ¸webview</li>
<li>appæ‰“å¼€<a href="http://soft.imtt.qq.com/browser/tes/feedback.html" target="_blank" rel="noopener">æµ‹è¯•ç½‘é¡µ</a>ï¼Œæ˜¾ç¤º000000è¡¨ç¤ºåŠ è½½çš„æ˜¯ç³»ç»Ÿå†…æ ¸ï¼Œæ˜¾ç¤ºå¤§äºé›¶çš„æ•°å­—è¡¨ç¤ºåŠ è½½äº†x5å†…æ ¸ï¼ˆè¯¥æ•°å­—æ˜¯x5å†…æ ¸ç‰ˆæœ¬å·ï¼‰</li>
</ol>
<h3 id="å…±äº«ä½¿ç”¨å¾®ä¿¡æ‰‹Qçš„å†…æ ¸"><a href="#å…±äº«ä½¿ç”¨å¾®ä¿¡æ‰‹Qçš„å†…æ ¸" class="headerlink" title="å…±äº«ä½¿ç”¨å¾®ä¿¡æ‰‹Qçš„å†…æ ¸"></a>å…±äº«ä½¿ç”¨å¾®ä¿¡æ‰‹Qçš„å†…æ ¸</h3><p>å¾®ä¿¡æ‰«ä¸‹é¢çš„äºŒç»´ç æ‰“å¼€ç½‘é¡µï¼Œå¦‚æœæ˜¾ç¤ºçš„æ•°å­—æ˜¯00000è¯´æ˜æ‚¨çš„æ‰‹æœºå¾®ä¿¡æ²¡æœ‰å®‰è£…å†…æ ¸</p>
<p>å¾®ä¿¡æ‰«ä¸‹é¢çš„äºŒç»´ç å®‰è£…å†…æ ¸43906ç‰ˆæœ¬</p>
<h2 id="åˆæ¬¡åˆå§‹åŒ–å¤±è´¥"><a href="#åˆæ¬¡åˆå§‹åŒ–å¤±è´¥" class="headerlink" title="åˆæ¬¡åˆå§‹åŒ–å¤±è´¥"></a>åˆæ¬¡åˆå§‹åŒ–å¤±è´¥</h2><p>ç»æµ‹è¯•ï¼Œç¬¬ä¸€æ¬¡å¯åŠ¨APP(Applicationä¸­)åŠ è½½X5å†…æ ¸ï¼Œå¾ˆå¤§æ¦‚ç‡å¤±è´¥ï¼Œé‡å¯å³å¯åŠ è½½æˆåŠŸã€‚è§£å†³æ–¹æ¡ˆæ¯”è¾ƒæš´åŠ›ï¼Œ<strong>åˆå§‹åŒ–å¤±è´¥é‡å¯APP</strong></p>
<p>ä¸‹è½½çš„X5å†…æ ¸å­˜å‚¨åœ¨ <code>sdå¡/tencent/tbs</code>ï¼Œåªä¼šä¸‹è½½ä¸€æ¬¡(å³åˆ é™¤è¯¥ç›®å½•ï¼Œé‡å¯APPä¹Ÿä¸ä¼šé‡æ–°ä¸‹è½½ï¼Œæµ‹è¯•è¿‡ç¨‹æ— æ•°æ¬¡æ¢å¤å‡ºå‚è®¾ç½®)</p>
<p>wifiæ¡ä»¶ä¸‹ä¸‹è½½x5å†…æ ¸24Må·¦å³ï¼Œè€—æ—¶90ç§’å·¦å³</p>
<pre><code>QbSdk.setDownloadWithoutWifi(true);//é»˜è®¤åªå…è®¸åœ¨WiFiç¯å¢ƒä¸‹è½½

//ç›‘æ§å†…æ ¸åˆå§‹åŒ–çŠ¶æ€
QbSdk.initX5Environment(sContext, new QbSdk.PreInitCallback() {
    @Override
    public void onCoreInitFinished() {
        Logger.d(String.format(&quot;%s:onCoreInitFinished:&quot;, TAG));
    }

    /**
     * X5å†…æ ¸åˆå§‹åŒ–åå›è°ƒï¼Œåœ¨onCoreInitFinished()ä¹‹å
     * @param isX5Core ï¼Œtrueè¡¨ç¤ºX5å†…æ ¸åŠ è½½æˆåŠŸã€‚åŠ è½½å¤±è´¥ä¼šåˆ‡æ¢åˆ°ç³»ç»Ÿå†…æ ¸
     */
    @Override
    public void onViewInitFinished(boolean isX5Core) {
        mX5InitSuccess = b;
        Logger.d(String.format(&quot;%s:onViewInitFinished:%b&quot;, TAG, b));
        if (!b &amp;&amp; handler != null) {
            handler.onInitErrot();
        }
    }
});

//ç›‘æ§å†…æ ¸ä¸‹è½½çŠ¶æ€
QbSdk.setTbsListener(new TbsListener() {
    @Override
    public void onDownloadFinish(int i) {
        Logger.d(String.format(&quot;%s:onDownloadFinish:%d&quot;, TAG, i));
    }

    @Override
    public void onInstallFinish(int i) {
        Logger.d(String.format(&quot;%s:onInstallFinish:%d&quot;, TAG, i));
    }

    @Override
    public void onDownloadProgress(int i) {
        Logger.d(String.format(&quot;%s:onDownloadProgress:%d&quot;, TAG, i));
    }
});
</code></pre><h2 id="é™æ€é›†æˆ"><a href="#é™æ€é›†æˆ" class="headerlink" title="é™æ€é›†æˆ"></a>é™æ€é›†æˆ</h2><p>X5å†…æ ¸å¤§å°çº¦24Mï¼Œå¯¹AppåŒ…å¤§å°äº§ç”Ÿä¸€å®šé‡çš„å¢åŠ </p>
<p>å¦‚ä¸‹<a href="http://soft.tbs.imtt.qq.com/17421/tbs_res_imtt_tbs_release_integrateWithX5core_43500SDK_43656Core.zip" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a>æ˜¯é™æ€é›†æˆX5å†…æ ¸çš„æ–¹æ³•</p>
<p>1.å¯¼å…¥jaråŒ…:</p>
<pre><code>tbs_sdk_thirdapp_v3.5.0.1063_43500_staticwithdownload_withoutGame_obfs_20171011_195714.jar
</code></pre><p>2.å¯¼å…¥å†…æ ¸æ–‡ä»¶</p>
<pre><code>å°†è§£å‹tbs_core_3.6.0.1108_043656_20171123_120752_static.apkå¾—åˆ°çš„.soæ–‡ä»¶æ”¾å…¥å·¥ç¨‹çš„src/mian/libsç›®å½•ä¸‹ã€‚
</code></pre><p>3.æŒ‰ç…§å®˜ç½‘æŒ‡å¼•è¿›è¡Œæ›¿æ¢ç³»ç»Ÿwebview</p>
<pre><code>https://x5.tencent.com/tbs/guide/sdkInit.html å‚ç…§å®˜ç½‘â€œSDKé›†æˆæ­¥éª¤â€ä¸­çš„ï¼š1ã€2ã€3ã€6ã€10
</code></pre><p>æ‰“å¼€webviewå‰è°ƒç”¨QbSdk.preinstallStaticTbs()ã€‚(å»ºè®®åœ¨applicationçš„oncreateä¸­å¼‚æ­¥çº¿ç¨‹ä¸­è°ƒç”¨)ã€‚</p>
<h1 id="TBS-Studio-è°ƒè¯•-è¿è¡Œåœ¨X5å†…æ ¸çš„-Webview"><a href="#TBS-Studio-è°ƒè¯•-è¿è¡Œåœ¨X5å†…æ ¸çš„-Webview" class="headerlink" title="TBS Studio è°ƒè¯• è¿è¡Œåœ¨X5å†…æ ¸çš„ Webview"></a>TBS Studio è°ƒè¯• è¿è¡Œåœ¨X5å†…æ ¸çš„ Webview</h1><h2 id="TBS-Studio"><a href="#TBS-Studio" class="headerlink" title="TBS Studio"></a>TBS Studio</h2><p>TBS Studioæ˜¯é¢å‘åŸºäºTBSçš„Webå¼€å‘è€…å’Œç§»åŠ¨åº”ç”¨å¼€å‘å•†ï¼ˆåŒ…æ‹¬å¾®ä¿¡ã€æ‰‹Qï¼Œä¸‰æ–¹Appç­‰ï¼‰æ‰“é€ çš„å¼€å‘æœåŠ¡æ•´ä½“è§£å†³æ–¹æ¡ˆï¼Œä»¥æå‡å¹¿å¤§å¼€å‘è€…åœ¨çœŸæœºç¯å¢ƒä¸‹çš„å¼€å‘æ•ˆç‡ï¼Œå¹¶å¸®åŠ©å¼€å‘è€…åˆ†æå’Œä¼˜åŒ–ç½‘é¡µçš„è®¾è®¡ï¼Œä¸»è¦åŠŸèƒ½æœ‰ç½‘é¡µInspectorè°ƒè¯•ï¼Œç½‘é¡µæ€§èƒ½åˆ†æç­‰ã€‚</p>
<h2 id="åº”ç”¨èƒŒæ™¯"><a href="#åº”ç”¨èƒŒæ™¯" class="headerlink" title="åº”ç”¨èƒŒæ™¯"></a>åº”ç”¨èƒŒæ™¯</h2><p>æˆ‘ä»¬åœ¨å“è¶Šç½‘æ ¡å®‰å“appä¸­ï¼Œä½¿ç”¨äº†x5å†…æ ¸ã€‚</p>
<h2 id="TBS-Studio-åŒ…ä¸‹è½½"><a href="#TBS-Studio-åŒ…ä¸‹è½½" class="headerlink" title="TBS Studio åŒ…ä¸‹è½½"></a>TBS Studio åŒ…ä¸‹è½½</h2><p>TBS Studioæ˜¯é¢å‘åŸºäºTBSçš„Webå¼€å‘è€…å’Œç§»åŠ¨åº”ç”¨å¼€å‘å•†ï¼ˆåŒ…æ‹¬å¾®ä¿¡ã€æ‰‹Qï¼Œä¸‰æ–¹Appç­‰ï¼‰æ‰“é€ çš„å¼€å‘æœåŠ¡æ•´ä½“è§£å†³æ–¹æ¡ˆï¼Œä»¥æå‡å¹¿å¤§å¼€å‘è€…åœ¨çœŸæœºç¯å¢ƒä¸‹çš„å¼€å‘æ•ˆç‡ï¼Œå¹¶å¸®åŠ©å¼€å‘è€…åˆ†æå’Œä¼˜åŒ–ç½‘é¡µçš„è®¾è®¡ï¼Œä¸»è¦åŠŸèƒ½æœ‰ç½‘é¡µInspectorè°ƒè¯•ï¼Œç½‘é¡µæ€§èƒ½åˆ†æç­‰ã€‚</p>
<h2 id="åº”ç”¨èƒŒæ™¯-1"><a href="#åº”ç”¨èƒŒæ™¯-1" class="headerlink" title="åº”ç”¨èƒŒæ™¯"></a>åº”ç”¨èƒŒæ™¯</h2><p>æˆ‘ä»¬åœ¨å“è¶Šç½‘æ ¡å®‰å“appä¸­ï¼Œä½¿ç”¨äº†x5å†…æ ¸ã€‚</p>
<h2 id="TBS-Studio-åŒ…ä¸‹è½½-1"><a href="#TBS-Studio-åŒ…ä¸‹è½½-1" class="headerlink" title="TBS Studio åŒ…ä¸‹è½½"></a>TBS Studio åŒ…ä¸‹è½½</h2><p><a href="http://mcaredown.3g.qq.com/browser/tes/TBS_Studio_win64_v1.3.1_2017062311.zip" target="_blank" rel="noopener">win64</a>ã€<a href="http://mcaredown.3g.qq.com/browser/tes/TBS_Studio_win_v1.3.1_2017061615.zip" target="_blank" rel="noopener">win32</a>ã€<a href="http://mcaredown.3g.qq.com/browser/tes/TBS_Studio_mac_v1.3.1_2017061617.dmg.zip" target="_blank" rel="noopener">mac</a></p>
<h3 id="è¿è¡Œç¯å¢ƒ"><a href="#è¿è¡Œç¯å¢ƒ" class="headerlink" title="è¿è¡Œç¯å¢ƒ"></a>è¿è¡Œç¯å¢ƒ</h3><p>PCç¯å¢ƒ: å½“å‰æ”¯æŒWindowså’Œmacæ“ä½œç³»ç»Ÿã€‚<br>æ‰‹æœºç¯å¢ƒï¼šAndroid 4.4+ï¼Œæœºå‹åŒ…æ‹¬åä¸ºï¼Œå°ç±³ï¼Œä¸‰æ˜Ÿç­‰ä¸»æµæœºå‹ã€‚<br>è°ƒè¯•å®¿ä¸»Appï¼ˆéœ€è¦æ¥å…¥x5å†…æ ¸ï¼‰ï¼šå¾®ä¿¡ã€æ‰‹Qã€QQéŸ³ä¹ã€QZoneã€äº¬ä¸œç­‰</p>
<h3 id="è¿æ¥è®¾ç½®"><a href="#è¿æ¥è®¾ç½®" class="headerlink" title="è¿æ¥è®¾ç½®"></a>è¿æ¥è®¾ç½®</h3><p>pc è¿æ¥æ‰‹æœºï¼Œå…è®¸ USB è°ƒè¯•ã€‚<br>æ‰“å¼€éœ€è¦è°ƒè¯•çš„ç›®æ ‡ç¨‹åº<br>æ‰“å¼€TBS Studio å¯åŠ¨è¿æ¥æ£€æµ‹ã€‚<br>è¯¦ç»†è¿‡ç¨‹ï¼š<a href="http://bbs.mb.qq.com/thread-1416936-1-1.html" target="_blank" rel="noopener">http://bbs.mb.qq.com/thread-1416936-1-1.html</a>    </p>
<p>éƒ¨åˆ†æœºå‹ adb è¿æ¥ä¸ä¸Šè§£å†³</p>
<p>ä½¿ç”¨å†…ç½®adbåŒ…ï¼ˆ winä¸‹è½½, macä¸‹è½½ï¼‰ï¼Œæ‰‹åŠ¨å¯åŠ¨adbï¼ˆä½¿ç”¨homebrewä¸‹è½½ï¼šbrew cask install android-platform-toolsï¼‰<br>è¿è¡Œ adb devices<br> æ‰¾åˆ°è®¾å¤‡ï¼Œç‚¹å‡»é‡ç½®ï¼Œå†æ¬¡â€œå¯åŠ¨æ£€æµ‹â€<br>æœªæ‰¾åˆ°è®¾å¤‡ï¼Œæˆ–è€…offline<br>â‘  è¿è¡Œå‘½ä»¤ adb kill-server -&gt; adb start-server -&gt; adb devices<br>â‘¡ é‡æ‹”usbé“¾æ¥è°ƒè¯•è®¾å¤‡<br>â‘¢ é‡å¯è°ƒè¯•è®¾å¤‡<br>ä»ç„¶æ— æ³•è¿æ¥ä¸Š<br>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼šsystem_profiler SPUSBDataTypeï¼ŒæŸ¥çœ‹Macç³»ç»Ÿæ‰€æœ‰USBè®¾å¤‡ä¿¡æ¯ï¼Œæ‰¾åˆ°ç›¸åº”çš„å‚å•†Vender ID<br>ç»ˆç«¯è¿›å…¥/Users/user/.androidï¼Œåº”è¯¥æœ‰ä¸€ä¸ªadb_usb.iniæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å°±åˆ›å»ºï¼Œç„¶åå°†ä¸Šé¢çš„Vender ID å•ç‹¬ä¸€è¡ŒåŠ å…¥åˆ°è¯¥æ–‡ä»¶ï¼Œç„¶åé€€å‡ºã€‚<br>è¿è¡Œ adb devicesã€‚å¦‚æœåˆ—è¡¨ä¸­æ‰¾åˆ°ç›¸åº”è®¾å¤‡ï¼Œåˆ™è¿æ¥æˆåŠŸã€‚å†æ¬¡æ‰“å¼€TBS Studioï¼Œæ£€æµ‹è¿æ¥è¿›å…¥è°ƒè¯•ã€‚<br>)ã€<a href="http://mcaredown.3g.qq.com/browser/tes/TBS_Studio_mac_v1.3.1_2017061617.dmg.zip" target="_blank" rel="noopener">mac</a></p>
<p>è¿è¡Œç¯å¢ƒ</p>
<p>PCç¯å¢ƒ: å½“å‰æ”¯æŒWindowså’Œmacæ“ä½œç³»ç»Ÿã€‚<br>æ‰‹æœºç¯å¢ƒï¼šAndroid 4.4+ï¼Œæœºå‹åŒ…æ‹¬åä¸ºï¼Œå°ç±³ï¼Œä¸‰æ˜Ÿç­‰ä¸»æµæœºå‹ã€‚<br>è°ƒè¯•å®¿ä¸»Appï¼ˆéœ€è¦æ¥å…¥x5å†…æ ¸ï¼‰ï¼šå¾®ä¿¡ã€æ‰‹Qã€QQéŸ³ä¹ã€QZoneã€äº¬ä¸œç­‰</p>
<p>è¿æ¥è®¾ç½®</p>
<p>pc è¿æ¥æ‰‹æœºï¼Œå…è®¸ USB è°ƒè¯•ã€‚<br>æ‰“å¼€éœ€è¦è°ƒè¯•çš„ç›®æ ‡ç¨‹åº<br>æ‰“å¼€TBS Studio å¯åŠ¨è¿æ¥æ£€æµ‹ã€‚<br>è¯¦ç»†è¿‡ç¨‹ï¼š<a href="http://bbs.mb.qq.com/thread-1416936-1-1.html" target="_blank" rel="noopener">http://bbs.mb.qq.com/thread-1416936-1-1.html</a>    </p>
<p>éƒ¨åˆ†æœºå‹ adb è¿æ¥ä¸ä¸Šè§£å†³</p>
<ol>
<li>ä½¿ç”¨å†…ç½®adbåŒ…ï¼ˆ winä¸‹è½½, macä¸‹è½½ï¼‰ï¼Œæ‰‹åŠ¨å¯åŠ¨adbï¼ˆä½¿ç”¨homebrewä¸‹è½½ï¼šbrew cask install android-platform-toolsï¼‰<br>è¿è¡Œ adb devices</li>
<li>æ‰¾åˆ°è®¾å¤‡ï¼Œç‚¹å‡»é‡ç½®ï¼Œå†æ¬¡â€œå¯åŠ¨æ£€æµ‹â€<br> æœªæ‰¾åˆ°è®¾å¤‡ï¼Œæˆ–è€…offline<br> â‘  è¿è¡Œå‘½ä»¤ adb kill-server -&gt; adb start-server -&gt; adb devices<br> â‘¡ é‡æ‹”usbé“¾æ¥è°ƒè¯•è®¾å¤‡<br> â‘¢ é‡å¯è°ƒè¯•è®¾å¤‡</li>
<li>ä»ç„¶æ— æ³•è¿æ¥ä¸Š<br>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼šsystem_profiler SPUSBDataTypeï¼ŒæŸ¥çœ‹Macç³»ç»Ÿæ‰€æœ‰USBè®¾å¤‡ä¿¡æ¯ï¼Œæ‰¾åˆ°ç›¸åº”çš„å‚å•†Vender ID<br>ç»ˆç«¯è¿›å…¥/Users/user/.androidï¼Œåº”è¯¥æœ‰ä¸€ä¸ªadb_usb.iniæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å°±åˆ›å»ºï¼Œç„¶åå°†ä¸Šé¢çš„Vender ID å•ç‹¬ä¸€è¡ŒåŠ å…¥åˆ°è¯¥æ–‡ä»¶ï¼Œç„¶åé€€å‡ºã€‚<br>è¿è¡Œ adb devicesã€‚å¦‚æœåˆ—è¡¨ä¸­æ‰¾åˆ°ç›¸åº”è®¾å¤‡ï¼Œåˆ™è¿æ¥æˆåŠŸã€‚å†æ¬¡æ‰“å¼€TBS Studioï¼Œæ£€æµ‹è¿æ¥è¿›å…¥è°ƒè¯•ã€‚</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/17/Android/é˜»æ­¢ç³»ç»ŸMediaæ‰«ææŒ‡å®šæ–‡ä»¶å¤¹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/17/Android/é˜»æ­¢ç³»ç»ŸMediaæ‰«ææŒ‡å®šæ–‡ä»¶å¤¹/" itemprop="url">é˜»æ­¢ç³»ç»ŸMediaæ‰«ææŒ‡å®šæ–‡ä»¶å¤¹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-17T11:48:53+08:00">
                2018-08-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘é¡¹ç›®éœ€æ±‚ä¸è®©ç³»ç»Ÿå›¾åº“æ‰«æåˆ°APPçš„å›¾ç‰‡æˆ–è€…ä¸æƒ³å¯¹ç”¨æˆ·æµè§ˆå›¾ç‰‡é€ æˆå½±å“</p>
<p>Androidæä¾›äº†å¯¹æ­¤çš„æ”¯æŒ</p>
<p><strong>.nomediaæ–‡ä»¶/æ–‡ä»¶å¤¹</strong>ï¼šè®©ç³»ç»Ÿä¸æ‰«æçˆ¶æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰åª’ä½“æ–‡ä»¶(å›¾ç‰‡ï¼Œmp3,è§†é¢‘)</p>
<p>ä¾‹å¦‚ï¼šsdå¡æ ¹ç›®å½•/myappï¼Œé‡Œé¢æœ‰æˆ‘ä»¬çš„å›¾ç‰‡ï¼Œä¸æƒ³è®©ç³»ç»Ÿæ‰«æåˆ°å›¾åº“ï¼Œç›´æ¥åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œæ·»åŠ  <code>.nomediaæ–‡ä»¶/æ–‡ä»¶å¤¹</code></p>
<p>ä¹‹å‰å·²ç»æ‰«æå‡ºæ¥çš„èµ„æºå›¾ç‰‡/è§†é¢‘ç­‰ç­‰ï¼Œæ·»åŠ nomediaæ–‡ä»¶åè¿˜æ˜¯ä¼šæ˜¾ç¤ºã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/16/Android/webviewä¸Šä¼ å›¾ç‰‡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/16/Android/webviewä¸Šä¼ å›¾ç‰‡/" itemprop="url">webviewä¸Šä¼ å›¾ç‰‡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-16T18:20:53+08:00">
                2018-08-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘é¡¹ç›®éœ€è¦åœ¨ViewWebé¡µé¢ä¸Šç‚¹å‡» <code>&lt;input type=&quot;file&quot;&gt;</code>ï¼Œè°ƒç”¨æ‰‹æœºç³»ç»Ÿç›¸å†Œæ¥ä¸Šä¼ å›¾ç‰‡ï¼Œå¼€å‘è¿‡ç¨‹ä¸­å‘ç°æ— æ³•æ­£å¸¸å”¤èµ·ç³»ç»Ÿç›¸å†Œæ¥é€‰æ‹©å›¾ç‰‡</p>
<h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><p>æ—¢ç„¶æµè§ˆå™¨å¯ä»¥ï¼Œé‚£å…ˆå‚è€ƒä¸€ä¸‹android browerçš„ä»£ç -_-</p>
<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul>
<li>é‡å†™WebChromeClientã€‚ç³»ç»Ÿå‡çº§APIä½¿ç”¨çš„deleteï¼Œè€Œä¸æ˜¯@deprecatedã€‚è°¨æ…åšå¥½ç³»ç»Ÿå…¼å®¹<strong>(å¤§å‘ä¸€)</strong><ul>
<li>openFileChooser<ul>
<li>æ˜¯ç³»ç»Ÿæ–¹æ³•<ul>
<li>ä¸éœ€è¦ @Override <strong>(å¤§å‘äºŒ)</strong></li>
<li>éç»§æ‰¿ï¼Œæ‰€ä»¥éœ€è¦é¢å¤–æ·»åŠ æ··æ·†è§„åˆ™ <strong>(å¤§å‘ä¸‰)</strong></li>
</ul>
</li>
</ul>
</li>
<li>onShowFileChooser</li>
</ul>
</li>
<li>åœ¨WebViewActivityä¸­æ¥æ”¶é€‰æ‹©åˆ°çš„æ–‡ä»¶Uri</li>
<li>å›è°ƒæ¥å£æŠŠæ–‡ä»¶Uriä¼ ç»™é¡µé¢ã€‚å³ä½¿å–æ¶ˆé€‰æ‹©ä¹Ÿå¿…é¡»å›è°ƒï¼Œå¦åˆ™é˜»å¡é¡µé¢ <strong>(å¤§å‘å››)</strong><ul>
<li>WebChromeClientæä¾›äº†å›è°ƒæ¥å£</li>
</ul>
</li>
</ul>
<h2 id="é‡å†™WebChromeClientçš„openFileChooser-å’ŒonShowFileChooser"><a href="#é‡å†™WebChromeClientçš„openFileChooser-å’ŒonShowFileChooser" class="headerlink" title="é‡å†™WebChromeClientçš„openFileChooser()å’ŒonShowFileChooser()"></a>é‡å†™WebChromeClientçš„openFileChooser()å’ŒonShowFileChooser()</h2><pre><code>// For Android &lt; 3.0
public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg) {
    if (mUploadMessage != null) {
        mUploadMessage.onReceiveValue(null);
    }
    mUploadMessage = uploadMsg;
    mHandler.openFileChooser(&quot;*/*&quot;);
}
// For Android 3.0+
public void openFileChooser(ValueCallback uploadMsg, String acceptType) {
    if (mUploadMessage != null) {
        mUploadMessage.onReceiveValue(null);
    }
    mUploadMessage = uploadMsg;
    String type = TextUtils.isEmpty(acceptType) ? &quot;*/*&quot; : acceptType;
    mHandler.openFileChooser(type);
}
// For Android &gt; 4.1.1
public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture) {
    if (mUploadMessage != null) {
        mUploadMessage.onReceiveValue(null);
    }
    mUploadMessage = uploadMsg;
    String type = TextUtils.isEmpty(acceptType) ? &quot;*/*&quot; : acceptType;
    mHandler.openFileChooser(type);
}
//Android 5.0+
@Override
@SuppressLint(&quot;NewApi&quot;)
public boolean onShowFileChooser(WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams) {
    if (mFilePathCallback != null) {
        mFilePathCallback.onReceiveValue(null);
    }
    mFilePathCallback = filePathCallback;
    String type = &quot;*/*&quot;;
    if (fileChooserParams != null &amp;&amp; fileChooserParams.getAcceptTypes() != null
            &amp;&amp; fileChooserParams.getAcceptTypes().length &gt; 0) {
        type = fileChooserParams.getAcceptTypes()[0];
    }
    mHandler.openFileChooser(type);
    return true;
}
</code></pre><h2 id="å›è°ƒä¼ é€’æ–‡ä»¶Uri"><a href="#å›è°ƒä¼ é€’æ–‡ä»¶Uri" class="headerlink" title="å›è°ƒä¼ é€’æ–‡ä»¶Uri"></a>å›è°ƒä¼ é€’æ–‡ä»¶Uri</h2><pre><code>public void notifyFileChooser(Uri uri) {
    if(mUploadMessage != null) {
        mUploadMessage.onReceiveValue(uri);
        mUploadMessage = null;
    }

    if(mFilePathCallback != null) {
        if(uri == null){
            mFilePathCallback.onReceiveValue(null);
        } else {
            Uri[] uris = new Uri[]{uri};
            mFilePathCallback.onReceiveValue(uris);
        }
        mFilePathCallback = null;
    }
}
</code></pre><h2 id="é€€å‡ºé¡µé¢æ—¶æ”¶å°¾"><a href="#é€€å‡ºé¡µé¢æ—¶æ”¶å°¾" class="headerlink" title="é€€å‡ºé¡µé¢æ—¶æ”¶å°¾"></a>é€€å‡ºé¡µé¢æ—¶æ”¶å°¾</h2><p><strong>ä¿®å¤é¡µé¢è¢«é˜»å¡bug</strong></p>
<p>è°ƒç”¨ç³»ç»Ÿappé€‰æ‹©æ–‡ä»¶çš„æ—¶å€™ï¼Œè‹¥å¼¹å‡ºé€‰æ‹©æ¡†ï¼Œcancelæ‰é€‰æ‹©æ¡†ä¹‹åï¼Œå‘ç°webviewæ— å“åº”äº†ï¼Œæ— æ³•åˆ·æ–°ï¼ŒåŠ è½½ï¼Œç‚¹å‡»ï¼Œç”šè‡³é€€å‡ºè¿™ä¸ªactivityä¹Ÿæ— æ³•åŠ è½½ï¼åæœå¾ˆä¸¥é‡~</p>
<p>åŸå› æ˜¯å½“ä½ é€‰æ‹©ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™ï¼Œwebviewçš„<strong>ValueCallbackå¯¹è±¡ï¼ˆå°±æ˜¯é€‰æ‹©å›¾ç‰‡çš„å›è°ƒï¼‰ä¼šæŒæœ‰è¿™ä¸ªwebviewï¼Œåœ¨æ²¡æœ‰æ”¶åˆ°å›è°ƒä¹‹å‰ï¼Œä½ æ— æ³•å¯¹è¿™ä¸ªwebviewåšä»»ä½•çš„æ“ä½œï¼</strong></p>
<p>çŸ¥é“åŸå› ä¹‹åï¼Œå°±å¾ˆå¥½è§£å†³äº†ï¼Œå¦‚æœcanceläº†ï¼Œé‚£ä¹ˆç›´æ¥è°ƒç”¨è¯¥å¯¹è±¡çš„onReceiveValue()æ–¹æ³•ï¼Œä¼ å…¥nullå³å¯ï¼Œwebviewå°±å¯ä»¥æ­£å¸¸æ“ä½œäº†</p>
<pre><code>public void reset() {
    if(mUploadMessage != null) {
        mUploadMessage.onReceiveValue(null);
        mUploadMessage = null;
    }

    if(mFilePathCallback != null) {
        mFilePathCallback.onReceiveValue(null);
        mFilePathCallback = null;
    }

}
</code></pre><h2 id="æ·»åŠ æƒé™"><a href="#æ·»åŠ æƒé™" class="headerlink" title="æ·»åŠ æƒé™"></a>æ·»åŠ æƒé™</h2><pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.MOUNT_UNMOUNT_FILESYSTEMS&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;
</code></pre><h2 id="æ·»åŠ æ··æ·†è§„åˆ™"><a href="#æ·»åŠ æ··æ·†è§„åˆ™" class="headerlink" title="æ·»åŠ æ··æ·†è§„åˆ™"></a>æ·»åŠ æ··æ·†è§„åˆ™</h2><pre><code>-keepclassmembers class * extends android.webkit.WebChromeClient{
    public void openFileChooser(...);
}
</code></pre><h1 id="éƒ¨åˆ†ç³»ç»Ÿç‰ˆæœ¬æ— æ³•å®ç°ä¸Šä¼ -å¤§å‘äº”"><a href="#éƒ¨åˆ†ç³»ç»Ÿç‰ˆæœ¬æ— æ³•å®ç°ä¸Šä¼ -å¤§å‘äº”" class="headerlink" title="éƒ¨åˆ†ç³»ç»Ÿç‰ˆæœ¬æ— æ³•å®ç°ä¸Šä¼ (å¤§å‘äº”)"></a>éƒ¨åˆ†ç³»ç»Ÿç‰ˆæœ¬æ— æ³•å®ç°ä¸Šä¼ (å¤§å‘äº”)</h1><p>android 4.4æ›´æ”¹webkitå†…æ ¸ä¸ºchromiumï¼Œ<strong>4.4.0åˆ°4.4.2</strong>åˆ é™¤äº†è¯¥APIï¼Œå¼€å‘å›¢é˜Ÿè§£é‡Šï¼Œæ­£åœ¨å¼€å‘ä¸€ä¸ªæ–°çš„æ›´å¥½çš„å…±æœ‰çš„apiï¼Œä¼šåœ¨æ­£å¼ç‰ˆæœ¬ä¸Šæ¨å‡ºã€‚ç»“æœå‘¢ï¼Œåœ¨4.4.3ç‰ˆæœ¬ï¼ŒåˆæŠŠè¿™ä¸ªapiåŠ å›æ¥äº†ã€‚ç®€ç›´æ˜¯èŠ±æ ·ä½œæ­»å•Šï¼ä¸€èˆ¬å‡çº§apiçš„å¥—è·¯ï¼š@deprecatedæ‰æ—§çš„apiï¼ŒåŠ å…¥æ–°çš„apiå¹¶ä¿ç•™å¯¹åŸæœ‰apiçš„æ”¯æŒ</p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><h3 id="ç”¨jsè°ƒç”¨javaæ–¹æ³•ï¼Œå¼ºçƒˆæ¨è"><a href="#ç”¨jsè°ƒç”¨javaæ–¹æ³•ï¼Œå¼ºçƒˆæ¨è" class="headerlink" title="ç”¨jsè°ƒç”¨javaæ–¹æ³•ï¼Œå¼ºçƒˆæ¨è"></a>ç”¨jsè°ƒç”¨javaæ–¹æ³•ï¼Œå¼ºçƒˆæ¨è</h3><h3 id="ä½¿ç”¨ç¬¬ä¸‰æ–¹webview"><a href="#ä½¿ç”¨ç¬¬ä¸‰æ–¹webview" class="headerlink" title="ä½¿ç”¨ç¬¬ä¸‰æ–¹webview"></a>ä½¿ç”¨ç¬¬ä¸‰æ–¹webview</h3><p>æ¯”å¦‚è…¾è®¯x5å†…æ ¸</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/10/JS/ES6-Symbol/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/10/JS/ES6-Symbol/" itemprop="url">ES6-Symbol</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-10T16:30:20+08:00">
                2018-08-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>ç›®çš„ï¼š<strong>ä»æ ¹æœ¬ä¸Šé˜²æ­¢å±æ€§åçš„å†²çª</strong></p>
<p><strong>æ–°çš„åŸå§‹æ•°æ®ç±»å‹Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼</strong></p>
<ul>
<li>ä¸èƒ½ä½¿ç”¨newå‘½ä»¤ã€‚å› ä¸ºæ˜¯åŸå§‹ç±»å‹ï¼Œä¸æ˜¯å¯¹è±¡</li>
</ul>
<p><strong>Symbol å€¼é€šè¿‡Symbolå‡½æ•°ç”Ÿæˆï¼Œæè¿°å‚æ•°å¯çœç•¥ï¼Œä¿è¯æ¯æ¬¡ç”Ÿæˆçš„å€¼éƒ½ç‹¬ä¸€æ— äºŒ</strong></p>
<pre><code>let s1 = Symbol(&apos;foo&apos;);
let s2 = Symbol(&apos;foo&apos;);
s1 === s2 // false
</code></pre><p><strong>Symbol å€¼å¯ä»¥æ˜¾å¼è½¬ä¸ºå­—ç¬¦ä¸²</strong></p>
<h2 id="ä½œä¸ºå±æ€§å"><a href="#ä½œä¸ºå±æ€§å" class="headerlink" title="ä½œä¸ºå±æ€§å"></a>ä½œä¸ºå±æ€§å</h2><p><strong>Symbol å€¼ä½œä¸ºå¯¹è±¡å±æ€§åæ—¶ï¼Œä¸èƒ½ç”¨ç‚¹è¿ç®—ç¬¦</strong></p>
<pre><code>let mySymbol = Symbol();

// ç¬¬ä¸€ç§å†™æ³•
let a = {};
a[mySymbol] = &apos;Hello!&apos;;

// ç¬¬äºŒç§å†™æ³•
let a = {
  [mySymbol]: &apos;Hello!&apos;
};

// ç¬¬ä¸‰ç§å†™æ³•
let a = {};
Object.defineProperty(a, mySymbol, { value: &apos;Hello!&apos; });
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/06/RN/RNå›¾ç‰‡èµ„æº/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="é£">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é£">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/06/RN/RNå›¾ç‰‡èµ„æº/" itemprop="url">RNå›¾ç‰‡èµ„æº</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-08-06T17:21:21+08:00">
                2018-08-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="èµ„æºå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡"><a href="#èµ„æºå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡" class="headerlink" title="èµ„æºå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡"></a>èµ„æºå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡</h1><p><strong>å›¾ç‰‡çš„èµ„æºå±æ€§ï¼Œä¸æ¥å—å­—ç¬¦ä¸²ï¼Œåªæ¥å—å¸¦æœ‰uriå±æ€§çš„å¯¹è±¡</strong></p>
<h2 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h2><ul>
<li><strong>æ–¹ä¾¿å¼€å‘è€…åœ¨å¯¹è±¡ä¸­æ·»åŠ ä¸€äº›å…ƒæ•°æ®(metadata)</strong><ul>
<li>ä¾‹å¦‚å†™å…¥å›¾ç‰‡å°ºå¯¸(è€Œä¸å¿…åœ¨æ ·å¼ä¸­å†™æ­»)</li>
</ul>
</li>
<li>åˆ©äºæ‰©å±•<ul>
<li>æœªæ¥å¯èƒ½åŠ å…¥ç²¾çµå›¾ï¼ˆspritesï¼‰çš„æ”¯æŒã€‚ç†è®ºä¸Šå¯ä»¥æ— ç¼æ”¯æŒç²¾çµå›¾çš„åˆ‡åˆ†<ul>
<li>è¿›ä¸€æ­¥è¾“å‡ºè£åˆ‡ä¿¡æ¯{uri: â€¦, crop: {left: 10, top: 50, width: 20, height: 40}}</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="åœ¨ä¸»çº¿ç¨‹å¤–è§£ç å›¾ç‰‡"><a href="#åœ¨ä¸»çº¿ç¨‹å¤–è§£ç å›¾ç‰‡" class="headerlink" title="åœ¨ä¸»çº¿ç¨‹å¤–è§£ç å›¾ç‰‡"></a>åœ¨ä¸»çº¿ç¨‹å¤–è§£ç å›¾ç‰‡</h1><p> React Native ä¸­ï¼Œå›¾ç‰‡è§£ç åˆ™æ˜¯åœ¨å¦ä¸€çº¿ç¨‹ä¸­å®Œæˆçš„</p>
<h1 id="RNå›¾ç‰‡èµ„æº"><a href="#RNå›¾ç‰‡èµ„æº" class="headerlink" title="RNå›¾ç‰‡èµ„æº"></a>RNå›¾ç‰‡èµ„æº</h1><p><strong>require(â€œå®Œæ•´æ–‡ä»¶åï¼Œå¸¦è·¯å¾„â€)</strong></p>
<pre><code>&lt;Image source={require(&quot;./logo.png&quot;)} /&gt;
</code></pre><p>requireç°åœ¨è¿”å›çš„å¯¹è±¡åŒ…å«<strong>çœŸå®æ–‡ä»¶è·¯å¾„ä»¥åŠå°ºå¯¸</strong>ç­‰ä¿¡æ¯</p>
<pre><code>{
  &quot;__packager_asset&quot;:true,
  &quot;isStatic&quot;:true,
  &quot;path&quot;:&quot;/Users/react/HelloWorld/iOS/Images.xcassets/react.imageset/logo.png&quot;,
  &quot;uri&quot;:&quot;logo&quot;,
  &quot;width&quot;:591,
  &quot;height&quot;:573
}
</code></pre><h2 id="ä¼˜åŠ¿-1"><a href="#ä¼˜åŠ¿-1" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h2><ul>
<li>Packagerå¯ä»¥å¾—çŸ¥å›¾ç‰‡å¤§å°ï¼Œåœ¨ä»£ç é‡Œ<strong>ä¸éœ€è¦å†å£°æ˜å°ºå¯¸</strong><ul>
<li>ä¹Ÿå¯é€šè¿‡styleå±æ€§è°ƒæ•´ä¸ºæ–°çš„å¤§å°</li>
</ul>
</li>
<li>iOS å’Œ Android ä¸€è‡´çš„æ–‡ä»¶ç³»ç»Ÿ</li>
<li>é€šè¿‡ npm æ¥åˆ†å‘ç»„ä»¶æˆ–åº“å¯ä»¥åŒ…å«å›¾ç‰‡</li>
</ul>
<h2 id="æŸ¥æ‰¾è§„åˆ™"><a href="#æŸ¥æ‰¾è§„åˆ™" class="headerlink" title="æŸ¥æ‰¾è§„åˆ™"></a>æŸ¥æ‰¾è§„åˆ™</h2><ul>
<li>æ ¹æ®å¹³å°<ul>
<li><code>my-icon.ios.png</code> å’Œ <code>my-icon.android.png</code></li>
</ul>
</li>
<li>æ ¹æ®å±å¹•ç²¾åº¦<ul>
<li><a href="mailto:`check@2x.png" target="_blank" rel="noopener">`check@2x.png</a><code>å’Œ</code><a href="mailto:check@3x.png" target="_blank" rel="noopener">check@3x.png</a>`</li>
<li>ä¼šæ‰“åŒ…æ‰€æœ‰<strong>å®é™…è¢«ç”¨åˆ°(å³require)</strong>çš„å›¾ç‰‡å¹¶ä¸”ä¾æ®å±å¹•ç²¾åº¦æä¾›å¯¹åº”çš„èµ„æº<ul>
<li>requireå›¾ç‰‡åå­—å¿…é¡»æ˜¯<strong>é™æ€å­—ç¬¦ä¸²(éå˜é‡)</strong><ul>
<li>å› ä¸º<strong>requireæ˜¯ç¼–è¯‘æ—¶æœŸæ‰§è¡Œ</strong></li>
</ul>
</li>
<li>å¦‚æœæ²¡æœ‰å›¾ç‰‡æ°å¥½æ»¡è¶³å±å¹•åˆ†è¾¨ç‡ï¼Œåˆ™é€‰ä¸­æœ€æ¥è¿‘çš„ä¸€ä¸ªå›¾ç‰‡</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>æ³¨æ„ï¼šæ·»åŠ å›¾ç‰‡çš„æ—¶å€™ packager æ­£åœ¨è¿è¡Œï¼Œå¯èƒ½éœ€è¦<strong>é‡å¯ packager</strong> ä»¥ä¾¿èƒ½æ­£ç¡®å¼•å…¥æ–°æ·»åŠ çš„å›¾ç‰‡</p>
<p>å®ä¾‹ï¼šrequireå›¾ç‰‡åå­—å¿…é¡»æ˜¯é™æ€å­—ç¬¦ä¸²</p>
<pre><code>// æ­£ç¡®
var icon = this.props.active
  ? require(&quot;./my-icon-active.png&quot;)
  : require(&quot;./my-icon-inactive.png&quot;);
&lt;Image source={icon} /&gt;;
</code></pre><h1 id="Nativeçš„å›¾ç‰‡èµ„æº"><a href="#Nativeçš„å›¾ç‰‡èµ„æº" class="headerlink" title="Nativeçš„å›¾ç‰‡èµ„æº"></a>Nativeçš„å›¾ç‰‡èµ„æº</h1><p><strong>æ³¨æ„ï¼šä¿è¯å­˜åœ¨ï¼ŒæŒ‡å®šå°ºå¯¸</strong></p>
<h2 id="iOSçš„asset-Androidçš„drawable"><a href="#iOSçš„asset-Androidçš„drawable" class="headerlink" title="iOSçš„asset, Androidçš„drawable"></a>iOSçš„asset, Androidçš„drawable</h2><p><strong>uri: â€œåªä½¿ç”¨æ–‡ä»¶åï¼Œä¸å¸¦è·¯å¾„å’Œåç¼€â€</strong></p>
<pre><code>&lt;Image source={{ uri: "app_icon" }} style={{ width: 40, height: 40 }} /&gt;
</code></pre><h2 id="Androidçš„assets"><a href="#Androidçš„assets" class="headerlink" title="Androidçš„assets"></a>Androidçš„assets</h2><p><strong>uri: â€œasset:/æ–‡ä»¶åï¼Œä¸å¸¦è·¯å¾„â€</strong></p>
<pre><code>&lt;Image
  source={{ uri: "asset:/app_icon.png" }}
  style={{ width: 40, height: 40 }}
/&gt;
</code></pre><h1 id="ç½‘ç»œå›¾ç‰‡"><a href="#ç½‘ç»œå›¾ç‰‡" class="headerlink" title="ç½‘ç»œå›¾ç‰‡"></a>ç½‘ç»œå›¾ç‰‡</h1><p><strong>æ³¨æ„ï¼šä¿è¯å­˜åœ¨ï¼ŒæŒ‡å®šå°ºå¯¸</strong></p>
<h2 id="urlå›¾ç‰‡"><a href="#urlå›¾ç‰‡" class="headerlink" title="urlå›¾ç‰‡"></a>urlå›¾ç‰‡</h2><p><strong>uri: â€œhttps://â€¦â€</strong></p>
<pre><code>&lt;Image source={{uri: 'https://facebook.github.io/react/logo-og.png'}}
       style={{width: 400, height: 400}} /&gt;
</code></pre><h2 id="æ•°æ®å›¾ç‰‡"><a href="#æ•°æ®å›¾ç‰‡" class="headerlink" title="æ•°æ®å›¾ç‰‡"></a>æ•°æ®å›¾ç‰‡</h2><p><strong>uri: â€œdata:image/png;base64,â€¦</strong></p>
<p>å»ºè®®ä»…å¯¹<strong>éå¸¸å°çš„å›¾ç‰‡</strong>ä½¿ç”¨ base64 æ•°æ®ï¼Œæ¯”å¦‚ä¸€äº›å°å›¾æ ‡ã€‚</p>
<h2 id="ç½‘ç»œå›¾ç‰‡çš„è¯·æ±‚å‚æ•°"><a href="#ç½‘ç»œå›¾ç‰‡çš„è¯·æ±‚å‚æ•°" class="headerlink" title="ç½‘ç»œå›¾ç‰‡çš„è¯·æ±‚å‚æ•°"></a>ç½‘ç»œå›¾ç‰‡çš„è¯·æ±‚å‚æ•°</h2><p><strong>åœ¨ Image ç»„ä»¶çš„ source å±æ€§ä¸­æŒ‡å®šä¸€äº›è¯·æ±‚å‚æ•°</strong></p>
<pre><code>&lt;Image
  source={{
	    uri: "https://facebook.github.io/react/logo-og.png",
	    method: "POST",
	    headers: {
	      Pragma: "no-cache"
	    },
	    body: "Your Body goes here"
	  }}
  style={{
		width: 400, 
		height: 400,
		resizeMode: Image.resizeMode.contain
	  }}
/&gt;
</code></pre><h1 id="æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­çš„å›¾ç‰‡"><a href="#æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­çš„å›¾ç‰‡" class="headerlink" title="æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­çš„å›¾ç‰‡"></a>æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­çš„å›¾ç‰‡</h1><h1 id="ä¸ºä»€ä¹ˆä¸åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½è‡ªåŠ¨æŒ‡å®šå°ºå¯¸"><a href="#ä¸ºä»€ä¹ˆä¸åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½è‡ªåŠ¨æŒ‡å®šå°ºå¯¸" class="headerlink" title="ä¸ºä»€ä¹ˆä¸åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½è‡ªåŠ¨æŒ‡å®šå°ºå¯¸"></a>ä¸ºä»€ä¹ˆä¸åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½è‡ªåŠ¨æŒ‡å®šå°ºå¯¸</h1><h2 id="æµè§ˆå™¨å¤„ç†æ–¹å¼"><a href="#æµè§ˆå™¨å¤„ç†æ–¹å¼" class="headerlink" title="æµè§ˆå™¨å¤„ç†æ–¹å¼"></a>æµè§ˆå™¨å¤„ç†æ–¹å¼</h2><p>å¦‚æœä¸ç»™å›¾ç‰‡æŒ‡å®šå°ºå¯¸ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šé¦–å…ˆæ¸²æŸ“ä¸€ä¸ª 0x0 å¤§å°çš„å…ƒç´ å ä½ï¼Œç„¶åä¸‹è½½å›¾ç‰‡ï¼Œåœ¨ä¸‹è½½å®Œæˆåå†åŸºäºæ­£ç¡®çš„å°ºå¯¸æ¥æ¸²æŸ“å›¾ç‰‡</p>
<h2 id="ç¼ºé™·"><a href="#ç¼ºé™·" class="headerlink" title="ç¼ºé™·"></a>ç¼ºé™·</h2><p>UI ä¼šåœ¨å›¾ç‰‡åŠ è½½çš„è¿‡ç¨‹ä¸­ä¸Šä¸‹è·³åŠ¨ï¼Œä½¿å¾—ç”¨æˆ·ä½“éªŒéå¸¸ç³Ÿç³•</p>
<h2 id="RNå¤„ç†æ–¹å¼"><a href="#RNå¤„ç†æ–¹å¼" class="headerlink" title="RNå¤„ç†æ–¹å¼"></a>RNå¤„ç†æ–¹å¼</h2><p><strong>RNå›¾ç‰‡èµ„æºæ— éœ€æŒ‡å®š(åŠ è½½æ—¶ç«‹åˆ»çŸ¥é“å°ºå¯¸)ï¼Œå…¶ä»–çš„éƒ½éœ€è¦æ‰‹åŠ¨æŒ‡å®š</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="é£" />
            
              <p class="site-author-name" itemprop="name">é£</p>
              <p class="site-description motion-element" itemprop="description">éšå¿ƒè€ŒåŠ¨ï¼Œéšåˆƒè€Œè¡Œ</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">171</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">56</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">é£</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
