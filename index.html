<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="随心而动，随刃而行">
<meta property="og:type" content="website">
<meta property="og:title" content="风">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="风">
<meta property="og:description" content="随心而动，随刃而行">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="风">
<meta name="twitter:description" content="随心而动，随刃而行">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>风</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">风</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">技术博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/07/View转为Bitmap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/07/View转为Bitmap/" itemprop="url">View转为Bitmap</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-07T15:54:53+08:00">
                2018-06-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="方法一-view-getDrawingCache"><a href="#方法一-view-getDrawingCache" class="headerlink" title="方法一:view.getDrawingCache()"></a>方法一:view.getDrawingCache()</h1><p>适用于View显示在界面上的情况。可以被完全遮挡住，只要android:visibility=”visible”就可以</p>
<pre><code>public Bitmap convertViewToBitmap(View view){

    view.setDrawingCacheEnabled(true); ////启用DrawingCache

    view.buildDrawingCache(); //创建位图

    Bitmap bitmap=Bitmap.createBitmap(view.getDrawingCache()); ////创建一个DrawingCache的拷贝，因为DrawingCache得到的位图在禁用后会被回收

    view.setDrawingCacheEnabled(false);  //禁用DrawingCahce否则会影响性能

    return bitmap;

}
</code></pre><h2 id="返回的Bitmap为null或生成Bitmap全黑色"><a href="#返回的Bitmap为null或生成Bitmap全黑色" class="headerlink" title="返回的Bitmap为null或生成Bitmap全黑色"></a>返回的Bitmap为null或生成Bitmap全黑色</h2><p>主要原因是drawingCache的值大于系统给定的值，buildDrawingCache()失败</p>
<pre><code>if (width &lt;= 0 || height &lt;= 0 ||(width * height * (opaque &amp;&amp; !translucentWindow ? 2 : 4) &gt; ViewConfiguration.get(mContext).getScaledMaximumDrawingCacheSize())) {   
     destroyDrawingCache();   
     return;   
  }  
</code></pre><p>解决方案：</p>
<pre><code>public static Bitmap convertViewToBitmap(View view){
    view.measure(MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED), MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED));
    view.layout(0, 0, view.getMeasuredWidth(), view.getMeasuredHeight());
    view.buildDrawingCache();
    Bitmap bitmap = view.getDrawingCache();
    return bitmap;
}
</code></pre><h1 id="方法二-View-draw-Canvas-canvas"><a href="#方法二-View-draw-Canvas-canvas" class="headerlink" title="方法二:View.draw(Canvas canvas)"></a>方法二:View.draw(Canvas canvas)</h1><p>从源码中可以看到buildDrawingCache就是获得View的Canvas然后画到bitmap上，直接返回对应的bitmap。有些同学就直接将View画到bitmap</p>
<p><strong>个人不推荐使用</strong>。因为系统buildDrawingCache考虑的因素很多，比如透明磁，大小 ，图片质量等；还有重新定位到当前可显示的区域(这点很重要，如果有可滚动的控件，不重定位是无法正确得到Bitmap的，比如ViewPager第二页，手动draw就会出问题)</p>
<pre><code>public static Bitmap convertViewToBitmap(View view) {  
    Bitmap bitmap= Bitmap.createBitmap(view.getWidth(), view.getHeight(), HDConstantSet.BITMAP_QUALITY);  
    Canvas canvas = new Canvas(bitmap);  
    view.draw(canvas);  
    return bitmap;  
}
</code></pre><h2 id="View没有显示在界面上的情况"><a href="#View没有显示在界面上的情况" class="headerlink" title="View没有显示在界面上的情况"></a>View没有显示在界面上的情况</h2><p>通过java代码创建的或者inflate创建的View，是获取不到Bitmap的。</p>
<p>因为View在添加到容器中之前并没有得到实际的大小，需要先指定View的大小</p>
<pre><code>public static Bitmap convertViewToBitmap(View view) {  
    layoutView(view);//必须measure和layout。否则宽高都为0，报错 java.lang.IllegalArgumentException: width and height must be &gt; 0
    Bitmap bitmap= Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);  
    Canvas canvas = new Canvas(bitmap);  
    view.draw(canvas);  
    return bitmap;  
}

private void layoutView(View v) {
    DisplayMetrics metric = new DisplayMetrics();
    getWindowManager().getDefaultDisplay().getMetrics(metric);
    int width = metric.widthPixels;     // 屏幕宽度（像素）
    int height = metric.heightPixels;   // 屏幕高度（像素）
    v.layout(0, 0, width, height);
    int measuredWidth = View.MeasureSpec.makeMeasureSpec(width, View.MeasureSpec.EXACTLY);
    int measuredHeight = View.MeasureSpec.makeMeasureSpec(10000, View.MeasureSpec.AT_MOST);
    v.measure(measuredWidth, measuredHeight);
    v.layout(0, 0, v.getMeasuredWidth(), v.getMeasuredHeight());
}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/07/Bitmap图片生成/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/07/Bitmap图片生成/" itemprop="url">Bitmap图片生成</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-07T15:51:21+08:00">
                2018-06-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/25/Android-Studio-运行-Java代码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/25/Android-Studio-运行-Java代码/" itemprop="url">Android Studio 运行 Java代码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-25T11:45:08+08:00">
                2018-05-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="修改启动方式"><a href="#修改启动方式" class="headerlink" title="修改启动方式"></a>修改启动方式</h1><p>目前有2种方法 :</p>
<h2 id="右键运行方法"><a href="#右键运行方法" class="headerlink" title="右键运行方法"></a>右键运行方法</h2><p>在Java文件中添加main方法，  鼠标点击到main方法里任意地方，然后点击鼠标右键，选择Run ‘MainActivity main()’或者Debug ‘MainActivity main’就行了</p>
<h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h3><pre><code>Error:Gradle: failed to create directory &apos;D:\AndroidProject\app\build\generated\source\r\debug\com\example\test&apos;.
</code></pre><p>Android Studio 3.0，在项目的 gradle.properties 中添加 android.enableAapt2=false 即可</p>
<h2 id="Java-Library"><a href="#Java-Library" class="headerlink" title="Java Library"></a>Java Library</h2><p>new Module – Java Library</p>
<p>运行处有个下拉小箭头，点击Edit Configuration – Add New Configuration – Application</p>
<pre><code>Name 名字随便，这里取名Java
Main class 填要运行的Java类路径
Use class of Module 选择lib名字
</code></pre><p>运行处选择运行方式为Java， 然后点击绿色运行按钮就行了</p>
<h1 id="直接创建JAVA文件"><a href="#直接创建JAVA文件" class="headerlink" title="直接创建JAVA文件"></a>直接创建JAVA文件</h1><p>类文件上右键 ，<code>Run &#39;MainClass.mian()&#39;</code></p>
<h1 id="使用Gradle编译和运行Java程序"><a href="#使用Gradle编译和运行Java程序" class="headerlink" title="使用Gradle编译和运行Java程序"></a>使用Gradle编译和运行Java程序</h1><p>build.gradle</p>
<pre><code>apply plugin: &apos;java&apos;  
apply plugin: &apos;application&apos;  

mainClassName = &apos;com.binwin20.testjava.Main&apos; // main() 的路径
</code></pre><p>运行java</p>
<pre><code>gradle -q run  
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/24/AndroidManifest合并原理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/24/AndroidManifest合并原理/" itemprop="url">AndroidManifest合并原理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-24T18:44:53+08:00">
                2018-05-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://mouxuejie.com/blog/2016-02-05/androidmanifest-merge/" target="_blank" rel="noopener">ss</a></p>
<p><a href="https://developer.android.com/studio/build/manifest-merge?hl=zh-cn" target="_blank" rel="noopener">啊啊</a></p>
<p>APK 只能包含一个 AndroidManifest.xml 文件，但 Android Studio 项目可以包含多个文件（通过主源集、构建变体和导入的库提供）。因此，在构建应用时，Gradle 构建会将所有清单文件合并到一个清单文件中。</p>
<p>清单合并工具通过遵循某些<strong>合并冲突启发式算法</strong>，和 <strong>合并首选项</strong>(通过特殊 XML 属性定义)，来合并各个文件中的所有 XML 元素 。</p>
<h1 id="合并优先级"><a href="#合并优先级" class="headerlink" title="合并优先级"></a>合并优先级</h1><p><strong>从优先级最低的文件合并至优先级最高的文件</strong></p>
<img src="/2018/05/24/AndroidManifest合并原理/manifest-merger_priority.png">
<h2 id="库清单文件"><a href="#库清单文件" class="headerlink" title="库清单文件"></a>库清单文件</h2><p>多个库，则其清单优先级与依赖顺序（库出现在 Gradle dependencies 块中的顺序，由高到低）匹配</p>
<h2 id="构建变体"><a href="#构建变体" class="headerlink" title="构建变体"></a>构建变体</h2><p>变体有多个源集，则其清单优先级如下(由高到低)：</p>
<ul>
<li>构建变体清单（如 src/demoDebug/）</li>
<li>构建类型清单（如 src/debug/）</li>
<li>产品定制清单（如 src/demo/）</li>
</ul>
<p>如果使用的是定制维度，清单优先级将与每个维度在 flavorDimensions 属性中的列示顺序(由高到低)对应。</p>
<h1 id="合并冲突启发式算法"><a href="#合并冲突启发式算法" class="headerlink" title="合并冲突启发式算法"></a>合并冲突启发式算法</h1><h2 id="默认合并规则"><a href="#默认合并规则" class="headerlink" title="默认合并规则"></a>默认合并规则</h2><img src="/2018/05/24/AndroidManifest合并原理/merge.png">
<h3 id="编码原则：不依赖于默认属性值"><a href="#编码原则：不依赖于默认属性值" class="headerlink" title="编码原则：不依赖于默认属性值"></a>编码原则：不依赖于默认属性值</h3><p>高优先级清单实际上依赖于属性的默认值而不需要声明，则可能会导致意外结果。</p>
<p>例如，高优先级清单不声明android:launchMode 属性，则会使用 “standard” 的默认值；但如果低优先级清单声明此属性具有其他值，该值将应用于合并清单（替代默认值）。因此，您应该按期望明确定义每个属性。（每个属性的默认值都会记录在 <a href="https://developer.android.com/guide/topics/manifest/manifest-intro?hl=zh-cn" target="_blank" rel="noopener">Manifest reference</a> 中）。</p>
<h2 id="合并工具为减少合并冲突的特殊规则"><a href="#合并工具为减少合并冲突的特殊规则" class="headerlink" title="合并工具为减少合并冲突的特殊规则"></a>合并工具为减少合并冲突的特殊规则</h2><ul>
<li><code>&lt;manifest&gt;</code>元素的属性绝不合并—仅使用优先级最高的清单中的属性。</li>
<li><code>&lt;uses-feature&gt;</code>元素 <code>&lt;uses-library&gt;</code>元素<code>android:required</code>属性 使用 <strong>OR</strong> 合并，因此如果出现冲突，系统将应用 “true” 并始终包括某个清单所需的功能或库。</li>
<li><code>&lt;uses-sdk&gt;</code>元素始终使用较高优先级的清单中的值，但以下情况有些特殊：<ul>
<li>minSdkVersion，低优先级清单的值 较高<ul>
<li>默认，使用 低优先级清单的值</li>
<li>应用 overrideLibrary 合并规则，使用 较高优先级的清单中的值</li>
</ul>
</li>
<li>targetSdkVersion，低优先级清单的值 较低<ul>
<li>合并工具将使用高优先级清单中的值</li>
<li>但也会添加任何必要的系统权限，以确保所导入的库继续正常工作<ul>
<li>适用于 较高的 Android 版本需要更多权限限制的情况。 如需了解有关此行为的详细信息，请参阅有关隐式系统权限的部分。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>&lt;intent-filter&gt;</code>元素。 每个元素都被视为唯一元素，直接添加至合并清单中的常用父元素。</li>
</ul>
<h1 id="合并规则标记"><a href="#合并规则标记" class="headerlink" title="合并规则标记"></a>合并规则标记</h1><ul>
<li>是什么：是一个 XML 属性</li>
<li>作用：标记如何解决合并冲突和属性的首选项</li>
<li>作用域：整个元素或元素的特定属性</li>
<li>合并工具会在高优先级清单文件中寻找这些标记</li>
<li>所有标记均属于 Android <code>tools</code> 命名空间，必须先在 <code>&lt;manifest&gt;</code>元素中声明此命名空间</li>
</ul>
<h2 id="元素-节点标记"><a href="#元素-节点标记" class="headerlink" title="元素/节点标记"></a>元素/节点标记</h2><p><strong>tools:node=”xx”</strong></p>
<ul>
<li><strong>merge</strong> <ul>
<li>元素的默认行为</li>
<li>合并所有属性以及所有嵌套元素。 例如：<code>&lt;activity&gt;</code> 嵌套 <code>&lt;intent-filter&gt;</code></li>
</ul>
</li>
<li><strong>merge-only-attributes</strong><ul>
<li>仅合并属性，不合并嵌套元素</li>
</ul>
</li>
<li><strong>remove</strong></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/24/Android-7-适配/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/24/Android-7-适配/" itemprop="url">Android 7 适配</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-24T18:40:36+08:00">
                2018-05-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="FileProvider替代file-Uri"><a href="#FileProvider替代file-Uri" class="headerlink" title="FileProvider替代file://Uri"></a>FileProvider替代file://Uri</h1><p>不再允许在app中把file://Uri暴露给其他app，包括但不局限于通过Intent或ClipData 等方法</p>
<p>提供了FileProvider，使用它生成content://Uri来替代file://Uri。</p>
<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>使用file://Uri会有一些风险，比如：</p>
<ul>
<li>文件是私有的，接收file://Uri的app无法访问该文件。</li>
<li>Android6.0引入运行时权限，如果接收file://Uri的app没有申请READ_EXTERNAL_STORAGE权限，在读取文件时会引发崩溃。</li>
</ul>
<h2 id="FileProvider"><a href="#FileProvider" class="headerlink" title="FileProvider"></a>FileProvider</h2><p>manifest application节点下</p>
<pre><code>&lt;provider
    android:authorities=&quot;${applicationId}.fileProvider&quot;
    android:exported=&quot;false&quot;
    android:grantUriPermissions=&quot;true&quot;&gt;
    &lt;meta-data
        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;
        android:resource=&quot;@xml/provider_paths&quot;/&gt;
&lt;/provider&gt;
</code></pre><p>res/xml/provider_paths.xml 指定路径和转换规则</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
    &lt;files-path name=&quot;cache_pdf&quot; path=&quot;cache/pdf/&quot;/&gt;
    &lt;external-files-path name=&quot;external_cache_pdf&quot; path=&quot;cache/pdf/&quot;/&gt;
    &lt;external-path name=&quot;external_image&quot; path=&quot;zywx/image/&quot;/&gt;
&lt;/paths&gt;
</code></pre><p>代码</p>
<pre><code>//Uri photoOutputUri = Uri.fromFile(photoOutputFile);
Uri photoOutputUri = FileProvider.getUriForFile(
                    mContext,
                    mActivity.getPackageName() + &quot;.fileprovider&quot;,
                    photoOutputFile);
            intent.putExtra(MediaStore.EXTRA_OUTPUT, photoOutputUri);
</code></pre><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>android.support.v4.content.FileProvider 类只可以在manifest中注册一次。就如同一个Activity只可以注册一次一样</p>
<pre><code>Error:
    Element provider#android.support.v4.content.FileProvider at AndroidManifest.xml:119:9-131:20 duplicated with element declared at AndroidManifest.xml:105:9-117:20
</code></pre><p>一些第三方sdk为了适配android 7 也添加了这个节点</p>
<p>解决方案：</p>
<ul>
<li>自定义类 继承自FileProvider</li>
<li>使用合并规则替换resource为我们的xml，然后把第三方sdk中的路径配置copy到provider_paths.xml<ul>
<li>如果 authorities 不一致，就是利用合并规则替换了，也会报错。因为第三方库java代码大概率写死了 authorities。<ul>
<li>代码不要写死 authorities，从manifest动态获取</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><ul>
<li><p>FileUriExposedException</p>
<pre><code>android.os.FileUriExposedException: file:///storage/emulated/0/Android/data/com.zy.course.dev/1467180514061025%23kefuchannelapp54752/test_22616/video/1527152182117.mp4 exposed beyond app through Intent.getData()
    at android.os.StrictMode.onFileUriExposed(StrictMode.java:1799)
    at android.net.Uri.checkFileUriExposed(Uri.java:2346)
</code></pre><ul>
<li>解决方案：使用FileProvider代替Uri.fromFile</li>
</ul>
</li>
</ul>
<ul>
<li>java.lang.SecurityException: Provider must not be exported<ul>
<li>解决方案：android:exported必须设置成false</li>
</ul>
</li>
</ul>
<ul>
<li>Attempt to invoke virtual method ‘android.content.res.XmlResourceParser android.content.pm.PackageItemInfo.loadXmlMetaData(android.content.pm.PackageManager, java.lang.String)’ on a null object reference<ul>
<li>解决方案：AndroidManifest.xml处的android:authorities必须跟 mActivity.getPackageName() + “.fileProvider” 一样</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/18/Android开发流程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/18/Android开发流程/" itemprop="url">Android开发流程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-18T16:44:42+08:00">
                2018-05-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h1><p>需求预审 → 需求评审 → 需求分解</p>
<p>→ 需求开发 → 自测 → 静态代码检查   </p>
<p>→ 提测预发布包 →  QA测试验证  </p>
<p>→ 逐步放量灰度及异常数据观察→ hotfix修复灰度中的问题</p>
<p>→  全渠道发布经过灰度验证后的版本（灰度中的问题已修复）→  异常数据观察 </p>
<p>→ 版本总结</p>
<h2 id="需求分解："><a href="#需求分解：" class="headerlink" title="需求分解："></a>需求分解：</h2><p>1）根据需求文档<strong>分解需求</strong>，分清需求的<strong>优先级</strong>，评估需求<strong>工作量</strong></p>
<p>2）罗列需求的<strong>前置条件及关联方</strong>，联系关联方确定前置条件的<strong>交付时间</strong></p>
<p>3）对于<strong>不确定因素和风险点</strong>，需同步出来并作为预估<strong>版本交付时间</strong>的依据。</p>
<p>4）根据前面的工作，结合现有人力，安排需求分工，<strong>预估版本交付时间</strong></p>
<h2 id="需求开发："><a href="#需求开发：" class="headerlink" title="需求开发："></a>需求开发：</h2><p>每天关注版本<strong>进度是否正常</strong>，及时发现风险，争取资源解决</p>
<h2 id="QA测试验证："><a href="#QA测试验证：" class="headerlink" title="QA测试验证："></a>QA测试验证：</h2><p>1）提交云测平台进行安装卸载monkey测试</p>
<p>2）功能测试</p>
<p>3）视情况进行其他专项测试</p>
<p>从CI（<a href="http://ci.xxx.local/job/xxx_android_release/）中提取发布包，并将发版记录登记到Android卓越网校钉钉群" target="_blank" rel="noopener">http://ci.xxx.local/job/xxx_android_release/）中提取发布包，并将发版记录登记到Android卓越网校钉钉群</a> 里面。</p>
<h2 id="逐步放量灰度及异常数据观察"><a href="#逐步放量灰度及异常数据观察" class="headerlink" title="逐步放量灰度及异常数据观察"></a>逐步放量灰度及异常数据观察</h2><p>通过bugly提供的<strong>灰度功能进行逐步放量</strong>，并对异常数据（崩溃率、ANR率、错误率）进行观察</p>
<p>灰度更新策略 <a href="https://bugly.qq.com" target="_blank" rel="noopener">https://bugly.qq.com</a> </p>
<p>hotfix修复灰度中的问题</p>
<p>Hotfix使用说明</p>
<p><a href="https://bugly.qq.com" target="_blank" rel="noopener">https://bugly.qq.com</a></p>
<p>（bugly账号目前由 xxx 保管）</p>
<p>部分应用市场需要加固上传提审，可以通过 <a href="http://console.qcloud.com/legu" target="_blank" rel="noopener">http://console.qcloud.com/legu</a> 腾讯乐固加固应用。</p>
<h2 id="全渠道发布"><a href="#全渠道发布" class="headerlink" title="全渠道发布"></a>全渠道发布</h2><p>1）官网渠道</p>
<p>官网下载地址指向公司OSS地址，所以更新名为android-xxx-cn的bucket下的xxx_release.apk文件。</p>
<p>2）应用商店渠道</p>
<p>现在上线的商店有 应用宝/华为/小米/360/百度，相关账号，目前由 xxx 保管。</p>
<p>3）检查更新渠道</p>
<p>将bugly的灰度更新量提到不限下载量</p>
<h2 id="版本总结"><a href="#版本总结" class="headerlink" title="版本总结"></a>版本总结</h2><p>1）异常经验集的完善</p>
<p>2）总结开发过程中的不足及改进点</p>
<h1 id="质量保障体系"><a href="#质量保障体系" class="headerlink" title="质量保障体系"></a>质量保障体系</h1><p>避免问题-&gt;发现问题-&gt;排查问题-&gt;解决问题-&gt;补救问题</p>
<p>问题的定义：对于用户造成了影响，增加其不必要的使用成本的都叫做问题</p>
<p>1.避免问题</p>
<p><strong>异常处理经验集</strong>的丰富完善</p>
<p><strong>代码规范</strong></p>
<p>静态<strong>代码检查</strong></p>
<p>2.发现问题</p>
<p><strong>异常数据收集</strong></p>
<p><strong>灰度验证</strong>（提前发现问题，缩小问题影响面）</p>
<p>3.排查问题</p>
<p>数据<strong>统计打点</strong>，数据分析，还原用户操作路径</p>
<p>4.解决问题</p>
<p><strong>Hotfix</strong>(加速修复问题)</p>
<p>5.补救问题</p>
<p>观察问题<strong>是否造成用户流失</strong>，通过短信或推送等方式通知用户已解决问题，并观察数据</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/18/联想t420安装黑苹果/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/18/联想t420安装黑苹果/" itemprop="url">联想t420安装黑苹果</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-18T13:29:46+08:00">
                2018-05-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="MBR和GPT分区"><a href="#MBR和GPT分区" class="headerlink" title="MBR和GPT分区"></a>MBR和GPT分区</h1><p>Intel 6系列主板之后，就开始提供UEFI BIOS支持，正式支持GPT硬盘分区表，一举取代了此前的MBR分区表格式</p>
<p>新平台用户（Intel 6系以后/AMD 900系列以后和A系列）来说，都强烈推荐使用GPT分区表格式</p>
<p>Windows Vista以上已经都支持读取和使用GPT分区表。而对于Windows 8以上的用户，换用GPT后开机启动速度也可以进一步得到显著提升。</p>
<h2 id="MBR"><a href="#MBR" class="headerlink" title="MBR"></a>MBR</h2><p><strong>MBR的全称是Master Boot Record（主引导记录）</strong></p>
<p>是存在于驱动器开始部分的一个特殊的启动扇区。这个扇区包含了已安装的操作系统的启动加载器和驱动器的逻辑分区信息。</p>
<p>主引导扇区是硬盘的第一扇区。它由三个部分组成，主引导记录MBR、硬盘分区表DPT和硬盘有效标志</p>
<p>启动加载器，是一小段代码，用于加载驱动器上其他分区上更大的加载器。Linux系统位于MBR里的通常会是GRUB加载器。</p>
<p>MBR最大支持2.2TB磁盘，只支持最多4个主分区(再多分区只能设为逻辑分区)</p>
<h2 id="GPT"><a href="#GPT" class="headerlink" title="GPT"></a>GPT</h2><p><strong>GPT的全称是Globally Unique Identifier Partition Table（GUID分区表）</strong></p>
<p>GPT首要的任务就是突破2.2T分区的限制，最大支持18EB的分区。</p>
<p>它的推出是和UEFI BIOS相辅相成的</p>
<h3 id="ESP"><a href="#ESP" class="headerlink" title="ESP"></a>ESP</h3><p><strong>ESP的全称是EFI system partition（EFI系统分区）</strong></p>
<p>GPT格式的硬盘必须有一个esp分区，esp分区装的是系统引导(windows就是boot64.efi这个文件),开机启动就是从这个分区开始的</p>
<h3 id="MSR分区"><a href="#MSR分区" class="headerlink" title="MSR分区"></a>MSR分区</h3><p><strong>MSR的全称是Microsoft Reserved Partition（Microsoft 保留分区）</strong></p>
<p>GPT上的 Windows操作系统（windows7以上）都要求有的分区。系统组件可以将 MSR 分区的部分分配到新的分区以供它们使用。</p>
<h1 id="UEFI-BIOS"><a href="#UEFI-BIOS" class="headerlink" title="UEFI BIOS"></a>UEFI BIOS</h1><p><strong>UEFI的全称是Unified Extensible Firmware Interface（统一可扩展固件接口）</strong></p>
<p>Windows Vista、7系统需要手动添加UEFI支持，可以找一份Windows 8或者10安装镜像，从安装文件中提取Bootmgfw.efi文件，重命名为BOOTX64.EFI，拷贝到win7安装文件的\EFI\Boot\下，如果没有BOOT文件夹就新建一个。</p>
<h1 id="HFS"><a href="#HFS" class="headerlink" title="HFS"></a>HFS</h1><p><strong>HFS的全称Hierarchical File System（分层文件系统）</strong></p>
<p>一种由苹果电脑开发，并使用在Mac OS上的文件系统。</p>
<h1 id="黑苹果神器ThinkPad-t420"><a href="#黑苹果神器ThinkPad-t420" class="headerlink" title="黑苹果神器ThinkPad t420"></a>黑苹果神器ThinkPad t420</h1><p>折腾黑苹果系统一弄就要好几天，太伤神了。</p>
<p>黑苹果神器ThinkPad t420 基本2个小时就可以搞定</p>
<p>原机自带的无线网卡不能使用，要更换一张。或者可以通过USB把wifi共享给电脑使用（当然也可以共享手机流量上网，但这儿只说wifi）。horndis已经支持Sierra 10.12，可到官网下载</p>
<p>带有双显卡的话只能驱动集成显卡或独立显卡的一个，不能实现自动切换（建议买集显版本）</p>
<p>Yosemite和Windows的时钟问题，把OSX的时区改成北京，启动到Windows在注册表里添加RealTimeIsUniversal键值为1，这样两个系统的时钟就都正常了。原因似乎是MacOSX会把CMOS时钟看做国际标准时间，而Windows默认会看作本地时间。</p>
<p>ThinkPad T系列经过好几代的发展，设计已经很成熟。</p>
<ul>
<li>常用的版本带2代的i5 CPU</li>
<li>支持最多16G的DDR3内存</li>
<li>支持mSATA接口固态硬盘</li>
<li>如果光驱位换成硬盘，最多支持安装3个硬盘。</li>
<li>可以支持3G移动上网卡。</li>
<li>接口丰富<ul>
<li>带有DisplayPort接口。我感觉DP比HDMI接口好太多了，可以方便支持2k高清显示器，hdmi的话情况会复杂很多。</li>
<li>4个usb 2.0，1394火线接口。</li>
<li>最大的缺点是没有USB3.0接口</li>
<li>好在有一个eSATA接口，速度也很快。</li>
<li>另有一个34mm的ExpressCard接口，可以接上usb 3.0的转接器。</li>
<li>内置读卡器、摄像头和指纹识别。</li>
<li>另有扩展底座接口，可以连接专用的扩展底座。</li>
</ul>
</li>
</ul>
<p>最大的优势之一还在于它的通用性。因为目前使用中的T420数量非常大，所以遇到什么问题，网上很多交流文章。</p>
<p>现在二手的T420非常便宜，价格在1500左右。购买时注意，市场上好些高配的四核i7机器据说都是换cpu的，因为听说原装没有四核机器。</p>
<h1 id="安装黑苹果"><a href="#安装黑苹果" class="headerlink" title="安装黑苹果"></a>安装黑苹果</h1><p>参考帖子：<a href="https://bbs.feng.com/forum.php?mod=viewthread&amp;tid=8854857&amp;extra=page%3D1&amp;mobile=no" target="_blank" rel="noopener">T420 UEFI+单硬盘GPT+Yosemite/El Capitan原版+clover基本完美</a></p>
<p>UEFI only启动，一块硬盘GPT分区，C盘装win7 oem版本系统，D盘分出来60G装了win10，最后装的Yosemite（之前下载的10.10.1安装包懒得再重新下了，装好之后直接升级为10.10.2）</p>
<p><a href="https://my.oschina.net/y010204025/blog/1499459" target="_blank" rel="noopener">link</a></p>
<p><a href="http://bbs.pcbeta.com/viewthread-1542110-1-1.html" target="_blank" rel="noopener">【授人以渔】UEFI+GPT+Clover OS X Yosemite原版单、双系统双版教程(正式版)</a></p>
<p><a href="http://bbs.pcbeta.com/viewthread-1599202-1-1.html" target="_blank" rel="noopener">【超级教程】黑苹果各个版本各种引导安装通用教材</a></p>
<h2 id="BIOS设置"><a href="#BIOS设置" class="headerlink" title="BIOS设置"></a>BIOS设置</h2><p>将硬盘模式设为AHCI、EFI only引导、有独显的关闭一下。</p>
<ul>
<li>Recommend update to BIOS v1.46</li>
<li>Recommend reset to defaults. Most defaults settings will work but check settings these:<ul>
<li>Set Config / Serial ATA (SATA) / SATA = AHCI</li>
<li>Set Security / Memory Protection / Execution Prevention = Enabled</li>
</ul>
</li>
<li>Disable Discrete Nvidia/Optimus (use integrated HD 3000 only - unless you really know what you are doing!)</li>
</ul>
<h2 id="制作USB安装盘"><a href="#制作USB安装盘" class="headerlink" title="制作USB安装盘"></a>制作USB安装盘</h2><p>1、下载Mac OS 建议下载原版10.10X或者<a href="https://support.apple.com/kb/DL1845?locale=zh_CN" target="_blank" rel="noopener">10.11.x</a></p>
<p>2、使用TransMac 11(试用版即可)将系统写入Ｕ盘</p>
<pre><code>USB盘符 右键 Restore with Disk Image 选择下载好的dmg文件
耐心等待写盘的完成
写入完成，系统弹出将其格式化，点击取消
cmd -- diskpart -- list disk 可以看到U盘已成GPT(GPT栏有星号)
</code></pre><p>3、替换<a href="https://github.com/tluck/Lenovo-T420-Clover/" target="_blank" rel="noopener">EFI</a>。将EFI文件夹复制到U盘根目录，选择适合屏幕分辨率的config.plist文件，重命名为config.plist.</p>
<p>(4)使用引导安装系统，(安装盘的ESP分区剩余容量必须大于200M，否则格式化磁盘的时候会提示空间不足，格式化失败)</p>
<p>(5)安装完成后继续把EFI文件复制到本地硬盘的ESP，这时你的系统已经可以正常引导和运行</p>
<h1 id="多系统引导解决方案"><a href="#多系统引导解决方案" class="headerlink" title="多系统引导解决方案"></a>多系统引导解决方案</h1><p>安装了4个os，分别是win10、Mac os、Ubuntu、凤凰os（android-x86）</p>
<p>电脑是UEFI引导的，所以我选用的引导为：Clover，可以实现多系统的引导，传统方式要简单一些，直接使用easybcd编辑即可。</p>
<p>Clover相当于是一个简单的系统了，从这个系统里面又引导其他系统，很高级，如果你足够厉害，可以自己去研究。</p>
<p>好，进入正题，我的装系统的步骤依次是：win10-&gt;Mac os–&gt;Ubuntu-&gt;Android</p>
<p>1、efi安装win10，引导会自动配置在esp分区。</p>
<p>2、安装Mac os黑苹果，引导不会自动配置引导。需要手动操作：</p>
<p>（1）将win10引导备份，esp分区内的/EFIMicrosoft文件夹，然后删除</p>
<p>（2）将Clover引导放进esp，开机引导进入clover，选择mac进去，挂载esp分区，将win10文件夹放入/EFI文件夹</p>
<p>（3）重启进入clover，你会发现win10和mac引导已经解决。</p>
<p>3、安装Ubuntu，注意使用EFI引导进入安装，会自动在Efi文件夹新建Ubuntu文件夹，重启会自动进grub引导（也就是Ubuntu引导）在bios里面调节即可，将UEFI OS设置为第一项。此时可以引导3个系统。</p>
<p>4、安装凤凰os，默认安装即可，他也会在EFI新建文件夹，但是开机引导到Clover看不到它，于是考虑使用Ubuntu的gurb引导将其添加进来。</p>
<p>在安卓引导文件夹，找到配置文件，grub.cfg，将图片中的代码复制</p>
<img src="/2018/05/18/联想t420安装黑苹果/img.png">
<p>凤凰os配置文件<br>进入ububun图系统，找到menuentry的位置，将上面的代码也粘贴过去，然后保存即可，重启进入Clover接着选择ubuntu引导，会看到多了凤凰os和windows的引导</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/18/科学上网/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/18/科学上网/" itemprop="url">科学上网</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-18T10:25:42+08:00">
                2018-05-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="VPN"><a href="#VPN" class="headerlink" title="VPN"></a>VPN</h1><ul>
<li>系统全局代理。系统中的软件，（无需配置）自动走 VPN 通道</li>
<li>不方便共享 VPN 的翻墙通道给【其它系统】</li>
<li>一般通过设置系统VPN或使用客户端软件(比如ShadowSocket)</li>
</ul>
<h2 id="Privoxy"><a href="#Privoxy" class="headerlink" title="Privoxy"></a>Privoxy</h2><p>跨系统共享 VPN 的翻墙通道</p>
<p>Privoxy 跟 VPN 安装到同一个操作系统中。</p>
<p>配置 Privoxy 的监听选项，把监听地址设置为 0.0.0.0（表示监听端口绑定到任意地址）</p>
<p>支持转发HTTP 和 SOCKS 两种</p>
<p>公司的共享服务器就是用这个辅助的</p>
<p><a href="https://program-think.blogspot.com/2014/12/gfw-privoxy.html" target="_blank" rel="noopener">详细教程参考</a></p>
<h1 id="代理式"><a href="#代理式" class="headerlink" title="代理式"></a>代理式</h1><ul>
<li>容易跨系统共享翻墙通道</li>
<li>一般都是通过设置浏览器代理或使用浏览器插件</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/17/Visual-Studio-Code-使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/17/Visual-Studio-Code-使用/" itemprop="url">Visual Studio Code 使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-17T18:09:14+08:00">
                2018-05-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="预览模式与编辑模式"><a href="#预览模式与编辑模式" class="headerlink" title="预览模式与编辑模式"></a>预览模式与编辑模式</h1><table>
<thead>
<tr>
<th>操 作</th>
<th>模式</th>
<th>文件标题</th>
</tr>
</thead>
<tbody>
<tr>
<td>单击</td>
<td>预览模式</td>
<td>斜体</td>
</tr>
<tr>
<td>双击</td>
<td>编辑模式</td>
<td>正常</td>
</tr>
</tbody>
</table>
<p>在资源管理器双击文件，或者文件标题栏双击文件，都可以进入 编辑模式</p>
<h2 id="禁用预览模式"><a href="#禁用预览模式" class="headerlink" title="禁用预览模式"></a>禁用预览模式</h2><p>设置文件修改</p>
<pre><code>// 控制是否将打开的编辑器显示为预览。预览编辑器将会重用至其被保留(例如，通过双击或编辑)，且其字体样式将为斜体。
&quot;workbench.editor.enablePreview&quot;: true,

// 控制 Quick Open 中打开的编辑器是否显示为预览。预览编辑器可以重新使用，直到将其保留(例如，通过双击或编辑)。
&quot;workbench.editor.enablePreviewFromQuickOpen&quot;: true
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/17/ReactNativ开发IDE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="风">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="风">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/17/ReactNativ开发IDE/" itemprop="url">ReactNative开发IDE</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-17T17:25:12+08:00">
                2018-05-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="不推荐IDE排行榜："><a href="#不推荐IDE排行榜：" class="headerlink" title="不推荐IDE排行榜："></a>不推荐IDE排行榜：</h1><p>Top1：Nuclide</p>
<p>虽然是Facebook专门为React开发的，但依托于Atom的Nuclide真是慢的出奇，性能低到无法让人忍受</p>
<p>Top2：WebStorm</p>
<p>缺点是慢、卡、容易崩溃，而且是收费的</p>
<h1 id="推荐IDE排行榜："><a href="#推荐IDE排行榜：" class="headerlink" title="推荐IDE排行榜："></a>推荐IDE排行榜：</h1><h2 id="top-1：VS-Code"><a href="#top-1：VS-Code" class="headerlink" title="top 1：VS Code"></a>top 1：VS Code</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><h3 id="添加RN开发插件"><a href="#添加RN开发插件" class="headerlink" title="添加RN开发插件"></a>添加RN开发插件</h3><ul>
<li>React Native Tools：微软官方出的ReactNative插件,非常好用</li>
<li>Reactjs code snippets：react的代码提示，如componentWillMount方法可以通过cwm直接获得</li>
<li>Auto Close Tag：自动闭合标签</li>
<li>Auto Rename Tag：自动重命名标签，配合上面的插件使用，基本上能赶上IntelliJ IDEA系的功能了</li>
<li>Path Intellisense：文件路径提示补全</li>
</ul>
<h3 id="常用快捷键-amp-设置"><a href="#常用快捷键-amp-设置" class="headerlink" title="常用快捷键&amp;设置"></a>常用快捷键&amp;设置</h3><p>Ctrl + Space：代码提示，与输入快捷键冲突使用不了，可根据自己喜爱自行设置，设置：文件 =&gt; 首选项 =&gt; 键盘快捷方式 =&gt; 搜索“space”=&gt;修改为自己的快捷键</p>
<h3 id="配置VSCode自动运行和调试ReactNative"><a href="#配置VSCode自动运行和调试ReactNative" class="headerlink" title="配置VSCode自动运行和调试ReactNative"></a>配置VSCode自动运行和调试ReactNative</h3><ul>
<li>安装“React Native Tools”插件；</li>
<li>点击调试 =&gt; 增加配置 =&gt; 选择“React Native:Debug Android” =&gt; 插入代码，如图：</li>
</ul>
<img src="/2018/05/17/ReactNativ开发IDE/vscode_1.png">
<p><code>查看 -- 打开视图 -- 调试</code> 打开调试视图，就可以看到 <code>Debug Android</code> 单击开始调试</p>
<h2 id="Top-2：Sublime-Text-3"><a href="#Top-2：Sublime-Text-3" class="headerlink" title="Top 2：Sublime Text 3"></a>Top 2：Sublime Text 3</h2><p>启动和关闭的速度简直快的像打开text文本一般，当装完插件之后也好用的可以上天</p>
<h3 id="下载-1"><a href="#下载-1" class="headerlink" title="下载"></a>下载</h3><h3 id="安装Package-Control"><a href="#安装Package-Control" class="headerlink" title="安装Package Control"></a>安装Package Control</h3><p>Win系统可以使用“Ctrl+`”快捷键或者通过View-&gt;Show Console菜单打开命令行，粘贴如下代码：</p>
<pre><code>import urllib.request,os; pf = &apos;Package Control.sublime-package&apos;; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); open(os.path.join(ipp, pf), &apos;wb&apos;).write(urllib.request.urlopen( &apos;http://sublime.wbond.net/&apos; + pf.replace(&apos; &apos;,&apos;%20&apos;)).read())
</code></pre><h3 id="安装需要用到的插件"><a href="#安装需要用到的插件" class="headerlink" title="安装需要用到的插件"></a>安装需要用到的插件</h3><p>打开Sublime Text3 ，Win系统可以使用快捷键CTRL+SHIFT+P 打开或者，点击菜单栏的“Preferences”–&gt;”Package Control”</p>
<p>打开的终端窗口，输入“install”,下方就会提示“Package Control:install package”,用鼠标点击，后输入要安装的插件：</p>
<ul>
<li>ReactJS：支持React开发，代码提示，高亮显示</li>
<li>Emmet：前端开发必备</li>
<li>Terminal：在sublime中打开终端并定位到当前目录</li>
<li>react-native-snippets：react native 的代码片段</li>
<li>JsFormat：格式化js代码</li>
</ul>
<p>其中要单独设置的是JsFormat可以设置为保存时自动格式化，设置如下：打开preferences -&gt; Package Settings -&gt; JsFormat -&gt; Setting - Users,输入以下代码：</p>
<pre><code>{

  &quot;e4x&quot;: true,

  // jsformat options

  &quot;format_on_save&quot;: true,

}
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="风" />
            
              <p class="site-author-name" itemprop="name">风</p>
              <p class="site-description motion-element" itemprop="description">随心而动，随刃而行</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">风</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
