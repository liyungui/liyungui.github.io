---
title: 多线程
date: 2019-06-24 16:31:53
categories:
  - Java
tags: 
	- Java
---

# wait notify notifyAll

- Object的本地final方法，无法被重写
- 一般在 **synchronized** 同步代码块里使用
- **wait**：阻塞当前线程(进入等待状态)，释放锁和CPU
- **notify**：唤醒一个等待线程(具体是哪个，取决于系统对多线程的管理)，继续执行下一条指令
- **notifyAll**：唤醒所有等待线程(具体顺序，取决于系统对多线程的管理)

```
synchronized (lock){
	//当前余额不满足需要，进行等待，直到满足条件
	while(now < need){
		try {
			//阻塞等待
			lock.wait();
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		System.out.println("我被唤醒了！");
	}
	// 消费
}
```

# 参考&扩展

- [Java多线程学习之wait、notify/notifyAll 详解](https://www.cnblogs.com/moongeek/p/7631447.html) 生产者-消费者
