---
title: UML概述
date: 2019-08-15 14:19:13
categories:
  - UML
tags:
  - UML
---

# UML

UML（Unified Modeling Language）统一建模语言

# 为什么用UML

文不如表，表不如图，图不如实（原型图）

文字的缺陷：大耳朵，长鼻子，獠牙--野猪还是小象

图表的缺陷：长方形--一块地还是一间房
	
# 如何学好UML
		
和学看图说话道理一样，记住两个要素：**节点和联系**

# UML工具

## 图形化操作

### 客户端

#### starUML
 
免费开源、小巧

#### rose 
		
收费破解 庞大 功能强大 漂亮 好用

#### visio

### web在线

#### ProcessOn

## 专门语法

### webChart

web在线

### PlantUML

不仅可以嵌套到各种文本编辑器，IDE，也提供在线版。
	
# UML的构造包含3种： #

- **事物**（4种）：事物是对模型中最具代表性的成分的抽象
	- 结构事物
	- 行为事物
	- 分组事物
	- 注释事物
- **关系**（4种）：关系把事物结合在一起
	- 泛化关系
	- 实现关系
	- 依赖关系
	- 关联关系
- **图**（10种）：图聚集了相关的事物
	- 用例图(UseCase)。用户(管理员、版主)行为(用户管理、帖子置顶)
	- 类图(Class)。类(用例图抽象成类)的结构及类间的关系
	- 对象图(Object)。某一时刻的类实例对象
	- 状态图(Statechart)。类实例对象的状态及状态改变的条件
	- 序列图(Sequence)。时序图，循序图。类实例对象按时间顺序的交互
	- 协作图(Collaboration)。类实例对象的组织关系和相互作用
	- 活动图(Activity)。流程图。控制流；一个用例所要进行的活动及活动间关系(用户刷卡：用户刷卡-系统输入刷卡额度-数据库更新表-系统显示刷卡成功)
	- 包图(Package)。java 中的package；可以理解为文件夹
	- 组件图(Component)。系统的物理结构及相互关系
	- 部署图(Deployment)。系统的物理部署(刷卡机，客户端，数据库服务器）

 
# 图（10种）
 
##  分类

|图|结构/行为|角度|
|---|---|---|
|用例图|行为(动态)|用例视图|
|类图|结构(静态)|设计视图|
|对象图|结构(静态)|设计视图|
|状态图|行为(动态)|进程视图|
|序列图|行为(动态)|进程视图|
|协作图|行为(动态)|进程视图|
|活动图|行为(动态)|进程视图|
|包图|结构(静态)|实现视图|
|组件图|结构(静态)|实现视图|
|部署图|结构(静态)|拓扑视图|

- 结构图：描述系统结构，是静态图
- 行为图：描述系统行为，是动态图
 
## 序列图

7种元素：角色(Actor)、对象(Object)、生命线(LifeLine)、控制焦点(Activation)、消息(Message)、自关联消息、组合片段

{% asset_img 时序图.png %}

### 角色(Actor)

系统角色，可以是人或者其他系统，子系统。以一个小人图标表示。

### 对象(Object)

对象位于时序图的顶部,以一个矩形表示。对象的命名方式一般有三种：

1. 对象名和类名。例如：华为手机:手机、loginServiceObject:LoginService。
2. 只显示类名，不显示对象，即为一个匿名类。例如：:手机、:LoginSservice。
3. 只显示对象名，不显示类名。例如：华为手机:、loginServiceObject:。

### 生命线(LifeLine)

时序图中每个对象和底部中心都有一条垂直的虚线，这就是对象的生命线(对象的时间线)。以一条垂直的虚线表。

### 控制焦点(Activation)

控制焦点代表时序图中在对象时间线上某段时期执行的操作。以一个很窄的矩形表示。

### 消息(Message)

表现代表对象之间发送的信息。消息分为三种类型。

- **同步消息**(Synchronous Message)
消息的发送者把控制传递给消息的接收者，然后停止活动，等待消息的接收者放弃或者返回控制。用来表示同步的意义。以一条**实线+实心箭头**表示。
- **异步消息**(Asynchronous Message)
消息发送者通过消息把信号传递给消息的接收者，然后继续自己的活动，不等待接受者返回消息或者控制。异步消息的接收者和发送者是并发工作的。以一条**实线+大于号**表示。
- **返回消息**(Return Message)
返回消息表示从过程调用返回。以**小于号+虚线**表示。

### 自关联消息

表示方法的自身调用或者一个对象内的一个方法调用另外一个方法。以一个**半闭合的长方形+下方实心剪头**表示。

## 活动图

- 一般活动图
- 带泳道的活动图
- 带对象流的活动图
# 关系（4种） #

UML 中类与类, 类与接口, 接口与接口这间的关系有: 

- 泛化(generalization) 关系
- 实现(realization)关系 
- 依赖(dependency)关系
- 关联(association)关系
	- 关联
	- 聚合(aggregation)
	- 合成/组合(composition)
 
## 泛化(generalization) ##

在Java中此类关系通过关键字 `extends` 明确标识

{% asset_img 101.jpg %}

## 实现(realization) ##
在Java中此类关系通过关键字 `implements` 明确标识

{% asset_img 102.jpg %}

# 依赖(dependency) #

类A使用到了类B

在java中依赖关系体现为: `局部变量, 方法中的参数, 和对静态方法的调用`

- 依赖关系总是单向的 
- 这种使用关系是具有偶然性的、、临时性的、非常弱的

{% asset_img 103.jpg %}
 
## 关联(association) ##

类A 有 成员变量类B

在java中关联关系是使用 `实例变量` 实现的

- 单箭头表示单向关联
- 双箭头或不使用箭头表示双向关联
	- 不建议使用双向关联
- 关联两个端点可以有一个基数, 表示这个关联的类可以有几个实例
	- 常见的基数及含义: 
		- 0..1:0 或1 个实例. 
		- 0..*: 对实例的数目没有限制. 
		- 1: 只能有一个实例. 
		- 1..*: 至少有一个实例.
- 一种长期性的强依赖关系		

{% asset_img 104.jpg %}
 
## 聚合(aggregation) ##

整体和个体之间has-a的关系，整体与部分之间是可分离的

- 他们可以具有各自的生命周期
- 部分可以属于多个整体对象，也可以为多个整体对象共享
- 比如计算机与CPU、公司与员工的关系等

在java中关联关系是使用 `实例变量` 实现的

- 语法上是分不出关联和聚合的，只能从语义级别来区分
	- 关联关系中两个类是处于相同的层次
	- 聚合关系中两不类是处于不平等的层次, 一个表示整体, 一个表示部分.

{% asset_img 105.jpg %}

## 组合(合成)(composition) ##

整体和个体之间contains-a的关系，整体与部分是不可分的

- 整体的生命周期结束也就意味着部分的生命周期结束
- 比如你和你的大脑；合成关系不能共享. 

这种关系比聚合更强，也称为**强聚合**

{% asset_img 106.jpg %}

一张图快速学会UML（聚合、组合、依赖、继承、接口、类）

{% asset_img uml.png %}

# 参考&扩展

- [UML图总结](https://www.jianshu.com/p/28200121a33d)
- [UML9种图的分类及运用](https://blog.csdn.net/qq_42758288/article/details/86620768)
- [UML关系](http://justsee.iteye.com/blog/808799)
- [UML时序图(Sequence Diagram)学习笔记](https://blog.csdn.net/fly_zxy/article/details/80911942)